/*! For license information please see spectrum-f6b334b6118f97722790.js.LICENSE.txt */
!function(e){function t(t){for(var n,o,r=t[0],a=t[1],s=0,l=[];s<r.length;s++)o=r[s],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&l.push(i[o][0]),i[o]=0;for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n]);for(c&&c(t);l.length;)l.shift()()}var n={},i={34:0};function o(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.e=function(e){var t=[],n=i[e];if(0!==n)if(n)t.push(n[2]);else{var r=new Promise((function(t,o){n=i[e]=[t,o]}));t.push(n[2]=r);var a,s=document.createElement("script");s.charset="utf-8",s.timeout=120,o.nc&&s.setAttribute("nonce",o.nc),s.src=function(e){return o.p+"js/"+({11:"i18n-cs-CZ-json",12:"i18n-da-DK-json",13:"i18n-de-DE-json",14:"i18n-en-US-json",15:"i18n-es-ES-json",16:"i18n-fi-FI-json",17:"i18n-fr-FR-json",18:"i18n-it-IT-json",19:"i18n-ja-JP-json",20:"i18n-ko-KR-json",21:"i18n-nb-NO-json",22:"i18n-nl-NL-json",23:"i18n-pl-PL-json",24:"i18n-pt-BR-json",25:"i18n-ru-RU-json",26:"i18n-sv-SE-json",27:"i18n-tr-TR-json",28:"i18n-zh-CN-json",29:"i18n-zh-TW-json",30:"i18n-zz-ZZ-json"}[e]||e)+"-"+{0:"cef0c5fb1ade87aa399a",1:"1ce86e4de664150245fe",2:"620fa72c84801b044773",3:"c688fa531b1ae4333755",4:"a8fce26ceb0a39b35c42",5:"fa969cf3a7917fb815a5",6:"9ff587f104b2bdf77e45",7:"c12abdf19c2dbb76865f",8:"60790b74064bd1d8e186",11:"c021a0631f76ba0c1b99",12:"3f4205f623ad0bcf550f",13:"739f9d4fcbf0e7c0cf46",14:"e7a0e99ddb0c70fd4491",15:"aa46fb048eb2237245db",16:"ff575efa4b9fe452435f",17:"9a02363256d2ac92fb44",18:"b2257da9669b0811a420",19:"75d098ad3956a23014d6",20:"dcf1b6c67e07eb21c6d4",21:"7d68e0edb7f147a9d9fd",22:"e9b066e679d84e3819fb",23:"4783bc722af4b2bc1291",24:"d5456f0475ea6901df16",25:"91c7b052e0b0fb8b64ca",26:"159898238f9d1e76d18f",27:"2c8238eff1b3485fb0be",28:"a5c65aec9dc41abc9b36",29:"10d2c434f2ee0bbad788",30:"45413ec811ad3362570c",40:"5c295fde1f73e5f75983",41:"eccfb09bbbe8e5cda856",42:"e056cc23f88fc4850517",46:"e8125436d4a0dd5bebbe",47:"a1513ead528e1b2608f1",48:"976571a6a4f9b03cbf67",49:"2729bf2115c44fb76afe",50:"f5b4cfe4c0925c16d20b"}[e]+".chunk.js"}(e);var c=new Error;a=function(t){s.onerror=s.onload=null,clearTimeout(l);var n=i[e];if(0!==n){if(n){var o=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;c.message="Loading chunk "+e+" failed.\n("+o+": "+r+")",c.name="ChunkLoadError",c.type=o,c.request=r,n[1](c)}i[e]=void 0}};var l=setTimeout((function(){a({type:"timeout",target:s})}),12e4);s.onerror=s.onload=a,document.head.appendChild(s)}return Promise.all(t)},o.m=e,o.c=n,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(n,i,function(t){return e[t]}.bind(null,i));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/packs/",o.oe=function(e){throw console.error(e),e};var r=window.webpackJsonp=window.webpackJsonp||[],a=r.push.bind(r);r.push=t,r=r.slice();for(var s=0;s<r.length;s++)t(r[s]);var c=a;o(o.s=1567)}({117:function(e,t){e.exports={login:function(e,t,n){i(e,"POST",n,"access_token="+t)},logout:function(e,t){i(e,"GET",t)}};var n=XMLHttpRequest.DONE||4;function i(e,t,i,o){var r=new XMLHttpRequest;r.onreadystatechange=function(){r.readyState==n&&200==r.status&&(r.responseText.trim()?i(JSON.parse(r.responseText)):i())},r.open(t,e,!0),"POST"==t&&r.setRequestHeader("Content-type","application/x-www-form-urlencoded"),r.setRequestHeader("X-CSRF-Token",function(){for(var e=document.getElementsByTagName("meta"),t=0;t<e.length;t++)if("csrf-token"==e[t].getAttribute("name"))return e[t].getAttribute("content")}()),r.setRequestHeader("X-Requested-With","XMLHttpRequest"),r.send(o)}},118:function(e,t,n){(function(t){var i=n(6);e.exports=FontLoader=function(){this._loadedFonts={},this._activeFonts={},this._fontsToLoad=[],this._callbacks={},this.maxConcurrentRequests=16,this._requestMap={},this._currentRequests=[],this._paused=!1,this._loadFontsToLoadTimeout=null},FontLoader.prototype.paused=function(e){this._paused=e,this._paused?clearTimeout(this._loadFontsToLoadTimeout):this._loadFontsToLoadTimeout=setTimeout(this._loadFontsToLoad.bind(this))},FontLoader.prototype.loadFont=function(e,t,n,i,o,r,a){window.Typekit.Font?this._loadedFonts[e]?this._activeFonts[e]?a&&a(!0):a&&this._addCallback(e,a):(this._loadedFonts[e]=+new Date,a&&this._addCallback(e,a),this._fontsToLoad.push({cssName:e,alias:t,fvd:n,unicodeRange:i,featureSettings:o,dynamic:r}),this._paused||(clearTimeout(this._loadFontsToLoadTimeout),this._loadFontsToLoadTimeout=setTimeout(this._loadFontsToLoad.bind(this)))):a(!1)},FontLoader.prototype._loadFontsToLoad=function(){if(!this._paused)for(;this._fontsToLoad.length>0&&this._currentRequests.length<this.maxConcurrentRequests;){var e=this._fontsToLoad.shift();this._loadFont(e.cssName,e.alias,e.fvd,e.unicodeRange,e.featureSettings,e.dynamic)}},FontLoader.prototype._loadFont=function(e,t,n,o,r,a){var s=this,c=i.uniqueId()+1;this._currentRequests.push(c),this._requestMap[e]=c,Typekit.user="tk",Typekit.token="UWiewzNGqfaXgl50sfTX597VqiNVO+VsJvzyIM5SabTjZinSwqaidRKypEX3LMfHdBUibNmD+PCRx/5yCXr4NA==";var l=n[1]+"00",u="n"===n[0]?"normal":"i"===n[0]?"italic":"oblique",d=new Typekit.Font(e,t,{weight:l,style:u,unicodeRange:o,featureSettings:r,dynamic:a});d.load().then((function(){Typekit.fonts.add(d),s.fontActive_(e,n)}),(function(){s.fontInactive_(e,n)}))},FontLoader.prototype.fontActive_=function(e,n){this._handleRequestReturned(e);var o=+new Date;this._loadedFonts[e];this._activeFonts[e]=o;var r=this._callbacks[e];delete this._callbacks[e],t.tk.GlobalFontEvents&&t.tk.GlobalFontEvents.fontActive(e,n),i.each(r,(function(e){e(!0)}))},FontLoader.prototype.fontInactive_=function(e,n){this._handleRequestReturned(e);delete this._loadedFonts[e],delete this._activeFonts[e];var o=this._callbacks[e];delete this._callbacks[e],t.tk.GlobalFontEvents&&t.tk.GlobalFontEvents.fontInactive(e,n),i.each(o,(function(e){e(!1)}))},FontLoader.prototype._handleRequestReturned=function(e){var t=!1,n=this._requestMap[e];return n&&(delete this._requestMap[e],(t=i.include(this._currentRequests,n))&&(this._currentRequests=i.without(this._currentRequests,n))),this._loadFontsToLoad(),t?n:null},FontLoader.prototype._addCallback=function(e,t){this._callbacks[e]||(this._callbacks[e]=[]),this._callbacks[e].push(t)}}).call(this,n(27))},119:function(e,t,n){var i=n(66);e.exports={init:function(e){return i.init(e),i.getAdobeId()}}},121:function(e,t,n){"use strict";n.r(t),n.d(t,"EVENT_NAME",(function(){return i})),n.d(t,"default",(function(){return o}));const i="af.filter-sidebar.search-param-changed";class o extends CustomEvent{constructor(e){super(i,{detail:{searchParam:e},bubbles:!0,composed:!0})}}o.EVENT_NAME=i},123:function(e,t,n){var i=n(6);e.exports={setTranslations:function(e){this._translations=e},t:function(e,t){var n=null;i.isUndefined(this._translations)||(n=this._translations[e]),n||(n=e),t=t||{};n=n.replace(/%\{(.+?)\}/g,(function(){return t[arguments[1]]||""}));return n},getTranslations:function(){return this._translations}}},131:function(e,t){},135:function(e,t,n){"use strict";n.r(t),n.d(t,"clearFlags",(function(){return i})),n.d(t,"disableFlag",(function(){return o})),n.d(t,"enableFlag",(function(){return r})),n.d(t,"isFlagEnabled",(function(){return s})),n.d(t,"isValidFlag",(function(){return c})),n.d(t,"loadFlagData",(function(){return a}));function i(){l().clear()}function o(e){return!!c(e)&&(l().set(e,!1),!0)}function r(e){return!!c(e)&&(l().set(e,!0),!0)}function a(e){Object.entries(e).forEach((([e,t])=>l().set(e,t.enabled)))}function s(e){return c(e)&&!!l().get(e)}function c(e){return l().has(e)}function l(){return window.__afs_flag_status}window.__afs_flag_status||(window.__afs_flag_status=new Map),a({ExampleFlag:{description:"This is a temporary example flag.",enabled:!1},EnableNewAddToWebProjectDialog:{description:"Enable the new web component based add to web projects dialog",enabled:!1},VariableFonts:{description:"Enable variable fonts",enabled:!1}})},151:function(e,t){e.exports={ADD_TO_WEB_PROJECT:"add_to_web_project"}},1567:function(e,t,n){"use strict";n.r(t),function(e){var t=n(135),i=n(76),o=n(267),r=n.n(o),a=n(319),s=n(320),c=n(321),l=n(322),u=n(323),d=n(324),f=n(255),p=n(7);r.a.setWebComponentsEnabled(!0),r.a.modules.add({addMessages:p.b,ClearFiltersEvent:a.a,FilterToggleEvent:s.a,FVDHelper:f,LanguageFilterToggleEvent:c.a,NumberOfFontsSliderEvent:l.a,ShowPaidFontsToggleEvent:u.a,TagToggleEvent:d.a}),e.tk={AdobePrivacy:n(227),FontLoader:n(118),I18n:n(123),ImsLib:n(119)};var h=Object(i.getData)("flipper-flags");h&&h.variableFonts&&Object(t.enableFlag)("VariableFonts"),h&&h.enableNewAddToWebProjectDialog&&Object(t.enableFlag)("EnableNewAddToWebProjectDialog"),n(131),n(1568),Promise.all([n.e(1),n.e(2)]).then(n.t.bind(null,378,7)).then((function(e){e.init()})),Promise.all([n.e(0),n.e(5),n.e(3),n.e(40),n.e(41)]).then(n.bind(null,584)).then((function(e){(0,e.initI18n)()}))}.call(this,n(27))},1568:function(e,t,n){n(18).module("NeueApp",[n(286),n(1569),n(1572),n(205),n(1574).name,n(1575)]).config(n(207)).controller("AddFontsToWebProjectController",n(1576)).controller("AdobeFontsFooterController",n(197)).controller("CollectionController",n(1577)).controller("DesignerController",n(1578)).controller("FamiliesController",n(1579)).controller("FamilyAutoCompleteSearchController",n(288)).controller("FamilyController",n(1580)).controller("FoundriesController",n(1581)).controller("FoundryController",n(1582)).controller("HeaderController",n(357)).controller("MarketplaceHeaderController",n(289)).controller("MarketplaceHomeController",n(290)).controller("MyFontsController",n(1583)).controller("NotificationController",n(209)).controller("RecommendationsController",n(1584)).controller("SearchResultsController",n(1585)).controller("SpectrumBrowseController",n(1586)).controller("VisualSearchesController",n(291)).controller("WebfontProjectSelectorController",n(1587)).controller("WebfontProjectStyleSelectorController",n(1588)).controller("WebfontProjectStylesController",n(1589)).directive("dropdownBase",n(381)).directive("dropdownBaseButton",n(383)).directive("dropdownBaseContent",n(384)).directive("dropdownBaseItem",n(385)).directive("feedbackIcons",n(401)).directive("largeWebProjectNotice",n(1590)).directive("spectrumDropdown",n(398)).directive("spectrumSlider",n(1592)).directive("tkAlignedSpecimen",n(400)).directive("tkSubsettingOptions",n(1594)).directive("tkWebProjectCard",n(1596)).directive("tkWebProjectDetails",n(1598)).directive("tkWebProjectDisplayFamily",n(1600)).directive("tkWebProjectEditorStyleSelector",n(1602)).directive("tkWebProjectEmbedCodeOptions",n(1604)).directive("tkWebProjectFamilyCard",n(1606)).directive("tkWebProjectList",n(1608)).directive("adobeFontsAutoComplete",n(1610)).directive("adobeFontsCarousel",n(1612)).directive("adobeFontsFiltersSidebar",n(1615)).directive("adobeFontsFontVariationList",n(1617)).directive("adobeFontsLocaleSwitcher",n(293)).directive("adobeFontsPangramMenu",n(1619)).directive("adobeFontsFontpackCardList",n(1621)).directive("adobeFontsFontpackCard",n(1623)).directive("adobeFontsFamilyImageCardList",n(1625)).directive("adobeFontsFamilyImageCard",n(1627)).directive("fontDisplayOptions",n(1629)).directive("fontFamilyAccordion",n(1631)).directive("fontPreview",n(1633)).directive("requiredActionToggle",n(1635)).directive("displayInFont",n(283)).directive("familyCard",n(1636)).directive("filteredFamilyList",n(1638)).directive("fontpackHero",n(386)).directive("fontpackHeroVariation",n(392)).directive("fontpackHeroZoomInButton",n(393)).directive("fontpackHeroZoomOutButton",n(394)).directive("fontpackHeroZoomResetButton",n(395)).directive("fontVariationCard",n(1640)).directive("fontPairingCard",n(1642)).directive("fontSizeControl",n(1644)).directive("foundryLogo",n(396)).directive("stickyNav",n(1645)).directive("tabNavigation",n(1647)).directive("tkPaginate",n(1649)).directive("viewTypeControl",n(1651)).directive("scrollEventHandler",n(1652)).factory("AddFontsToWebProjectService",n(217)).factory("AnalyticsService",n(295)).factory("AuthenticationService",n(169)).factory("DataService",n(165)).factory("DesignersService",n(1653)).factory("DialogService",n(212)).factory("FamiliesService",n(1654)).factory("FamilyAutocompleteSearchService",n(296)).factory("FavoritesService",n(1655)).factory("FeedbackService",n(297)).factory("FirstMileService",n(213)).factory("FilterDataService",n(1656)).factory("FilterVariationsService",n(1657)).factory("FilteredFamilyListStateService",n(1658)).factory("FloodgateService",n(298)).factory("FontCountService",n(299)).factory("FontLoaderService",n(201)).factory("FontpackService",n(1659)).factory("FoundriesService",n(1660)).factory("I18nService",n(166)).factory("ImsEventsService",n(198)).factory("MyFontsService",n(1661)).factory("NewrelicService",n(167)).factory("NewrelicClickTrackerService",n(300)).factory("NotificationService",n(214)).factory("OmnitureService",n(222)).factory("PostLoginActionCreatorService",n(170)).factory("PostLoginActionProcessorService",n(226)).factory("RecommendationsService",n(1662)).factory("RedirectContextService",n(301)).factory("VisualSearchService",n(1663)).factory("ScrollService",n(1664)).factory("SuspendedAccountService",n(215)).factory("SyncService",n(302)).factory("TagsService",n(1665)).factory("TkWebProjectEditorService",n(1666)).factory("UrlService",n(168)).factory("UserService",n(199)).factory("UserPrefsService",n(216)).factory("YouTubeService",n(1673)).run(n(208))},1569:function(e,t,n){n(18),n(1570),e.exports="duScroll"},1570:function(e,t,n){(function(e){var t=angular.module("duScroll",["duScroll.scrollspy","duScroll.smoothScroll","duScroll.scrollContainer","duScroll.spyContext","duScroll.scrollHelpers"]).value("duScrollDuration",350).value("duScrollSpyWait",100).value("duScrollSpyRefreshInterval",0).value("duScrollGreedy",!1).value("duScrollOffset",0).value("duScrollEasing",(function(e){"use strict";return e<.5?Math.pow(2*e,2)/2:1-Math.pow(2*(1-e),2)/2})).value("duScrollCancelOnEvents","scroll mousedown mousewheel touchmove keydown").value("duScrollBottomSpy",!1).value("duScrollActiveClass","active");e&&e.exports&&(e.exports=t),angular.module("duScroll.scrollHelpers",["duScroll.requestAnimation"]).run(["$window","$q","cancelAnimation","requestAnimation","duScrollEasing","duScrollDuration","duScrollOffset","duScrollCancelOnEvents",function(e,t,n,i,o,r,a,s){"use strict";var c,l,u={},d=function(e){return"undefined"!==typeof HTMLDocument&&e instanceof HTMLDocument||e.nodeType&&e.nodeType===e.DOCUMENT_NODE},f=function(e){return"undefined"!==typeof HTMLElement&&e instanceof HTMLElement||e.nodeType&&e.nodeType===e.ELEMENT_NODE},p=function(e){return f(e)||d(e)?e:e[0]};u.duScrollTo=function(t,n,i,o){var r;if(angular.isElement(t)?r=this.duScrollToElement:angular.isDefined(i)&&(r=this.duScrollToAnimated),r)return r.apply(this,arguments);var a=p(this);if(d(a))return e.scrollTo(t,n);a.scrollLeft=t,a.scrollTop=n},u.duScrollToAnimated=function(e,r,a,u){a&&!u&&(u=o);var d=this.duScrollLeft(),f=this.duScrollTop(),p=Math.round(e-d),h=Math.round(r-f),g=null,m=0,v=this,y=function(e){(!e||m&&e.which>0)&&(s&&v.unbind(s,y),n(c),l.reject(),c=null)};if(c&&y(),l=t.defer(),0===a||!p&&!h)return 0===a&&v.duScrollTo(e,r),l.resolve(),l.promise;var _=function(e){null===g&&(g=e);var t=(m=e-g)>=a?1:u(m/a);v.scrollTo(d+Math.ceil(p*t),f+Math.ceil(h*t)),t<1?c=i(_):(s&&v.unbind(s,y),c=null,l.resolve())};return v.duScrollTo(d,f),s&&v.bind(s,y),c=i(_),l.promise},u.duScrollToElement=function(e,t,n,i){var o=p(this);angular.isNumber(t)&&!isNaN(t)||(t=a);var r=this.duScrollTop()+p(e).getBoundingClientRect().top-t;return f(o)&&(r-=o.getBoundingClientRect().top),this.duScrollTo(0,r,n,i)},u.duScrollLeft=function(t,n,i){if(angular.isNumber(t))return this.duScrollTo(t,this.duScrollTop(),n,i);var o=p(this);return d(o)?e.scrollX||document.documentElement.scrollLeft||document.body.scrollLeft:o.scrollLeft},u.duScrollTop=function(t,n,i){if(angular.isNumber(t))return this.duScrollTo(this.duScrollLeft(),t,n,i);var o=p(this);return d(o)?e.scrollY||document.documentElement.scrollTop||document.body.scrollTop:o.scrollTop},u.duScrollToElementAnimated=function(e,t,n,i){return this.duScrollToElement(e,t,n||r,i)},u.duScrollTopAnimated=function(e,t,n){return this.duScrollTop(e,t||r,n)},u.duScrollLeftAnimated=function(e,t,n){return this.duScrollLeft(e,t||r,n)},angular.forEach(u,(function(e,t){angular.element.prototype[t]=e;var n=t.replace(/^duScroll/,"scroll");angular.isUndefined(angular.element.prototype[n])&&(angular.element.prototype[n]=e)}))}]),angular.module("duScroll.polyfill",[]).factory("polyfill",["$window",function(e){"use strict";var t=["webkit","moz","o","ms"];return function(n,i){if(e[n])return e[n];for(var o,r=n.substr(0,1).toUpperCase()+n.substr(1),a=0;a<t.length;a++)if(e[o=t[a]+r])return e[o];return i}}]),angular.module("duScroll.requestAnimation",["duScroll.polyfill"]).factory("requestAnimation",["polyfill","$timeout",function(e,t){"use strict";var n=0;return e("requestAnimationFrame",(function(e,i){var o=(new Date).getTime(),r=Math.max(0,16-(o-n)),a=t((function(){e(o+r)}),r);return n=o+r,a}))}]).factory("cancelAnimation",["polyfill","$timeout",function(e,t){"use strict";return e("cancelAnimationFrame",(function(e){t.cancel(e)}))}]),angular.module("duScroll.spyAPI",["duScroll.scrollContainerAPI"]).factory("spyAPI",["$rootScope","$timeout","$interval","$window","$document","scrollContainerAPI","duScrollGreedy","duScrollSpyWait","duScrollSpyRefreshInterval","duScrollBottomSpy","duScrollActiveClass",function(e,t,n,i,o,r,a,s,c,l,u){"use strict";var d={},f=function(n){var r=n.$id,c={spies:[]};return c.handler=function(n){var r=!1,c=!1,d=function(){c=!1;var t,r=n.container[0],s=0;if("undefined"!==typeof HTMLElement&&r instanceof HTMLElement||r.nodeType&&r.nodeType===r.ELEMENT_NODE)s=r.getBoundingClientRect().top,t=Math.round(r.scrollTop+r.clientHeight)>=r.scrollHeight;else{var d=o[0].body.scrollHeight||o[0].documentElement.scrollHeight;t=Math.round(i.pageYOffset+i.innerHeight)>=d}var f,p,h,g,m,v,y=l&&t?"bottom":"top";for(g=n.spies,p=n.currentlyActive,h=void 0,f=0;f<g.length;f++)(v=(m=g[f]).getTargetPosition())&&m.$element&&(l&&t||v.top+m.offset-s<20&&(a||-1*v.top+s)<v.height)&&(!h||h[y]<v[y])&&((h={spy:m})[y]=v[y]);h&&(h=h.spy),p===h||a&&!h||(p&&p.$element&&(p.$element.removeClass(u),e.$broadcast("duScrollspy:becameInactive",p.$element,angular.element(p.getTargetElement()))),h&&(h.$element.addClass(u),e.$broadcast("duScrollspy:becameActive",h.$element,angular.element(h.getTargetElement()))),n.currentlyActive=h)};return s?function(){r?c=!0:(d(),r=t((function(){r=!1,c&&d()}),s,!1))}:d}(c),d[r]=c,n.$on("$destroy",(function(){p(n)})),r},p=function(e){var t=e.$id,i=d[t],o=i.container;i.intervalPromise&&n.cancel(i.intervalPromise),o&&o.off("scroll",i.handler),delete d[t]},h=f(e),g=function(e){return d[e.$id]?d[e.$id]:e.$parent?g(e.$parent):d[h]},m=function(e){var t,n,i=e.$scope;if(i)return g(i);for(n in d)if(-1!==(t=d[n]).spies.indexOf(e))return t};return{addSpy:function(e){var t=m(e);t&&(t.spies.push(e),t.container&&function(e){for(;e.parentNode;)if((e=e.parentNode)===document)return!0;return!1}(t.container)||(t.container&&t.container.off("scroll",t.handler),t.container=r.getContainer(e.$scope),c&&!t.intervalPromise&&(t.intervalPromise=n(t.handler,c,0,!1)),t.container.on("scroll",t.handler).triggerHandler("scroll")))},removeSpy:function(t){var n=m(t);t===n.currentlyActive&&(e.$broadcast("duScrollspy:becameInactive",n.currentlyActive.$element),n.currentlyActive=null);var i=n.spies.indexOf(t);-1!==i&&n.spies.splice(i,1),t.$element=null},createContext:f,destroyContext:p,getContextForScope:g}}]),angular.module("duScroll.scrollContainerAPI",[]).factory("scrollContainerAPI",["$document",function(e){"use strict";var t={},n=function(e){return t[e.$id]?e.$id:e.$parent?n(e.$parent):void 0};return{getContainerId:n,getContainer:function(i){var o=n(i);return o?t[o]:e},setContainer:function(e,n){var i=e.$id;return t[i]=n,i},removeContainer:function(e){var i=n(e);i&&delete t[i]}}}]),angular.module("duScroll.smoothScroll",["duScroll.scrollHelpers","duScroll.scrollContainerAPI"]).directive("duSmoothScroll",["duScrollDuration","duScrollOffset","scrollContainerAPI",function(e,t,n){"use strict";return{link:function(i,o,r){o.on("click",(function(o){if(r.href&&-1!==r.href.indexOf("#")||""!==r.duSmoothScroll){var a=r.href?r.href.replace(/.*(?=#[^\s]+$)/,"").substring(1):r.duSmoothScroll,s=document.getElementById(a)||document.getElementsByName(a)[0];if(s&&s.getBoundingClientRect){o.stopPropagation&&o.stopPropagation(),o.preventDefault&&o.preventDefault();var c=r.offset?parseInt(r.offset,10):t,l=r.duration?parseInt(r.duration,10):e;n.getContainer(i).duScrollToElement(angular.element(s),isNaN(c)?0:c,isNaN(l)?0:l)}}}))}}}]),angular.module("duScroll.spyContext",["duScroll.spyAPI"]).directive("duSpyContext",["spyAPI",function(e){"use strict";return{restrict:"A",scope:!0,compile:function(t,n,i){return{pre:function(t,n,i,o){e.createContext(t)}}}}}]),angular.module("duScroll.scrollContainer",["duScroll.scrollContainerAPI"]).directive("duScrollContainer",["scrollContainerAPI",function(e){"use strict";return{restrict:"A",scope:!0,compile:function(t,n,i){return{pre:function(t,n,i,o){i.$observe("duScrollContainer",(function(i){angular.isString(i)&&(i=document.getElementById(i)),i=angular.isElement(i)?angular.element(i):n,e.setContainer(t,i),t.$on("$destroy",(function(){e.removeContainer(t)}))}))}}}}}]),angular.module("duScroll.scrollspy",["duScroll.spyAPI"]).directive("duScrollspy",["spyAPI","duScrollOffset","$timeout","$rootScope",function(e,t,n,i){"use strict";var o=function(e,t,n,i){angular.isElement(e)?this.target=e:angular.isString(e)&&(this.targetId=e),this.$scope=t,this.$element=n,this.offset=i};return o.prototype.getTargetElement=function(){return!this.target&&this.targetId&&(this.target=document.getElementById(this.targetId)||document.getElementsByName(this.targetId)[0]),this.target},o.prototype.getTargetPosition=function(){var e=this.getTargetElement();if(e)return e.getBoundingClientRect()},o.prototype.flushTargetCache=function(){this.targetId&&(this.target=void 0)},{link:function(r,a,s){var c,l=s.ngHref||s.href;if(l&&-1!==l.indexOf("#")?c=l.replace(/.*(?=#[^\s]+$)/,"").substring(1):s.duScrollspy?c=s.duScrollspy:s.duSmoothScroll&&(c=s.duSmoothScroll),c){var u=n((function(){var n=new o(c,r,a,-(s.offset?parseInt(s.offset,10):t));e.addSpy(n),r.$on("$locationChangeSuccess",n.flushTargetCache.bind(n));var l=i.$on("$stateChangeSuccess",n.flushTargetCache.bind(n));r.$on("$destroy",(function(){e.removeSpy(n),l()}))}),0,!1);r.$on("$destroy",(function(){n.cancel(u)}))}}}}])}).call(this,n(1571)(e))},1571:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},1572:function(e,t,n){n(1573),e.exports="ngTouch"},1573:function(e,t){!function(e,t,n){"use strict";var i=t.module("ngTouch",[]);function o(e,n,o){i.directive(e,["$parse","$swipe",function(i,r){return function(a,s,c){var l,u,d=i(c[e]);var f=["touch"];t.isDefined(c.ngSwipeDisableMouse)||f.push("mouse"),r.bind(s,{start:function(e,t){l=e,u=!0},cancel:function(e){u=!1},end:function(e,t){(function(e){if(!l)return!1;var t=Math.abs(e.y-l.y),i=(e.x-l.x)*n;return u&&t<75&&i>0&&i>30&&t/i<.3})(e)&&a.$apply((function(){s.triggerHandler(o),d(a,{$event:t})}))}},f)}}])}i.factory("$swipe",[function(){var e={mouse:{start:"mousedown",move:"mousemove",end:"mouseup"},touch:{start:"touchstart",move:"touchmove",end:"touchend",cancel:"touchcancel"}};function n(e){var t=e.originalEvent||e,n=t.touches&&t.touches.length?t.touches:[t],i=t.changedTouches&&t.changedTouches[0]||n[0];return{x:i.clientX,y:i.clientY}}function i(n,i){var o=[];return t.forEach(n,(function(t){var n=e[t][i];n&&o.push(n)})),o.join(" ")}return{bind:function(e,t,o){var r,a,s,c,l=!1;o=o||["mouse","touch"],e.on(i(o,"start"),(function(e){s=n(e),l=!0,r=0,a=0,c=s,t.start&&t.start(s,e)}));var u=i(o,"cancel");u&&e.on(u,(function(e){l=!1,t.cancel&&t.cancel(e)})),e.on(i(o,"move"),(function(e){if(l&&s){var i=n(e);if(r+=Math.abs(i.x-c.x),a+=Math.abs(i.y-c.y),c=i,!(r<10&&a<10))return a>r?(l=!1,void(t.cancel&&t.cancel(e))):(e.preventDefault(),void(t.move&&t.move(i,e)))}})),e.on(i(o,"end"),(function(e){l&&(l=!1,t.end&&t.end(n(e),e))}))}}}]),i.config(["$provide",function(e){e.decorator("ngClickDirective",["$delegate",function(e){return e.shift(),e}])}]),i.directive("ngClick",["$parse","$timeout","$rootElement",function(e,n,i){var o,r,a,s="ng-click-active";function c(e,t,n){for(var i=0;i<e.length;i+=2)if(o=e[i],r=e[i+1],a=t,s=n,Math.abs(o-a)<25&&Math.abs(r-s)<25)return e.splice(i,i+2),!0;var o,r,a,s;return!1}function l(e){if(!(Date.now()-o>2500)){var n,i=e.touches&&e.touches.length?e.touches:[e],s=i[0].clientX,l=i[0].clientY;if(!(s<1&&l<1))if(!a||a[0]!==s||a[1]!==l)a&&(a=null),"label"===(n=e.target,t.lowercase(n.nodeName||n[0]&&n[0].nodeName))&&(a=[s,l]),c(r,s,l)||(e.stopPropagation(),e.preventDefault(),e.target&&e.target.blur&&e.target.blur())}}function u(e){var t=e.touches&&e.touches.length?e.touches:[e],i=t[0].clientX,o=t[0].clientY;r.push(i,o),n((function(){for(var e=0;e<r.length;e+=2)if(r[e]==i&&r[e+1]==o)return void r.splice(e,e+2)}),2500,!1)}return function(n,a,d){var f,p,h,g,m=e(d.ngClick),v=!1;function y(){v=!1,a.removeClass(s)}a.on("touchstart",(function(e){v=!0,3==(f=e.target?e.target:e.srcElement).nodeType&&(f=f.parentNode),a.addClass(s),p=Date.now();var t=e.originalEvent||e,n=(t.touches&&t.touches.length?t.touches:[t])[0];h=n.clientX,g=n.clientY})),a.on("touchcancel",(function(e){y()})),a.on("touchend",(function(e){var n=Date.now()-p,s=e.originalEvent||e,m=(s.changedTouches&&s.changedTouches.length?s.changedTouches:s.touches&&s.touches.length?s.touches:[s])[0],_=m.clientX,b=m.clientY,S=Math.sqrt(Math.pow(_-h,2)+Math.pow(b-g,2));v&&n<750&&S<12&&(!function(e,t){r||(i[0].addEventListener("click",l,!0),i[0].addEventListener("touchstart",u,!0),r=[]),o=Date.now(),c(r,e,t)}(_,b),f&&f.blur(),t.isDefined(d.disabled)&&!1!==d.disabled||a.triggerHandler("click",[e])),y()})),a.onclick=function(e){},a.on("click",(function(e,t){n.$apply((function(){m(n,{$event:t||e})}))})),a.on("mousedown",(function(e){a.addClass(s)})),a.on("mousemove mouseup",(function(e){a.removeClass(s)}))}}]),o("ngSwipeLeft",-1,"swipeleft"),o("ngSwipeRight",1,"swiperight")}(window,window.angular)},1574:function(e,t,n){var i,o,r;o=[n(18)],void 0===(r="function"===typeof(i=function(e){return e.module("angular-clipboard",[]).factory("clipboard",["$document","$window",function(e,t){function n(n,i){var o=e[0].createElement("textarea");return o.style.position="absolute",o.style.fontSize="12pt",o.style.border="0",o.style.padding="0",o.style.margin="0",o.style.left="-10000px",o.style.top=(t.pageYOffset||e[0].documentElement.scrollTop)+"px",o.textContent=n,o}function i(t){try{e[0].body.style.webkitUserSelect="initial";var n=e[0].getSelection();n.removeAllRanges();var i=document.createRange();i.selectNodeContents(t),n.addRange(i),t.select(),t.setSelectionRange(0,999999);try{if(!e[0].execCommand("copy"))throw"failure copy"}finally{n.removeAllRanges()}}finally{e[0].body.style.webkitUserSelect=""}}function o(o,r){var a=t.pageXOffset||e[0].documentElement.scrollLeft,s=t.pageYOffset||e[0].documentElement.scrollTop,c=r&&r.container||e[0].body,l=n(o,r);c.appendChild(l),i(l),t.scrollTo(a,s),c.removeChild(l)}return{copyText:o,supported:"queryCommandSupported"in e[0]&&e[0].queryCommandSupported("copy")}}]).directive("clipboard",["clipboard",function(t){return{restrict:"A",scope:{onCopied:"&",onError:"&",text:"=",supported:"=?"},link:function(n,i){n.supported=t.supported,i.on("click",(function(o){try{t.copyText(n.text,i[0]),e.isFunction(n.onCopied)&&n.$evalAsync(n.onCopied())}catch(r){e.isFunction(n.onError)&&n.$evalAsync(n.onError({err:r}))}}))}}}])})?i.apply(t,o):i)||(e.exports=r)},1575:function(e,t,n){angular.module("infinite-scroll",[]).value("THROTTLE_MILLISECONDS",null).directive("infiniteScroll",["$rootScope","$window","$interval","THROTTLE_MILLISECONDS",function(e,t,n,i){return{scope:{infiniteScroll:"&",infiniteScrollContainer:"=",infiniteScrollDistance:"=",infiniteScrollDisabled:"=",infiniteScrollUseDocumentBottom:"=",infiniteScrollListenForEvent:"@"},link:function(o,r,a){var s,c,l,u,d,f,p,h,g,m,v,y,_,b,S,w,$,C;return C=angular.element(t),b=null,S=null,l=null,u=null,v=!0,$=!1,w=null,c=!1,m=function(e){return e=e[0]||e,isNaN(e.offsetHeight)?e.document.documentElement.clientHeight:e.offsetHeight},y=function(e){if(e[0].getBoundingClientRect&&!e.css("none"))return e[0].getBoundingClientRect().top+_(e)},_=function(e){return e=e[0]||e,isNaN(window.pageYOffset)?e.document.documentElement.scrollTop:e.ownerDocument.defaultView.pageYOffset},g=function(){var t,i,a;return u===C?(t=m(u)+_(u[0].document.documentElement),a=y(r)+m(r)):(t=m(u),i=0,void 0!==y(u)&&(i=y(u)),a=y(r)-i+m(r)),$&&(a=m((r[0].ownerDocument||r[0].document).documentElement)),a-t<=m(u)*b+1?(l=!0,S?o.$$phase||e.$$phase?o.infiniteScroll():o.$apply(o.infiniteScroll):void 0):(c&&n.cancel(c),l=!1)},null!=i&&(g=function(e,t){var i,o,r;return r=null,o=0,i=function(){return o=(new Date).getTime(),n.cancel(r),r=null,e.call()},function(){var a,s;return a=(new Date).getTime(),(s=t-(a-o))<=0?(n.cancel(r),r=null,o=a,e.call()):r?void 0:r=n(i,s,1)}}(g,i)),o.$on("$destroy",(function(){if(u.unbind("scroll",g),null!=w&&(w(),w=null),c)return n.cancel(c)})),p=function(e){return b=parseFloat(e)||0},o.$watch("infiniteScrollDistance",p),p(o.infiniteScrollDistance),f=function(e){if((S=!e)&&l)return l=!1,g()},o.$watch("infiniteScrollDisabled",f),f(o.infiniteScrollDisabled),h=function(e){return $=e},o.$watch("infiniteScrollUseDocumentBottom",h),h(o.infiniteScrollUseDocumentBottom),(s=function(e){if(null!=u&&u.unbind("scroll",g),u=e,null!=e)return u.bind("scroll",g)})(C),o.infiniteScrollListenForEvent&&(w=e.$on(o.infiniteScrollListenForEvent,g)),d=function(e){if(null!=e&&0!==e.length){if(e.nodeType&&1===e.nodeType?e=angular.element(e):"function"===typeof e.append?e=angular.element(e[e.length-1]):"string"===typeof e&&(e=angular.element(document.querySelector(e))),null!=e)return s(e);throw new Error("invalid infinite-scroll-container attribute.")}},o.$watch("infiniteScrollContainer",d),d(o.infiniteScrollContainer||[]),null!=a.infiniteScrollParent&&s(angular.element(r.parent())),null!=a.infiniteScrollImmediateCheck&&(v=o.$eval(a.infiniteScrollImmediateCheck)),c=n((function(){return v&&g(),n.cancel(c)}))}}}]),e.exports===t&&(e.exports="infinite-scroll")},1576:function(e,t){function n(e){this.addFontsToWebProjectModel=e.getAddFontsToWebProjectModel()}n.$inject=["AddFontsToWebProjectService"],n.prototype.getEmbedCodeModel=function(){return this.addFontsToWebProjectModel.getEmbedCodeModel()},n.prototype.doFamiliesExistInProject=function(){return this.addFontsToWebProjectModel.doFamiliesExistInProject()},n.prototype.getAllButLastExistingFamiliesInProject=function(){return this.addFontsToWebProjectModel.getExistingFamiliesInProject().slice(0,-1)},n.prototype.getLastExistingFamilyInProject=function(){return this.addFontsToWebProjectModel.getExistingFamiliesInProject().slice(-1)[0]},n.prototype.getNumberOfExistingFamiliesInProject=function(){return this.addFontsToWebProjectModel.getExistingFamiliesInProject().length},n.prototype.isFamilyCJK=function(){return this.addFontsToWebProjectModel.isFamilyCJK()},n.prototype.isExistingProjectSelected=function(){return Boolean(this.addFontsToWebProjectModel.getSelectedProjectID())},n.prototype.getSelectedProjectName=function(){return this.addFontsToWebProjectModel.getSelectedProjectName()},n.prototype.didSaveSucceed=function(){return this.addFontsToWebProjectModel.didSaveSucceed()},n.prototype.isSaveButtonDisabled=function(){return this.addFontsToWebProjectModel.didAttemptSave()||!this.addFontsToWebProjectModel.isSaveValid()},n.prototype.handleSaveButtonClicked=function(){if(this.isSaveButtonDisabled()){var e=document.querySelector("#webfont-project-selector-search-box");e&&e.focus()}else this.addFontsToWebProjectModel.save()},n.prototype.handleCancelButtonClicked=function(){this.addFontsToWebProjectModel.closeDialog()},n.prototype.getAddedFontsCount=function(){return this.addFontsToWebProjectModel.getAddedFontsCount()},n.prototype.getAddedToProjectName=function(){return this.addFontsToWebProjectModel.getAddedToProjectName()},n.prototype.getAddedToProjectEditorLink=function(){return this.addFontsToWebProjectModel.getAddedToProjectEditorLink()},n.prototype.handleDoneButtonClicked=function(){this.addFontsToWebProjectModel.closeDialog()},e.exports=n},1577:function(e,t,n){r.$inject=["$scope","$q","$timeout","DataService","DialogService","FilteredFamilyListStateService","FontLoaderService","FontpackService","NewrelicClickTrackerService","NotificationService","SyncService"];var i=n(6),o=n(268).hasPaidCreativeCloud;function r(e,t,n,i,o,r,a,s,c,l,u){var d=this;d.$scope=e,d.$q=t,d.$timeout=n,d.DataService=i,d.DialogService=o,d.FilteredFamilyListStateService=r,d.FontLoaderService=a,d.FontpackService=s,d.NotificationService=l,d.SyncService=u,c.init({page:"collections"}),d.viewType="list",d.$scope.$watch(d.fontpack),d._preloadData()}r.prototype.getDisplayFont=function(e){var t=this.textSampleData.textSamples[e.default_language].feature_settings,n=this.textSampleData.textSamples[e.default_language].kana_only,i=this.textSampleData.textSamples[e.default_language].unicode_range;return{cssName:e.css_name,featureSettings:t,fvd:e.fvd,isDynamic:!0,kanaOnly:n,opaqueId:e.opaque_id,unicodeRange:i}},r.prototype.getExampleText=function(e){return i.isEmpty(e)||this._isSelectedExampleTextSupported(e)?this.exampleText.value:this.textSampleData.textSamples[e.default_language].list},r.prototype.getExampleTextStyle=function(){return{fontSize:this.exampleText.size+"px"}},r.prototype.getHeroCardExampleText=function(e){var t=this.textSampleData.textSamples[e.default_language||"en"];return t.kana_only?t.grid_kana:t.grid},r.prototype.getHeroCardExampleTextClass=function(e){return"ja"===e.default_language?"collection-show__hero-variation-sample-japanese":"collection-show__hero-variation-sample"},r.prototype.getTextDirectionClass=function(e){return e.rtl?"sample-right":""},r.prototype.handleUnsyncButtonClick=function(e){this.FontpackService.unsyncFontpack(this.fontpack,e,this.i18n)},r.prototype.isFontpackSynced=function(){return this.FontpackService.isFontpackSynced(this.fontpack.slug)},r.prototype.isGetFontsButtonVisible=function(){return!this.requiresUpgrade()&&!this.isFontpackSynced()},r.prototype.isUnsyncFontsButtonVisible=function(){return this.isFontpackSynced()},r.prototype.requiresUpgrade=function(){return this.FontpackService.requiresUpgrade(this.fontpack.slug)},r.prototype.isUpgradeMessageAvailable=function(){return this.requiresUpgrade()&&!o()},r.prototype.isNotAvailableMessageVisible=function(){return this.requiresUpgrade()&&!this.isUpgradeMessageAvailable()},r.prototype.shouldShowGridView=function(){return"grid"===this.viewType},r.prototype.shouldShowListView=function(){return"list"===this.viewType},r.prototype.syncFontpack=function(e){this.FontpackService.syncFontpack(this.fontpack,e,this.i18n)},r.prototype.updateFonts=function(){this.FontLoaderService.updateFonts(this.exampleText.value)},r.prototype._isSelectedExampleTextSupported=function(e){var t=i.map(e.unicode_range.split(","),(function(e){return String.fromCharCode(parseInt(e.replace("U+",""),16))})),n=this.exampleText.value.split(""),o=i.difference(n,t);return i.isEmpty(o)},r.prototype._preloadData=function(){var e=this;return e.$q.all([e.DataService.get("/preloaded_collection_data").then((function(t){e.fontpack=t.fontpack,e.groups=t.fontpack.group_metadata,e.items=t.fontpack.font_variations,e.textSampleData=t.textSampleData,e._setExampleText(),e.FontpackService.addFontpacks([e.fontpack])})),e.DataService.get("/fontpack/i18n").then((function(t){e.i18n=t}))])},r.prototype._setExampleText=function(){var e=this,t=i.first(i.uniq(i.pluck(e.items||[],"default_language")))||"en",n=e.textSampleData.textSamples[t];e.exampleText={value:n.kana_only?n.list_kana:n.list,size:36},e.featureSettings=n.feature_settings,e.unicodeRange=n.unicode_range},e.exports=r},1578:function(e,t){function n(e,t,n,i,o,r){this.$q=e,this.DataService=t,this.FilterDataService=i,this.DesignersService=n,this.FilteredFamilyListStateService=o,this.UserPrefsService=r,this._preloadData()}n.$inject=["$q","DataService","DesignersService","FilterDataService","FilteredFamilyListStateService","UserPrefsService"],n.prototype._preloadData=function(){var e=this;return e.$q.all([e.UserPrefsService.getUserPrefs().then((function(t){e.DataService.get("/neue/preloaded_designer_data").then((function(n){e.filteredFamilyList=e.FilteredFamilyListStateService.getState(null,t),e.filteredFamilyList.families=n.familiesData.families,e.filteredFamilyList.totalFamilies=n.familiesData.totalFamilies,e.filteredFamilyList.totalPages=n.familiesData.totalPages,e.designerSlug=n.designerSlug,e.textSampleData=n.textSampleData,e.filtersModel=e.FilterDataService.getFilterModel()}))}))])},n.prototype.updateFilteredFamilyList=function(){var e=this;e.filtersModel.setCurrentPage(e.filteredFamilyList.currentPage),e.DesignersService.getFamilies(e.designerSlug,e.filtersModel.toSearchParams()).then((function(t){e.filteredFamilyList.families=t.data.families_data.families,e.filteredFamilyList.totalFamilies=t.data.families_data.totalFamilies,e.filteredFamilyList.totalPages=t.data.families_data.totalPages,e.textSampleData.textSamplePrimers=t.data.text_sample_primers})),e.FilteredFamilyListStateService.updateState(e.filteredFamilyList)},e.exports=n},1579:function(e,t,n){f.$inject=["$cookies","$document","$scope","$timeout","$window","DataService","FamiliesService","FeedbackService","FilterDataService","FilteredFamilyListStateService","I18nService","NewrelicClickTrackerService","NewrelicService","NotificationService","ScrollService","TagsService","UserPrefsService"];var i=n(355),o=n(6),r=n(18),a=n(267),s=n(76),c=n(268),l=c.hasPaidCreativeCloud,u=c.getUserInfoSync,d={"art-deco":"neue.browse.seo_tag_header_text.art_deco.seo_blurb",blackletter:"neue.browse.seo_tag_header_text.blackletter.seo_blurb","brush-pen":"neue.browse.seo_tag_header_text.brush_pen.seo_blurb",calligraphic:"neue.browse.seo_tag_header_text.calligraphic.seo_blurb",clean:"neue.browse.seo_tag_header_text.clean.seo_blurb",college:"neue.browse.seo_tag_header_text.college.seo_blurb",comic:"neue.browse.seo_tag_header_text.comic.seo_blurb",cursive:"neue.browse.seo_tag_header_text.cursive.seo_blurb",friendly:"neue.browse.seo_tag_header_text.friendly.seo_blurb",fun:"neue.browse.seo_tag_header_text.fun.seo_blurb",funky:"neue.browse.seo_tag_header_text.funky.seo_blurb",futuristic:"neue.browse.seo_tag_header_text.futuristic.seo_blurb",geometric:"neue.browse.seo_tag_header_text.geometric.seo_blurb",horror:"neue.browse.seo_tag_header_text.horror.seo_blurb",inline:"neue.browse.seo_tag_header_text.inline.seo_blurb",luxury:"neue.browse.seo_tag_header_text.luxury.seo_blurb",marker:"neue.browse.seo_tag_header_text.marker.seo_blurb",ornaments:"neue.browse.seo_tag_header_text.ornaments.seo_blurb",rough:"neue.browse.seo_tag_header_text.rough.seo_blurb",rounded:"neue.browse.seo_tag_header_text.rounded.seo_blurb",school:"neue.browse.seo_tag_header_text.school.seo_blurb",shaded:"neue.browse.seo_tag_header_text.shaded.seo_blurb",stencil:"neue.browse.seo_tag_header_text.stencil.seo_blurb",typewriter:"neue.browse.seo_tag_header_text.typewriter.seo_blurb",wedding:"neue.browse.seo_tag_header_text.wedding.seo_blurb",western:"neue.browse.seo_tag_header_text.western.seo_blurb"};function f(e,t,n,i,a,s,c,l,u,d,f,p,h,g,m,v,y){var _=this;_.$cookies=e,_.$document=t,_.$scope=n,_.$window=a,_.DataService=s,_.FamiliesService=c,_.FeedbackService=l,_.FilterDataService=u,_.FilteredFamilyListStateService=d,_.I18nService=f,_.NewrelicService=h,_.NotificationService=g,_.ScrollService=m,_.TagsService=v,_.UserPrefsService=y,p.init({page:"browse"}),_._preloadData(),_._initWindowSizeWatcher(),i((function(){_.updateFilterListVisibilityForWindowSize()})),_._handleFiltersChangeWithDebounce=o.debounce(r.bind(_,_._handleFiltersChangeWithoutDebounce),100)}f.prototype.getTagBackgroundClass=function(){if(this.filtersModel){var e=this.filtersModel.toSearchParams().tag;if(e)return this.TagsService.TAG_BACKGROUND_CLASS_MAP[e]}},f.prototype.getTagHeaderCopy=function(){var e=this;if(e._i18n&&this.filtersModel){var t=this.filtersModel.toSearchParams().tag;if(t){var n=o.find(this.filtersModel.getTags()||[],(function(e){return e.key===t}));if(n){var i=d[t];if(i)return e.I18nService.getMessage(e._i18n,i,{family_count:this.filteredFamilyList.totalFamilies,tag_name:n.label})}}}},f.prototype.getTagHeaderFontDisplayData=function(){if(this.shouldShowDisplayFont()){var e=this.getTagHeaderTagData();if(e)return this.filtersModel.getFontDisplayData(e)}},f.prototype.getTagHeaderTagData=function(){if(this.filtersModel){var e=this.filtersModel.toSearchParams().tag;if(e)return this.filtersModel.getTagByKey(e)}},f.prototype.getTagHeaderLabel=function(){var e=this.getTagHeaderTagData();if(e)return e.label},f.prototype.handleFilteredFamilyListUserPrefsChange=function(){this.UserPrefsService.updatePrefs(this.filteredFamilyList)},f.prototype.handleFilteredFamilyListChange=function(){this.filtersModel.setCurrentPage(this.filteredFamilyList.currentPage),this.handleFiltersChange()},f.prototype.handleFiltersChange=function(){this.filtersModel.setLoading(!0),this._handleFiltersChangeWithDebounce()},f.prototype.isBrowseModeSelected=function(e){return this.filtersModel&&this.filtersModel.getBrowseMode()==e.id},f.prototype.isFilterListHidden=function(){return this._isFilterListHiddenByUser||this._isFilterListHiddenForSmallScreen},f.prototype.isTagHeaderVisible=function(){if(this.filtersModel){if(this.filtersModel.toSearchParams().font_technology)return!1;var e=this.filtersModel.toSearchParams().tag;return!!e&&!!this.TagsService.TAG_BACKGROUND_CLASS_MAP[e]}},f.prototype.isVfHeaderVisible=function(){if(this.filtersModel){var e=this.filtersModel.toSearchParams().font_technology;return!!e&&"vf"===e}},f.prototype.shouldShowDisplayFont=function(){var e=this.getTagHeaderTagData();if(e)return!!e.font&&!["ja_JP","ko_KR","ru_RU","zh_CN","zh_TW"].includes(this.filtersModel.getLocale())},f.prototype.toggleFilters=function(){this._isFilterListHiddenByUser=!this.isFilterListHidden(),this._isFilterListHiddenForSmallScreen=!1},f.prototype.toggleTagFeedbackNotification=function(){var e=this;e.DataService.get("/tag_feedback_notification/i18n").then((function(t){e.UserPrefsService.getUserPrefs().then((function(n){!n.hideTagFeedbackNotification&&e.filtersModel.isAnyTagSelected()&&e.filteredFamilyList.totalFamilies>0&&!e.filtersModel.isLoading()?e.NotificationService.addFeedbackNotification(t["neue.browse.tag_feedback_notification"],{category:"tag",skipTimeout:!0,tooltipText:t["neue.families.tag_feedback.family_tooltip"]}):e.NotificationService.removeFeedbackNotification()}))}))},f.prototype.updateFilterListVisibilityForWindowSize=function(){var e=this;e._getWindowWidth()!=e._previousWindowWidth&&(e._previousWindowWidth=e._getWindowWidth(),e.$scope.$apply((function(){e._isFilterListHiddenForSmallScreen=e._getWindowWidth()<=880})))},f.prototype._handleFiltersChangeWithoutDebounce=function(){var e=this,t=this.filtersModel.toSearchParams();e.FamiliesService.get(t).then((function(t){e.filteredFamilyList.families=t.data.families_data.families,e.filteredFamilyList.totalFamilies=t.data.families_data.totalFamilies,e.filteredFamilyList.totalPages=t.data.families_data.totalPages,e.filteredFamilyList.familyCountMessage=t.data.families_data.familyCountMessage,e.textSampleData=t.data.text_sample_data,e.toggleTagFeedbackNotification(),e.filtersModel.setLoading(!1)})),e.filteredFamilyList.currentPage=e.filtersModel.getCurrentPage(),e.filteredFamilyList.browseMode=e.filtersModel.getBrowseMode(),e.FilteredFamilyListStateService.updateUrl(t),e.toggleTagFeedbackNotification(),e.FeedbackService.setFiltersModel(this.filtersModel)},f.prototype._initWindowSizeWatcher=function(){var e=this;e.$window.addEventListener("resize",(function(){e.isFilterListHiddenByUser||e.updateFilterListVisibilityForWindowSize()}))},f.prototype._setLanguageFilters=function(e){var t=this;t.filteredFamilyList.selectedLanguages.length>0?t.filteredFamilyList.selectedLanguages.forEach((function(e){t.filtersModel.selectLanguageMode(e)})):"default"===e?t.filtersModel.setBrowseMode(e):"japanese"===e?t.filtersModel.selectLanguageMode("ja"):t.filtersModel.selectLanguageMode(e)},f.prototype._preloadData=function(){var e=this;e.UserPrefsService.getUserPrefs().then((function(t){e.DataService.get("/families/i18n").then((function(t){e._i18n=t})),e.DataService.get("/neue/preloaded_family_data").then((function(n){e.filteredFamilyList=e.FilteredFamilyListStateService.getState(n.user,t),e.filteredFamilyList.families=n.familiesData.families,e.filteredFamilyList.totalFamilies=n.familiesData.totalFamilies,e.filteredFamilyList.totalPages=n.familiesData.totalPages,e.textSampleData=n.textSampleData,e.filtersModel=e.FilterDataService.getFilterModel({allFilters:n.familyFilters,collection:e.filteredFamilyList.collection,filterData:n.familyFilterData,hideLibraryOption:l(),isTagsModuleVisible:n.isTagsModuleVisible,languages:n.languageFilters,locale:n.locale,tags:n.tagsFilters,signedOutState:!n.user,textSamples:e.textSampleData&&e.textSampleData.textSamples,changeCallback:function(){return e.__webComponents_syncSidebarAttributes()}}),e.allBrowseModes=n.browseModes,e._setLanguageFilters(t.browseMode||e.allBrowseModes[0].id),e.filtersModel.selectFontTechnology(n.fontTechnology),e.filtersModel.selectTag(e.filteredFamilyList.selectedTag),e.filtersModel.setSelectedFilters(e.filteredFamilyList.selectedFilters),e.filtersModel.setHideImages(e.filteredFamilyList.hideImages),e.filtersModel.setShowPaidFonts(e.filteredFamilyList.showPaidFonts||t.showPaidFonts,!1),e.filtersModel.setShowBasicLibrary(t.showBasicLibrary),26===e.filteredFamilyList.minStyles&&26===e.filteredFamilyList.maxStyles?(e.filtersModel.clearNumberOfStyles(),e.FilteredFamilyListStateService.updateUrl(e.filtersModel.toSearchParams())):(e.filtersModel.setMinStyles(e.filteredFamilyList.minStyles),e.filtersModel.setMaxStyles(e.filteredFamilyList.maxStyles)),e.filteredFamilyList.familyCountMessage=n.familyCountMessage,e.FeedbackService.setFiltersModel(e.filtersModel),e.toggleTagFeedbackNotification(),a.areWebComponentsEnabled()&&e._webComponents_initFilterSidebar()}))}))},f.prototype._getWindowWidth=function(){return this.$document[0].documentElement.clientWidth},f.prototype._webComponents_initFilterSidebar=function(){var e=this,t=e.$document.find("af-filter-sidebar")[0];if(t){a.modules.get("addMessages")(e.filtersModel.webComponents_getI18nForFilters()),e.UserPrefsService.getUserPrefs().then((function(n){e.filtersModel.setShowPaidFonts(!1!==n.showPaidFonts,!0),t.showPaidFontsChecked=e.filtersModel.getShowPaidFonts()})),t.showPaidFontsSection=e.filtersModel.getShowLibraryOption(),t.languages=e.filtersModel.getLanguages(),t.tags=e.filtersModel.webComponents_getTagDataForFilterSidebar(),this.__webComponents_syncSidebarAttributes();var n=a.modules.get("ClearFiltersEvent");t.addEventListener(n.EVENT_NAME,(function(){e.filtersModel.clearAll(),e.__webComponents_handleSidebarEvent()}));var o=a.modules.get("ShowPaidFontsToggleEvent");t.addEventListener(o.EVENT_NAME,(function(t){e.filtersModel.setShowPaidFonts(t.detail.showPaidFonts,!0),e.__webComponents_handleSidebarEvent()}));var r=a.modules.get("FilterToggleEvent");t.addEventListener(r.EVENT_NAME,(function(t){e.filtersModel.toggleFilter(t.detail.filterKey),e.NewrelicService.addPageAction("typekit.browse.click",{filterName:t.detail.filterKey}),e.__webComponents_handleSidebarEvent()}));var s=a.modules.get("NumberOfFontsSliderEvent");t.addEventListener(s.EVENT_NAME,(function(t){"min"==t.detail.handleName?e.filtersModel.setMinStyles(t.detail.value):e.filtersModel.setMaxStyles(t.detail.value),e.__webComponents_handleSidebarEvent()})),t.fontsInFamilyMin=e.filtersModel.getMinStyles(),t.fontsInFamilyMax=e.filtersModel.getMaxStyles();var c=a.modules.get("LanguageFilterToggleEvent");t.addEventListener(c.EVENT_NAME,(function(t){e.filtersModel.setSelectedLanguage(t.detail.language),e.filtersModel.setSelectedLanguageMode(t.detail.language),e.__webComponents_handleSidebarEvent()})),t.addEventListener(i.EVENT_NAME,(function(t){e.filtersModel.setSelectedFontTechnology(t.detail.fontTechnology),e.__webComponents_handleSidebarEvent()}));var l=a.modules.get("TagToggleEvent");t.addEventListener(l.EVENT_NAME,(function(t){e.filtersModel.toggleTag(t.detail.tag),e.NewrelicService.addPageAction({tagName:t.detail.tag}),e.__webComponents_handleSidebarEvent()}))}},f.prototype.__webComponents_handleSidebarEvent=function(){this.handleFiltersChange(),this.__webComponents_syncSidebarAttributes()},f.prototype.__webComponents_syncSidebarAttributes=function(){var e=this,t=e.$document.find("af-filter-sidebar")[0];t&&(t.browseMode=e.filtersModel.getBrowseMode(),t.selectedTags=[e.filtersModel.getSelectedTag()],t.selectedLanguage=e.filtersModel.getSelectedLanguages()[0]||"all",t.selectedFilters=e.filtersModel.getSelectedFilters(),t.selectedTechnologyFilter=e.filtersModel.getSelectedFontTechnology(),t.fontsInFamilyMin=e.filtersModel.getMinStyles(),t.fontsInFamilyMax=e.filtersModel.getMaxStyles())},f.prototype._updateTemplatesForFamilies=function(){if(s.getData("enable-project-crossbar")){var e=this,t=e.filteredFamilyList.families.map((function(e){return e.display_font.preferred_family_name}));n.e(7).then(n.bind(null,91)).then((function(n){var i=n.fetchCCXFamilyTemplates,o=u().isLoggedIn;t.forEach((function(t){e.filteredFamilyList.familyTemplates[t]||i(t,0,1,l(),o).then((function(n){e.filteredFamilyList.familyTemplates[t]=n,e.$scope.$digest()}))}))}))}},e.exports=f},1580:function(e,t,n){l.$inject=["$document","$q","$timeout","$scope","$window","AddFontsToWebProjectService","AuthenticationService","DataService","FavoritesService","FilteredFamilyListStateService","FilterVariationsService","FirstMileService","FontLoaderService","I18nService","NewrelicService","NewrelicClickTrackerService","NotificationService","RecommendationsService","RedirectContextService","ScrollService","SyncService","UserPrefsService","UserService"];var i=n(268),o=i.getUserInfoSync,r=i.hasPaidCreativeCloud,a=n(6),s=n(18),c="-section";function l(e,t,n,i,o,r,a,c,l,u,d,f,p,h,g,m,v,y,_,b,S,w,$){var C=this;C.$document=e,C.$q=t,C.$scope=i,C.$timeout=n,C.$window=o,C.AddFontsToWebProjectService=r,C.AuthenticationService=a,C.DataService=c,C.FavoritesService=l,C.FilteredFamilyListStateService=u,C.FilterVariationsService=d,C.FirstMileService=f,C.FontLoaderService=p,C.I18nService=h,C.NewrelicService=g,C.NotificationService=v,C.RecommendationsService=y,C.RedirectContextService=_,C.ScrollService=b,C.SyncService=S,C.UserPrefsService=w,C.UserService=$,m.init({page:"family detail"}),C.windowIsScrolling=!1,C._preloadData().then((function(){C._handleContext()})),this._initCrossbar(),s.element(document).ready((function(){C.$timeout((function(){C.$scope.$watch((function(){return location.hash}),(function(e){""!==e&&(history.state&&!history.state.navigationTabClicked||C._scrollOnLoad(e))})),C.$scope.$watch((function(){return C.$window.pageYOffset}),(function(){C.windowIsScrolling||C._updateAnchor()}))}))}))}l.prototype._scrollOnLoad=function(e){var t=this,n=e.substr(1,e.indexOf(c)-1),i=e.substr(e.indexOf(c)+c.length+1);if("details"===n&&""!==i){var o=t.getVariationFromSlug(i);o&&t.setSelectedVariation(o)}t._selectTabFromAnchor(n),t._scrollToAnchor(n,e)},l.prototype.getVariationFromSlug=function(e){return a.find(this.filteredFonts,(function(t){return e===t.slug}))},l.prototype.handleSimilarFontsAndPairingsLinkClick=function(e){this.setSelectedVariation(e),location.href="#details-section+"+e.slug},l.prototype.isFlagged=function(e){return"negative"===e.selectedFeedback},l.prototype.activateFamilyLabel=function(){var e=this.syncableFonts.length-this.activatedFontCount;return 1===e?this.I18nService.getMessage(this._i18n,"browse.families.show.activate_one_font"):this.I18nService.getMessage(this._i18n,"browse.families.show.activate_n_fonts",{num_fonts:e})},l.prototype.activateSubfamily=function(e,t){var n=this;n._keepSubfamilyDropdownOpen(),n.NewrelicService.addPageAction("typekit.click.activate-subfamily",{subfamily:e,fontCount:t.length}),n.AuthenticationService.handleAuthenticationWithPostLoginAction("activate_fonts",{font_ids:a.pluck(t,"id")}).then((function(){n._sync(t)}))},l.prototype.handleVariableFontsLearnMoreClick=function(){this.NewrelicService.addPageAction("typekit.vf_banner.learn_more_click")},l.prototype.handleDeactivationClick=function(e){this.activatedFontCount--;var t=a.pluck(e,"id");this._updateSelectionStatus(t,!1)},l.prototype.filterFontsByRequiredActions=function(e){var t=this.FilterVariationsService.filterRequiredActionsByToggles(this.family.fonts,e);this.preferredAction=t.preferred,this.filteredNavigationTabs=this._filterTabs(),this.filteredFonts=this.FilterVariationsService.filterFontsByRequiredActions(this.family.fonts,t.filters)},l.prototype.favoriteToggleClass=function(){return this.family&&this.family.favorite?"favorite-toggle-icon on":"favorite-toggle-icon"},l.prototype.fontVariationCardsClass=function(){return"grid"===this.viewType?"font-variations-grid-view":"font-variation-list"},l.prototype.getDesignersForSelectedVariation=function(){if(this.designerInfo){var e=this;return a.compact(a.map(e.selectedVariation.designers,(function(t){return e.designerInfo[t.slug]})))}},l.prototype.handleAddToWebProjectButton=function(){var e=this;this.family.has_variable_font?Promise.all([n.e(0),n.e(3),n.e(4),n.e(6),n.e(8)]).then(n.bind(null,822)).then((function(t){var n=(0,t.getEditor)(),i=n&&n.saveState;e.AddFontsToWebProjectService.addFamilyToWebProjectWithAuthentication(e.family.slug,null,i)})):this.AddFontsToWebProjectService.addFamilyToWebProjectWithAuthentication(this.family.slug)},l.prototype.handleVariationDetailsClick=function(e){this.setSelectedVariation(e),this._scrollToAnchor("details","#details-section+"+this.selectedVariation.slug)},l.prototype.setSelectedVariation=function(e){this.selectedVariation=e,this.getSelectedVariationSimilarities(),this.getSelectedVariationPairings()},l.prototype.handleRecommendedVariationDetailsClick=function(e){var t=a.findIndex(this.variationMenuItems,(function(t){return t.value.id===e.id}));this.handleVariationDetailsClick(this.variationMenuItems[t].value)},l.prototype.handleActivationClick=function(e){this.activatedFontCount++;var t=a.pluck(e,"id");this._updateSelectionStatus(t,!0)},l.prototype.isAllSynced=function(e){var t=this.syncedFonts(e).length;return t>0&&t===e.length},l.prototype.isAddToWebProjectButtonVisible=function(){return this._availableForWeb()&&!this._allFontsRequireWebAction()},l.prototype.isSubscribeToCCButtonVisible=function(){if(!this.isAddToWebProjectButtonVisible())return this.family.has_variable_font},l.prototype.isDefaultJapaneseLanguageSelected=function(){return"ja"==this.selectedVariation.default_language},l.prototype.isDefaultEnglishLanguageSelected=function(){return"en"==this.selectedVariation.default_language},l.prototype.isStickyNavDisabled=function(){return this.$window.innerWidth<768},l.prototype.getCarouselListClass=function(e){return e>2?"adobe-fonts-family__carousel-list":""},l.prototype.isQuickMultiSyncAvailable=function(){return this.syncableFonts.length>0&&!this.isSubfamilyActivateAvailable()},l.prototype.isQuickMultiSyncVisible=function(){return!this.isAllSynced(this.syncableFonts)},l.prototype.isQuickMultiUnsyncVisible=function(){return this.isAllSynced(this.syncableFonts)},l.prototype.isSubfamilyActivateAvailable=function(){return this.syncableFonts.length>=8&&a.keys(this.syncableSubFamilies).length>1&&!this.isAllSynced(this.syncableFonts)},l.prototype.requiresUpgradeForWeb=function(){var e=this,t=!1;return e.family.fonts.forEach((function(n){!t&&e._fontRequiresUpgradeForWeb(n.font)&&(t=!0)})),t&&!e._availableForWeb()},l.prototype.selectedVariationHasDesigners=function(){return!a.isEmpty(this.getDesignersForSelectedVariation())},l.prototype.selectedVariationHasManyDesigners=function(){return this.getDesignersForSelectedVariation().length>=3},l.prototype.selectedVariationDisplayData=function(){var e=this.selectedVariation;return{cssName:e.family.web_id+"-"+e.font.web.fvd,fvd:e.font.web.fvd,isDynamic:!0,opaqueId:e.family.web_id,unicodeRange:this.unicodeRange,featureSettings:this.featureSettings}},l.prototype.selectedVariationHasFilters=function(){return a.size(this.selectedVariation.filters)>0},l.prototype.sync=function(e,t){var n=this;n.AuthenticationService.handleAuthenticationWithPostLoginAction("activate_family",{slug:n.family.slug}).then((function(){n._sync(t)}))},l.prototype.syncedFonts=function(e){return a.filter(e,(function(e){return"sync"in e.font&&(e.font.sync.is_selected||a.contains(e.font.sync.install_state.split(","),"cc"))}))},l.prototype.toggleSync=function(e,t){this.isAllSynced(t)?this.unsync(this.syncedFonts(t)):this.sync(e,this.unsyncedFonts(t))},l.prototype.toggleFavorite=function(){var e=this;e.family.favorite?e.FavoritesService.delete(e.family.slug).then((function(){e.family.favorite=!1}),(function(t){e.NotificationService.error(t.data.error)})):e.FavoritesService.post(e.family.slug).then((function(){e.family.favorite=!0}),(function(t){e.NotificationService.error(t.data.error)}))},l.prototype.unsync=function(e){var t=this;t._keepSubfamilyDropdownOpen(),t.NewrelicService.addPageAction("typekit.click.unsync-all-button",{family:t.family.name}),e.forEach((function(e){e.isSyncing=!0})),t.SyncService.removeSyncedVariations(a.pluck(e,"id")).then((function(n){var i;e.forEach((function(e){e.isSyncing=!1,"data"in n&&n.data.removed_font_ids.indexOf(e.id)>-1?(e.font.sync.is_selected=!1,e.font.sync.install_state="",t._updateSelectionStatus([e.id],!1)):i=!0})),i?t.NotificationService.error(t.I18nService.getMessage(t._i18n,"neue.browse.family_card.error_occurred_deactivating_some_fonts")):(t.activatedFontCount-=n.data.removed_font_ids.length,e.length>1?t.NotificationService.success(t.I18nService.getMessage(t._i18n,"neue.families.multi_sync.loading_dialog.unsync_family_multiple_fonts_html",{family:t.family.name,num:e.length})):t.NotificationService.success(t.I18nService.getMessage(t._i18n,"neue.families.multi_sync.loading_dialog.unsync_family_one_font_html",{family:t.family.name})))}),(function(){t.NotificationService.error(t.I18nService.getMessage(t._i18n,"neue.browse.family_card.error_occurred_deactivating_fonts"))}))},l.prototype.unsyncedFonts=function(e){return a.reject(e,(function(e){return"sync"in e.font&&e.font.sync.is_selected}))},l.prototype._allFontsRequireWebAction=function(){var e=this;return a.every(e.family.fonts,(function(t){return e._fontRequiresWebAction(t.font)}))},l.prototype._availableForWeb=function(){var e=this;return a.some(e.family.fonts,(function(t){return e.fontAvailableForWeb(t.font)}))},l.prototype.fontAvailableForWeb=function(e){return(this.userPlan||{}).library?"web"in e&&!this._fontIsWebPreviewOnly(e)&&!this._fontRequiresWebAction(e):"web"in e&&!this._fontIsWebPreviewOnly(e)&&(e.web.library_availability.trial||e.web.library_availability.full)},l.prototype.isNonPreviewWebFont=function(e){return e.web&&!this._fontIsWebPreviewOnly(e)},l.prototype._filterTabs=function(){var e=this;return a.reject(e.navigationTabs,(function(t){return"recommendations"===t.id&&!e.shouldShowFontRecommendations||"templates"===t.id&&!e.shouldShowCCXTemplatesRecommendations}))},l.prototype._fontAvailableForSync=function(e){return e.sync&&0==e.sync.required_action.length},l.prototype._fontByWebFvd=function(e,t){return a.find(e,(function(e){return e.font.web.fvd===t}))},l.prototype._fontRequiresWebAction=function(e){return e.web&&e.web.required_action.length>0},l.prototype._fontIsWebPreviewOnly=function(e){return!!e.web&&-1!==e.web.required_action.indexOf("preview_only")},l.prototype._fontRequiresUpgradeForWeb=function(e){return!!e.web&&-1!==e.web.required_action.indexOf("upgrade")},l.prototype._keepSubfamilyDropdownOpen=function(){var e=this;e.isSubfamilyDropdownOpen=!0,e.timer&&e.$timeout.cancel(e.timer),e.timer=e.$timeout((function(){e.isSubfamilyDropdownOpen=!1}),3e3)},l.prototype._handleContext=function(){return this.RedirectContextService.handleContext()},l.prototype.showPaidFontsSelected=function(){return this.showPaidFonts},l.prototype.updateDesignerName=function(){this.designerInfo&&a.each(this.designerInfo,(function(e){var t=e.name;e.originalName||(e.originalName=t),t.length>=45&&(e.name=t.substring(0,22)+"..."+t.substring(t.length-10,t.length))}))},l.prototype._preloadData=function(){var e=this;return e.$q.all([e.DataService.get("families-show-i18n").then((function(t){e._i18n=t})),e.UserPrefsService.getUserPrefs().then((function(t){return e.browseMode=t.browseMode||"default",e.showPaidFonts=!!t.showPaidFonts,e.viewType=t.selectedViewType||"list",e.DataService.get("/neue/preloaded_family_data")})).then((function(t){e.family=t.family,e.availability=t.availability,e.designerInfo=t.designer_info,e.selectedVariationSlug=t.selectedVariationSlug,e.locale=t.locale,e.userPlan=t.userPlan,e.UserService.incrementSyncUsage(e.userPlan.usage.synced_desktop_fonts||0),e.UserService.setSyncLimit(e.userPlan.limits.synced_desktop_fonts||0),e.UserService.setPlan(e.userPlan.name),e.updateDesignerName(),e.shouldShowFontRecommendations=e._shouldShowFontRecommendations(e.family.fonts),e.getFamilyFontSimilarities(),e.getFamilyFontPairings(),e.getSelectedVariationSimilarities(),e.getSelectedVariationPairings(),e.family.fonts.length>0&&(e.syncableFonts=a.filter(e.family.fonts,(function(t){return(e.userPlan||{}).library?"sync"in t.font&&0===t.font.sync.required_action.length:"sync"in t.font&&(t.font.sync.library_availability.trial||t.font.sync.library_availability.full)})),e.syncableSubFamilies=a.groupBy(e.syncableFonts,(function(e){return e.family.web_name})),e.availabilitySummary=t.availabilitySummary),e.activatedFontCount=(e.family.card_state||{}).activated_font_count||0,e.languagesDictionary=t.languagesDictionary,e.filterLabelDictionary=t.filterLabelDictionary,e.textSampleData=t.textSampleData,e.kanaOnly=t.kana_only,e.navigationTabs=t.navigationTabs,e.currentTab=e.navigationTabs[0],e.isSubfamilyDropdownOpen=!1,e.variationMenuItems=a.map(e.family.fonts,(function(e){return{label:e.name,value:e}})),e.showUpgradeActionToggle=!r()&&e.FilterVariationsService.hasUpgradeFilterOption(e.family.fonts);var i={upgrade:e.showUpgradeActionToggle&&e.showPaidFonts};e.filterFontsByRequiredActions(i);var o=e.getVariationFromSlug(this.selectedVariationSlug)||e.filteredFonts[0];e.setSelectedVariation(o),e._setExampleText(),t.shouldShowExpiredFontsModal&&e.FirstMileService.showExpiredFontsDialog(),t.family.has_variable_font&&Promise.all([n.e(0),n.e(3),n.e(4),n.e(6),n.e(8)]).then(n.bind(null,822)).then((function(n){(0,n.loadVariableFontsData)({family:t.family,locale:e.locale}).then((function(t){e.variableFontsData=t,e.$scope.$apply()}))}))}))])},l.prototype.updateFonts=function(){this.FontLoaderService.updateFonts(this.exampleText.value)},l.prototype.getFontVariationSettingsCSS=function(){var e=this;if(this.variableFontsData){var t=this.variableFontsData.filter((function(t){return t.postscriptName===e.selectedVariation.postscript_name}))[0],n=t.instances.filter((function(e){return e.instanceName===t.defaultInstanceName}))[0];if(n)return Object.keys(n.coordinates).map((function(e){return'"'.concat(e,'" ').concat(n.coordinates[e])})).join(", ")}},l.prototype._selectTabFromAnchor=function(e){var t=this;for(var n in t.filteredNavigationTabs)if(t.filteredNavigationTabs[n].id===e){t.currentTab=t.filteredNavigationTabs[n];break}},l.prototype._setExampleText=function(){var e=this,t=a.first(a.uniq(a.pluck(e.family.fonts||[],"default_language")))||"en",n=e.textSampleData.textSamples[t];e.exampleText={value:e.kanaOnly?n.list_kana:n.list,size:36},e.featureSettings=n.feature_settings,e.unicodeRange=n.unicode_range,e.defaultExampleTextValue=e.exampleText.value,e.similarityCardText={value:"Champagne Sorbet",size:36}},l.prototype._scrollToAnchor=function(e,t){var n=this,i=-1*this._getNavBarHeight(),o=n.$document[0].getElementById(this._getSectionId(e));n.windowIsScrolling=!0,this.ScrollService.scrollTo(o,500,i).then((function(){n.windowIsScrolling=!1,t&&(location.href=t)}))},l.prototype._sync=function(e){var t=this;e.forEach((function(e){e.isSyncing=!0})),t.SyncService.addSyncedVariations(a.pluck(e,"id")).then((function(n){var i;e.forEach((function(e){e.isSyncing=!1,"data"in n&&n.data.added_font_ids.indexOf(e.id)>-1?(e.font.sync.is_selected=!0,t._updateSelectionStatus([e.id],!0)):i=!0})),i?t.NotificationService.error(t.I18nService.getMessage(t._i18n,"neue.browse.family_card.error_occurred_activating_some_fonts")):(t.activatedFontCount+=n.data.added_font_ids.length,t._handleFontSyncSuccess(e))}),(function(){t.NotificationService.error(t.I18nService.getMessage(t._i18n,"neue.browse.family_card.error_occurred_activating_fonts"))}))},l.prototype._updateAnchor=function(){var e=this._getCurrentSection();if(0!==e.length&&this.currentTab.id!==e){var t="#"+e+"-section";"details"===e&&(t=t+"+"+this.selectedVariation.slug),this.$window.history.replaceState({navigationTabClicked:!1},null,t),this._selectTabFromAnchor(e)}},l.prototype._getCurrentSection=function(){var e="";for(var t in this.filteredNavigationTabs)this._isSectionInOrAboveViewport(this.filteredNavigationTabs[t].id)&&(e=this.filteredNavigationTabs[t].id);return e},l.prototype._isSectionInOrAboveViewport=function(e){if(!this.$document[0])return!1;var t=this.$document[0].getElementById(this._getSectionId(e)).getBoundingClientRect(),n=Math.min(this.$document[0].body.scrollTop,this.$document[0].documentElement.scrollTop);return t.top<=n+2*this._getNavBarHeight()},l.prototype._getNavBarHeight=function(){return this.$document[0].querySelector(".sticky-header").getBoundingClientRect().height},l.prototype._getSectionId=function(e){return e+c},l.prototype._handleFontSyncSuccess=function(e){var t=this;t.FirstMileService.shouldShowFontActivationDialog().then((function(n){if(n)return t.FirstMileService.showFontActivationDialog();e.length>1?t.NotificationService.success(t.I18nService.getMessage(t._i18n,"neue.families.multi_sync.loaded_dialog.heading_multiple",{fonts:e.length,family:t.family.name})):t.NotificationService.success(t.I18nService.getMessage(t._i18n,"neue.families.multi_sync.loaded_dialog.heading_single",{font:e[0].name}))}))},l.prototype.getFamilyFontSimilarities=function(){var e=this;e.shouldShowFontRecommendations&&e.RecommendationsService.familyFontSimilarities(e.family.slug,24,1).then((function(t){e.familyFontSimilarities=t.data}))},l.prototype.getFamilyFontPairings=function(){var e=this;e.shouldShowFontRecommendations&&e.RecommendationsService.familyFontPairings(e.family.slug,12,1).then((function(t){e.familyFontPairings=t.data}))},l.prototype.getFamilyCCXTemplates=function(){var e=this,t=this;t.shouldCheckCCXTemplatesRecommendations&&(t.shouldCheckCCXTemplatesRecommendations=!1,n.e(7).then(n.bind(null,91)).then((function(n){var i=n.fetchCCXFamilyTemplates,a=t.family.display_font.preferred_family_name,s=o().isLoggedIn;i(a,0,40,r(),s).then((function(n){if(n.length>0){var i=t.$document[0].querySelector("#fdp-ccx-templates");i&&t.$scope.$apply((function(){t.shouldShowCCXTemplatesRecommendations=!0,i.items=n})),e.filteredNavigationTabs=e._filterTabs()}})).catch((function(e){console.log("[Crossbar]: Failed to load ".concat(e))}))})))},l.prototype.handleSelectedVariationChange=function(){location.href="#details-section+"+this.selectedVariation.slug,this.getSelectedVariationSimilarities(),this.getSelectedVariationPairings()},l.prototype.getSelectedVariationSimilarities=function(){var e=this;e.shouldShowFontRecommendations&&e.selectedVariation&&e.selectedVariation.id&&e.RecommendationsService.similarFonts(e.selectedVariation.id,24,1).then((function(t){e.selectedVariationSimilarities=t.data}))},l.prototype.getSelectedVariationPairings=function(){var e=this;e.shouldShowFontRecommendations&&e.selectedVariation&&e.selectedVariation.id&&e.RecommendationsService.pairedFonts(e.selectedVariation.id,12,1).then((function(t){e.selectedVariationPairings=t.data}))},l.prototype.shouldShowFontSimilarities=function(){return void 0!==this.familyFontSimilarities&&this.familyFontSimilarities.length>0},l.prototype.shouldShowFontPairings=function(){return void 0!==this.familyFontPairings&&this.familyFontPairings.length>0},l.prototype.shouldShowSelectedFontSimilarities=function(){return void 0!==this.selectedVariationSimilarities&&this.selectedVariationSimilarities.length>0},l.prototype.shouldShowSelectedFontPairings=function(){return void 0!==this.selectedVariationPairings&&this.selectedVariationPairings.length>0},l.prototype._shouldShowFontRecommendations=function(e){var t=!1,n=!0;return e.forEach((function(e){e.has_similar_fonts_or_pairings&&(t=!0),"en"!==e.default_language&&"ja"!==e.default_language&&(n=!1)})),t&&n},l.prototype._updateSelectionStatus=function(e,t){var n=this;e.forEach((function(e){n.family&&n.family.fonts&&n.family.fonts.forEach((function(n){n.id===e&&(n.font.sync.is_selected=t)})),n.selectedVariationPairings&&n.selectedVariationPairings.forEach((function(n){n.body_font.id===e?n.body_font.font.sync.is_selected=t:n.header_font.id===e&&(n.header_font.font.sync.is_selected=t)})),n.familyFontPairings&&n.familyFontPairings.forEach((function(n){n.body_font.id===e?n.body_font.font.sync.is_selected=t:n.header_font.id===e&&(n.header_font.font.sync.is_selected=t)}))}))},l.prototype._initCrossbar=function(){var e=this;e.DataService.get("enableProjectCrossbar").then((function(t){t&&(e.shouldCheckCCXTemplatesRecommendations=!0,e.shouldShowCCXTemplatesRecommendations=!1,e.getFamilyCCXTemplates())}))},e.exports=l},1581:function(e,t,n){o.$inject=["$document","$scope","$timeout","$window","DataService"];var i=n(6);function o(e,t,n,i,o){this.$document=e,this.$timeout=n,this.$window=i,this.DataService=o,this.featuredFoundries={},this.foundries=[],this.isLoaded=!1,this.isBiographyCollapsed=!0,this.isBiographyCollapsible=!1,this.selectedFoundry=null,this.selectedSortOption=null,this.sortOptions=[],this.specimenImages={},this._preloadData();var r=this;i.addEventListener("load",(function(){r.isLoaded=!0,t.$apply(),r.updateIsBiographyCollapsible()})),i.addEventListener("resize",(function(){r.updateIsBiographyCollapsible()}))}o.prototype.getCarouselListClass=function(){return this.getFeaturedFamilyImages().length>2?"adobe-fonts-family__carousel-list":""},o.prototype.getFeaturedFamilies=function(){return(this.featuredFoundries[this.selectedFoundry]||{}).featuredFamilies||[]},o.prototype.getFeaturedFamilyImages=function(){if(this.specimenImages[this.selectedFoundry])return this.specimenImages[this.selectedFoundry];var e=this.getFeaturedFamilies();return this.specimenImages[this.selectedFoundry]=e.map((function(e){return e.specimenImage})),this.specimenImages[this.selectedFoundry]},o.prototype.getSmallScreenClass=function(){return this.$window.innerWidth<500?"spectrum-grid-col-xs-12":this.$window.innerWidth<768?"spectrum-grid-col-xs-6":this.$window.innerWidth<900?"spectrum-grid-col-sm-4":this.$window.innerWidth<1280?"spectrum-grid-col-sm-3":""},o.prototype.selectFoundry=function(e){var t=this;t.selectedFoundry=e,t.isBiographyCollapsible=!0,t.isBiographyCollapsed=!0,t.$timeout((function(){t.updateIsBiographyCollapsible()}),1)},o.prototype.sortFoundries=function(){var e=this;e.foundries=i.sortBy(e.foundries,(function(t){return t[e.selectedSortOption]})),"desc"===i.find(e.sortOptions,(function(t){return t.value===e.selectedSortOption})).order&&e.foundries.reverse()},o.prototype.updateIsBiographyCollapsible=function(){var e=this.$document[0].getElementById("featured-foundries--left-column"),t=this.$document[0].getElementById("featured-foundries--right-column");this.isBiographyCollapsible=e&&t&&e.clientHeight<t.clientHeight,this.isBiographyCollapsible=this.isBiographyCollapsible&&this.$window.innerWidth>=768},o.prototype._preloadData=function(){var e=this;e.DataService.get("/spectrum/foundries").then((function(t){e.featuredFoundries=t.featuredFoundries||{},e.selectedFoundry=Object.keys(e.featuredFoundries)[0],e.foundries=t.foundries,e.sortOptions=t.sortOptions,e.sortOptions&&(e.selectedSortOption=e.sortOptions[0].value)}))},e.exports=o},1582:function(e,t,n){a.$inject=["$document","$q","DataService","FilterDataService","FilteredFamilyListStateService","FoundriesService","NewrelicClickTrackerService","UserPrefsService","YouTubeService"];var i=n(18),o="video-playing",r={adobe:{en_US:"YGUe-EQWxF4",de_DE:"H1HqLVNagO8",fr_FR:"JpacO3Ol1nE",ja_JP:"tv_IucBF_5E"},morisawa:{de_DE:"o2B449k5kC4",en_US:"o2B449k5kC4",fr_FR:"o2B449k5kC4",ja_JP:"mZsFgZH8yp4"}};function a(e,t,n,o,r,a,s,c,l){var u=this;u.$q=t,u.DataService=n,u.FilterDataService=o,u.FilteredFamilyListStateService=r,u.FoundriesService=a,u.UserPrefsService=c,u.YouTubeService=l,u._bodyElement=i.element(e.find("body")),s.init({page:"foundry detail"}),u._preloadData().then((function(){u._initVideo()}))}a.prototype.handleUserPrefsChange=function(){this.UserPrefsService.updatePrefs(this.filteredFamilyList)},a.prototype.updateFilteredFamilyList=function(){var e=this;e.filtersModel.setCurrentPage(e.filteredFamilyList.currentPage),e.FoundriesService.getFamilies(e.foundrySlug,e.filtersModel.toSearchParams()).then((function(t){e.filteredFamilyList.families=t.data.families_data.families,e.filteredFamilyList.totalFamilies=t.data.families_data.totalFamilies,e.filteredFamilyList.totalPages=t.data.families_data.totalPages,e.textSampleData.textSamplePrimers=t.data.text_sample_primers})),e.FilteredFamilyListStateService.updateState(e.filteredFamilyList)},a.prototype._preloadData=function(){var e=this;return e.$q.all([e.UserPrefsService.getUserPrefs().then((function(t){e.DataService.get("/neue/preloaded_foundry_data").then((function(n){e.filteredFamilyList=e.FilteredFamilyListStateService.getState(null,t),e.filteredFamilyList.families=n.familiesData.families,e.filteredFamilyList.totalFamilies=n.familiesData.totalFamilies,e.filteredFamilyList.totalPages=n.familiesData.totalPages,e.foundrySlug=n.foundrySlug,e.locale=n.locale,e.textSampleData=n.textSampleData,e.filtersModel=e.FilterDataService.getFilterModel()}))}))])},a.prototype.handleVideoCloseButtonClick=function(){this.player.pauseVideo(),this._bodyElement.removeClass(o)},a.prototype._handlePlayerStateChange=function(e){0===e.data&&this._bodyElement.removeClass(o)},a.prototype._initVideo=function(){var e=this;if(r[e.foundrySlug]){var t=r[e.foundrySlug][e.locale]||r[e.foundrySlug].en_US;e.YouTubeService.init().then((function(){e.YouTubeService.load("player",t,{height:"100%",width:"100%",onPlayerStateChangeCallback:function(t){e._handlePlayerStateChange(t)}}).then((function(t){e.player=t}))}))}},e.exports=a},1583:function(e,t,n){l.$inject=["$document","$scope","$window","DataService","DialogService","FilterDataService","FilteredFamilyListStateService","FirstMileService","FontCountService","I18nService","MyFontsService","NewrelicService","NotificationService","TkWebProjectEditorService","UrlService","UserPrefsService"];var i=n(18),o=n(6),r="-section",a="all",s="under_30_days",c="updated_at_desc";function l(e,t,n,r,a,s,c,l,u,d,f,p,h,g,m,v){var y=this;y.DataService=r,y.DialogService=a,y.FilterDataService=s,y.FilteredFamilyListStateService=c,y.FirstMileService=l,y.FontCountService=u,y.I18nService=d,y.MyFontsService=f,y.NewrelicService=p,y.NotificationService=h,y.UrlService=m,y.UserPrefsService=v,y.$document=e,y.$scope=t,y.$window=n,y.TkWebProjectEditorService=g,y._loadSortModes(),y._preloadData(),y._initWindowSizeWatcher(),y.TkWebProjectEditorService.populateCompleteWebProjectsData(1),y.handleFiltersChange=o.debounce(i.bind(y,y.updateFilteredFamilyList),100)}l.prototype.handleBrowseModeButton=function(e){this.filtersModel.setBrowseMode(e.id),this.UserPrefsService.updatePrefs({browseMode:e.id}),this.filteredFamilyList.exampleText=null,this.handleFiltersChange()},l.prototype.handleFilteredFamilyListUserPrefsChange=function(){this.UserPrefsService.updatePrefs(this.filteredFamilyList)},l.prototype.isActiveFontsView=function(){return this.currentTab&&"active_fonts"===this.currentTab.id},l.prototype.isBrowseModeSelected=function(e){return this.filtersModel&&this.filtersModel.getBrowseMode()==e.id},l.prototype.isEmptyState=function(){return this.isWebProjectsView()?!this.kitsData||0===this.kitsData.length:this.isEmpty||0===this.filteredFamilyList.families.length},l.prototype.isFavoritesView=function(){return this.currentTab&&"favorites"===this.currentTab.id},l.prototype.isFilterListHidden=function(){return!(!this._isFilterListHiddenByUser&&!this._isFilterListHiddenForSmallScreen)},l.prototype.isPreviouslyActiveView=function(){return this.currentTab&&"previously_active"===this.currentTab.id},l.prototype.isPurchasedTab=function(){return this.currentTab&&"purchased"===this.currentTab.id},l.prototype.isWebProjectsView=function(){return this.currentTab&&"web_projects"===this.currentTab.id},l.prototype.manageFontsDeactivationButtonText=function(){return this.selectedManageFontsFilterValue===a?this._i18n["my_fonts.active_fonts.manage_fonts.deactivate_all_button"]:this._i18n["my_fonts.active_fonts.manage_fonts.deactivate_selected_button"]},l.prototype.onTabChanged=function(){this.filteredFamilyList.currentPage=1,this.selectedSort=c,this.filtersModel.setSortOrder(c),this._updateFamilySortModes(),this.isFirstPageLoad||(this.isTabChanging=!0,this.isWebProjectsView()?this.UrlService.updatePath(this.$window.location.pathname+"#web_projects"+r):this.updateFilteredFamilyList()),this.isFirstPageLoad=!1},l.prototype.shouldShowTooManyFontsNotice=function(){return this.isActiveFontsView()&&this.filteredFamilyList.families.length>0&&this.FontCountService.getAllActivatedFontsCount()>100&&this.FontCountService.getAllActivatedFontsCount()<=500},l.prototype.shouldShowTooManyFontsWarning=function(){return this.isActiveFontsView()&&this.filteredFamilyList.families.length>0&&this.FontCountService.getAllActivatedFontsCount()>500},l.prototype.showManageFontsConfirmationDialog=function(){var e=this;e.DialogService.show("/angular_templates/dialogs/manage_fonts_confirmation.html").then((function(t){t.handleCancelButtonClick=function(){t.close()},t.handleConfirmButtonClick=function(){var n=o.omit(o.extend(e.filtersModel.toSearchParams(),e._myFontsParams(),{manage_fonts_filter:e.selectedManageFontsFilterValue}),o.isNull);e.MyFontsService.deactivateFonts(n).then((function(){t.close(),e.NewrelicService.addPageAction("typekit.click.bulk_deactivate_button",{activatedFontsCount:e.FontCountService.getAllActivatedFontsCount(),filter:e.selectedManageFontsFilterValue,fontsDeactivated:e._getActivatedFontsCountForSelectedFilter()}),e.NotificationService.success(e._getManageFontsDeactivationSuccessMessage()),e._clearFilters(),e.updateFilteredFamilyList()}),(function(){t.close(),e.NotificationService.error(e._i18n["my_fonts.active_fonts.manage_fonts.deactivation_error_message"])}))},t.heading=e._manageFontsConfirmationDialogHeading()}))},l.prototype.toggleFilters=function(){this._isFilterListHiddenByUser=!this.isFilterListHidden(),this._isFilterListHiddenForSmallScreen=!1},l.prototype.handleSortModeChange=function(){this.filtersModel.setSortOrder(this.selectedSort),this.filteredFamilyList.currentPage=1,this.handleFiltersChange()},l.prototype.handleManageFontsFilterChange=function(){this.filteredFamilyList.currentPage=1,this.handleFiltersChange()},l.prototype.getTotalFontsText=function(){var e=this.FontCountService.getAllFamiliesCount();return this.isActiveFontsView()?this._getTotalActiveFontsText(this.FontCountService.getAllActivatedFontsCount(),e):this._getTotalPreviousActiveFontsText(this.FontCountService.getAllPreviouslyActivatedFontsCount(),e)},l.prototype.updateFilteredFamilyList=function(){var e=this,t=o.omit(o.extend(e.filtersModel.toSearchParams(),e._myFontsParams()),o.isNull);e.filtersModel.setCurrentPage(e.filteredFamilyList.currentPage),e.isLoading=!0,e.MyFontsService.get(t).then((function(n){if(n.data.collection===e.currentTab.id){if(e.filteredFamilyList.families=n.data.familiesData.families,1===t.page)e.fontFamilyAccordion.families=n.data.familiesData.families;else{var i=o.reject(n.data.familiesData.families,(function(t){return o.any(e.fontFamilyAccordion.families,(function(e){return t.slug===e.slug}))}));e.fontFamilyAccordion.families=e.fontFamilyAccordion.families.concat(i)}e.filteredFamilyList.totalFamilies=n.data.familiesData.totalFamilies,e.filteredFamilyList.totalPages=n.data.familiesData.totalPages,e.purchasedFonts=n.data.familiesData.purchasedFonts,e.textSampleData=n.data.textSampleData,e.FilteredFamilyListStateService.updateState(e.filteredFamilyList),e.manageFontsFiltersData=n.data.manageFontsFilters,e.manageFontsFilters=e._getManageFontsFilters(e.manageFontsFiltersData),e.FontCountService.setAllFamiliesCount(n.data.familiesData.totalFamilies),e.FontCountService.setAllPreviouslyActivatedFontsCount(n.data.allPreviouslyActivatedFontsCount),e.FontCountService.setAllActivatedFontsCount(n.data.allActivatedFontsCount),e.FontCountService.setFilteredActivatedFontsCount(e._getFilterWithValue(a).activatedFontsCount),e.FontCountService.setThirtyDayActivatedFontsCount(e._getFilterWithValue(s).activatedFontsCount),e.isEmpty=n.data.isEmpty}e.filteredFamilyList.browseMode=e.filtersModel.getBrowseMode(),e.filteredFamilyList.currentPage=e.filtersModel.getCurrentPage(),e.isLoading=!1,e.isTabChanging=!1,e.FilteredFamilyListStateService.updateUrl(t),n.data.shouldShowExpiredFontsModal&&e.FirstMileService.showExpiredFontsDialog()}))},l.prototype.loadMoreFamilies=function(){this.filteredFamilyList.currentPage>=this.filteredFamilyList.totalPages||this.isLoading||(this.filteredFamilyList.currentPage+=1,this.updateFilteredFamilyList())},l.prototype.updateFilterListVisibilityForWindowSize=function(){var e=this;e._getWindowWidth()!=e._previousWindowWidth&&(e._previousWindowWidth=e._getWindowWidth(),e.$scope.$apply((function(){e._isFilterListHiddenForSmallScreen=e._getWindowWidth()<=880})))},l.prototype._getTotalActiveFontsText=function(e,t){return e>1&&t>1?this.I18nService.getMessage(this._i18n,"my_fonts.active_fonts.font_count.plural_fonts_plural_families",{num_fonts:e,num_families:t}):e>1?this.I18nService.getMessage(this._i18n,"my_fonts.active_fonts.font_count.plural_fonts_singular_family",{num_fonts:e}):this._i18n["my_fonts.active_fonts.font_count.singular_font_singular_family"]},l.prototype._getTotalPreviousActiveFontsText=function(e,t){return e>1&&t>1?this.I18nService.getMessage(this._i18n,"my_fonts.previously_active_fonts.font_count.plural_fonts_plural_families",{num_fonts:e,num_families:t}):e>1?this.I18nService.getMessage(this._i18n,"my_fonts.previously_active_fonts.font_count.plural_fonts_singular_family",{num_fonts:e}):this._i18n["my_fonts.previously_active_fonts.font_count.singular_font_singular_family"]},l.prototype._changeFamilySortLabel=function(e,t){o.find(this.familySortModes,(function(t){return t.value===e})).label=this._i18n[t]},l.prototype._clearFilters=function(){this.filtersModel.clearAll(),this.selectedManageFontsFilterValue=a},l.prototype._getActivatedFontsCount=function(e){return e.value===a?this.FontCountService.getFilteredActivatedFontsCount():e.value===s?this.FontCountService.getThirtyDayActivatedFontsCount():e.activatedFontsCount||0===e.activatedFontsCount?e.activatedFontsCount:void 0},l.prototype._getActivatedFontsCountForSelectedFilter=function(){return this._getActivatedFontsCount(this._getFilterWithValue(this.selectedManageFontsFilterValue))},l.prototype._getFilterWithValue=function(e){return o.find(this.manageFontsFiltersData,(function(t){return t.value===e}))},l.prototype._getManageFontsDeactivationSuccessMessage=function(){var e=this._getActivatedFontsCountForSelectedFilter();return e>1?this.I18nService.getMessage(this._i18n,"my_fonts.active_fonts.manage_fonts.deactivation_success_message_plural",{num_fonts:e}):this._i18n["my_fonts.active_fonts.manage_fonts.deactivation_success_message_singular"]},l.prototype._getManageFontsFilters=function(e){var t=this;return e=o.filter(e,(function(e){return t._getActivatedFontsCount(e)>0})),o.map(e,(function(e){return{activatedFontsCount:e.activatedFontsCount,i18nName:e.i18nName,label:t._i18n["my_fonts.active_fonts.manage_fonts.filters."+e.i18nName].replace("%{num_fonts}",t._getActivatedFontsCount(e)),value:e.value}}))},l.prototype._getWindowWidth=function(){return this.$document[0].documentElement.clientWidth},l.prototype._initActivatedFontsCountWatcher=function(){var e=this;e.$scope.$watch((function(){return e.FontCountService.getFilteredActivatedFontsCount()}),(function(){e.manageFontsFilters=e._getManageFontsFilters(e.manageFontsFiltersData)}))},l.prototype._initWindowSizeWatcher=function(){var e=this;e.$window.addEventListener("resize",(function(){e.isFilterListHiddenByUser||e.updateFilterListVisibilityForWindowSize()}))},l.prototype._loadSortModes=function(){var e=this;e.DataService.get("web-project-sort-modes").then((function(t){e.sortModes=t}))},l.prototype._manageFontsConfirmationDialogHeading=function(){var e=this._getActivatedFontsCountForSelectedFilter();return e>1?this.I18nService.getMessage(this._i18n,"my_fonts.active_fonts.manage_fonts.confirmation_dialog.heading_plural",{num_fonts:e}):this._i18n["my_fonts.active_fonts.manage_fonts.confirmation_dialog.heading_singular"]},l.prototype._myFontsParams=function(){return{collection:this.currentTab.id,manage_fonts_filter:this.selectedManageFontsFilterValue,page:this.filteredFamilyList.currentPage}},l.prototype._setLanguageFilters=function(e){var t=this;t.filteredFamilyList.selectedLanguages.length>0?t.filteredFamilyList.selectedLanguages.forEach((function(e){t.filtersModel.selectLanguageMode(e)})):"default"===e?t.filtersModel.setBrowseMode(e):"japanese"===e?t.filtersModel.selectLanguageMode("ja"):t.filtersModel.selectLanguageMode(e)},l.prototype._preloadData=function(){var e=this;e.UserPrefsService.getUserPrefs().then((function(t){e.DataService.get("/spectrum/preloaded_family_data").then((function(n){e.filteredFamilyList=e.FilteredFamilyListStateService.getState(n.user,t),e.filteredFamilyList.families=n.familiesData.families,e.fontFamilyAccordion={families:n.familiesData.families},e.filteredFamilyList.totalFamilies=n.familiesData.totalFamilies,e.filteredFamilyList.totalPages=n.familiesData.totalPages,e.filtersModel=e.FilterDataService.getFilterModel({allFilters:n.familyFilters,collection:e.filteredFamilyList.collection,filterData:n.familyFilterData,hideLibraryOption:!0,hideMarketplaceOption:!0,languages:n.languageFilters,sortOrder:c,locale:n.locale}),e.allBrowseModes=n.browseModes,e._setLanguageFilters(t.browseMode||e.allBrowseModes[0].id),e.filtersModel.setSelectedFilters(e.filteredFamilyList.selectedFilters),e.filtersModel.setShowPaidFonts(e.filteredFamilyList.showPaidFonts||t.showPaidFonts,!1),e.manageFontsFiltersData=n.manageFontsFilters,e.FontCountService.setAllFamiliesCount(n.familiesData.totalFamilies),e.FontCountService.setAllPreviouslyActivatedFontsCount(n.allPreviouslyActivatedFontsCount),e.FontCountService.setAllActivatedFontsCount(n.allActivatedFontsCount),e.FontCountService.setFilteredActivatedFontsCount(e._getFilterWithValue(a).activatedFontsCount),e.FontCountService.setThirtyDayActivatedFontsCount(e._getFilterWithValue(s).activatedFontsCount),e.isEmpty=n.isEmpty,e.purchasedFonts=n.familiesData.purchasedFonts,e.textSampleData=n.textSampleData,e.navigationTabs=n.navigationTabs,e._setCurrentTab(),e._setExampleText(),e.DataService.get("/my_fonts/i18n").then((function(t){e._i18n=t,e.manageFontsFilters=e._getManageFontsFilters(e.manageFontsFiltersData),e.selectedManageFontsFilterValue=n.manageFontsFilters[0].value,e._initActivatedFontsCountWatcher()})),e.DataService.get("family-sort-modes").then((function(t){e.familySortModes=t})),e.DataService.get("family-accordion-sort-modes").then((function(t){e.familyAccordionSortModes=t})),e.selectedSort=e.filtersModel.getSortOrder(),n.shouldShowExpiredFontsModal&&e.FirstMileService.showExpiredFontsDialog()}))})),e.DataService.get("/spectrum/kits_data").then((function(t){var n;if(t&&t.kitsData)for(e.TkWebProjectEditorService.initTkWebProjectListModel(t),e.kitsData=t.kitsData,n=0;n<e.kitsData.length;n++){var i=e.kitsData[n];e.TkWebProjectEditorService.initTkWebProjectCardModel(i.kit.kit.token,i),e.TkWebProjectEditorService.initEmbedCodeModel(i.kit.kit.token,i.is_dynamic,i.project_embed_details);var o=0;for(o=0;o<i.tkff_list.length;o++){var r=i.tkff_list[o],a=i.kit.kit.token+r.tkff.typekit_font_family.id;e.TkWebProjectEditorService.initTkWebProjectDisplayFamilyModel(a,r.display_variation,r.text_samples,r.tktf_slug)}}}))},l.prototype._setCurrentTab=function(){var e=this,t=e.$window.location.hash,n=r.length+1,i=t.substr(1,t.length-n);0!==i.length&&e.navigationTabs.forEach((function(t){t.id===i&&(e.currentTab=t)})),void 0===e.currentTab&&(e.isFirstPageLoad=!0,e.currentTab=e.navigationTabs[0])},l.prototype._setExampleText=function(){var e=this,t=o.first(o.uniq(o.pluck(e.purchasedFonts||[],"default_language")))||"en",n=e.textSampleData.textSamples[t];e.exampleText={value:e.kanaOnly?n.list_kana:n.list,size:36},e.featureSettings=n.feature_settings,e.unicodeRange=n.unicode_range,e.defaultExampleTextValue=e.exampleText.value},l.prototype._updateFamilySortModes=function(){this.isActiveFontsView()?(this._changeFamilySortLabel("updated_at_asc","my_fonts.sort.date_activated_oldest_to_newest"),this._changeFamilySortLabel("updated_at_desc","my_fonts.sort.date_activated_newest_to_oldest")):this.isPreviouslyActiveView()?(this._changeFamilySortLabel("updated_at_asc","my_fonts.sort.date_deactivated_oldest_to_newest"),this._changeFamilySortLabel("updated_at_desc","my_fonts.sort.date_deactivated_newest_to_oldest")):this.isFavoritesView()&&(this._changeFamilySortLabel("updated_at_asc","my_fonts.sort.date_favorited_oldest_to_newest"),this._changeFamilySortLabel("updated_at_desc","my_fonts.sort.date_favorited_newest_to_oldest"))},e.exports=l},1584:function(e,t,n){s.$inject=["$q","$scope","$window","AuthenticationService","DataService","FontpackService","I18nService","NewrelicService","NotificationService","RecommendationsService","SyncService","TagsService","UrlService"];var i=n(6),o=["B82271","D5661D","BD8B02","9D2220","227466","249EAE","2464AE","227442","60358B","6B2A52","9B4E82","331E8B"],r=["recommendations-page--empty-card-medium","recommendations-page--empty-card-large","recommendations-page--empty-card-medium","recommendations-page--empty-card-medium","recommendations-page--empty-card-medium","recommendations-page--empty-card-small"],a=["font_pairs","tags","fontpacks"];function s(e,t,n,i,o,r,a,s,c,l,u,d,f){this.$q=e,this.AuthenticationService=i,this.DataService=o,this.FontpackService=r,this.I18nService=a,this.NewrelicService=s,this.NotificationService=c,this.RecommendationsService=l,this.SyncService=u,this.TagsService=d,this.UrlService=f,this.$window=n,this._preloadData();var p=this;n.addEventListener("af.activation",this.handleActivationEvent.bind(this)),n.addEventListener("resize",(function(){p.updateColumns(),t.$apply()})),n.addEventListener("beforeunload",(function(){p.NewrelicService.addPageAction("typekit.recommendations.numLoaded",{recommendationCount:(p.recommendations||[]).length})}))}s.prototype.getDisplayFont=function(e){var t=e.font||e.display_font,n=this.textSampleData.textSamples[t.default_language].feature_settings,i=this.textSampleData.textSamples[t.default_language].kana_only,o=this.textSampleData.textSamples[t.default_language].unicode_range;return{cssName:t.family.web_id+"-"+t.font.web.fvd,fvd:t.font.web.fvd,isDynamic:!0,kanaOnly:i,opaqueId:t.family.web_id,unicodeRange:o,featureSettings:n}},s.prototype.getExampleText=function(e){return this.exampleText[e.slug]||("en"===e.display_font.default_language?this.exampleText[e.slug]=i.sample(i.pick(this.textSampleData.textSampleOptions,"fez","roger","fox")):"ja"===e.display_font.default_language?this.exampleText[e.slug]=i.sample(i.pick(this.textSampleData.textSampleOptions,"typeface","letters","train","bamboo","typography")):this.exampleText[e.slug]=this.textSampleData.textSamples[e.display_font.default_language].list),this.exampleText[e.slug]},s.prototype.getExampleTextStyle=function(e){if(this.styles[e.slug])return this.styles[e.slug];var t=i.sample(o);return this.styles[e.slug]={"background-color":"#"+t},this.styles[e.slug]},s.prototype.getFamilyFromActivationEvent=function(e){var t=e.target.getAttribute("data-family-slug");return i.find(this.recommendations,(function(e){return e.slug===t}))},s.prototype.getIdentifier=function(e){return e.slug||e.key||e.id.toString()},s.prototype.getInitialRecommendationType=function(){var e;this.$window.location.href.indexOf("/recommendations/")>=0&&(e=(e=this.$window.location.href.split("/recommendations/")[1]).split("/")[0]);var t=i.map(this.recommendationTypes,(function(e){return e.key}));return(!e||t.indexOf(e)<0)&&(e="all"),i.find(this.recommendationTypes,(function(t){return t.key===e}))},s.prototype.getRecommendationTypeDescription=function(){return this.selectedRecommendationType?this.I18nService.getMessage(this.i18n,"recommendations.type_descriptions."+this.selectedRecommendationType.key):""},s.prototype.getSpecimenCardSubtitle=function(e){return"families"===e.type&&e.foundry&&e.foundry.name?this.I18nService.getMessage(this.i18n,"recommendations.family_card_foundry_subheading",{foundry:e.foundry.name}):""},s.prototype.getTagBackgroundClass=function(e){return this.TagsService.TAG_BACKGROUND_CLASS_MAP[e]},s.prototype.getTextDirectionClass=function(e){return e.display_font.rtl?"sample-right":""},s.prototype.handleActivationEvent=function(e){var t=this,n=e.target.getAttribute("data-fontpack-slug");if(n){var i=t.FontpackService.findFontpackBySlug(n),o="recommendations."+t.selectedRecommendationType.key;t.FontpackService.isFontpackSynced(n)?t.FontpackService.unsyncFontpack(i,o,t.i18n).then((function(){t.NewrelicService.addPageAction("typekit.recommendations.deactivateFontpack",{recommendationIndex:t._getRecommendationIndexBySlug(n,"fontpacks")})})):t.FontpackService.syncFontpack(i,o,t.i18n).then((function(){t.NewrelicService.addPageAction("typekit.recommendations.activateFontpack",{recommendationIndex:t._getRecommendationIndexBySlug(n,"fontpacks")})}))}t.handleFamilyActivationSwitchChange(t.getFamilyFromActivationEvent(e))},s.prototype.handleFamilyActivationSwitchChange=function(e){var t=this;e&&t.AuthenticationService.handleAuthenticationWithPostLoginAction("activate_family",{slug:e.slug}).then((function(){t.isActivated(e)?t._deactivateFamily(e):t._activateFamily(e)}))},s.prototype.handleRecommendationClick=function(e){this.NewrelicService.addPageAction("typekit.recommendations.click",{recommendationIndex:this.recommendations.indexOf(e),recommendationType:e.type})},s.prototype.isActivated=function(e){return"fontpacks"===e.type?this.FontpackService.isFontpackSynced(e.slug):i.all(e.fonts,(function(e){return e.font.sync&&e.font.sync.is_selected}))},s.prototype.loadMoreRecommendations=function(e){this.currentPage&&this.selectedRecommendationType&&(e&&this.NewrelicService.addPageAction("typekit.recommendations.loadMoreClick"),this.selectRecommendationType(this.selectedRecommendationType,this.currentPage+1,e))},s.prototype.selectRecommendationType=function(e,t,n){var o=this;if(t=t||1,o.recommendationTypeChanged=!1,o.isInfiniteScrollEnabled||n)if(o.currentPage>0&&o.currentPage%4===0&&!n)o.isInfiniteScrollEnabled=!1;else if(!o.isLoading&&((o.selectedRecommendationType||{}).key!==(e||{}).key&&(o.recommendationTypeChanged=!0),!o.loadedAllRecommendations||o.recommendationTypeChanged)){o.selectedRecommendationType=e;var r=o.$window.location.pathname.split("/").slice(0,2).join("/");o.UrlService.updatePath(r+("all"===e.key?"":"/"+e.key)),o.isLoading=!0,o.RecommendationsService.get(o.selectedRecommendationType.key,t,o.familiesPerPage,o.isPersonalized).then((function(n){o.isInfiniteScrollEnabled=!0,o.recommendationTypeChanged&&(o.recommendations=[],o.recommendationsByColumn={},o.FontpackService.clearFontpacks(),o.recommendationTypeChanged=!1,o.loadedAllRecommendations=!1,o.NewrelicService.addPageAction("typekit.recommendations.typeSelected",{recommendationType:e.key}));var r=Math.max.apply(null,i.map(a,(function(e){return n.data[e].length})));0===r&&0===n.data.families.length&&(o.loadedAllRecommendations=!0);for(var s,c=0,l=0,u=0;u<r;u++){s=a.slice(l,a.length).concat(a.slice(0,l));for(var d=0;d<s.length;d++)n.data[s[d]][u]&&(n.data.families[c]&&(o.recommendations.push(i.assign(n.data.families[c],{type:"families"})),c++),o.recommendations.push(i.assign(n.data[s[d]][u],{type:s[d]})));l+=1,l%=a.length}var f=i.map(n.data.families.slice(c,n.data.families.length),(function(e){return i.assign(e,{type:"families"})}));o.recommendations=o.recommendations.concat(f),o.recommendations=i.uniq(o.recommendations,o.getIdentifier),i.each(o.columns,(function(e){o.recommendationsByColumn[e]=o._dataForColumn(o.recommendations,e)})),o.FontpackService.addFontpacks(n.data.fontpacks),o.textSampleData=n.data.textSampleData,o.currentPage=t,o.isLoading=!1}))}},s.prototype.updateColumns=function(){var e,t=this,n=this.columns?this.columns.length:null;e=t.$window.innerWidth>=1280?3:t.$window.innerWidth>=768?2:1,t.columns=i.range(e),e!==n&&(t.emptyStateClassesByColumn={},t.recommendationsByColumn={},i.each(t.columns,(function(e){t.emptyStateClassesByColumn[e]=t._dataForColumn(r,e),t.recommendationsByColumn[e]=t._dataForColumn(t.recommendations,e)})))},s.prototype._activateFamily=function(e){var t=this;t.SyncService.addSyncedVariations(i.pluck(e.fonts,"id")).then((function(){e.fonts.forEach((function(e){e.font.sync&&(e.font.sync.is_selected=!0)})),t.NewrelicService.addPageAction("typekit.recommendations.activateFamily",{recommendationIndex:t._getRecommendationIndexBySlug(e.slug,"families")}),t.NotificationService.success(t.I18nService.getMessage(t.i18n,"recommendations.activation_success",{family:e.name}))}),(function(){t.NotificationService.error(t.I18nService.getMessage(t.i18n,"recommendations.activation_error"))}))},s.prototype._dataForColumn=function(e,t){var n=this.columns.length;return i.filter(e,(function(e,i){return i%n===t}))},s.prototype._deactivateFamily=function(e){var t=this;t.SyncService.removeSyncedVariations(i.pluck(e.fonts,"id")).then((function(){e.fonts.forEach((function(e){e.font.sync&&(e.font.sync.is_selected=!1)})),t.NewrelicService.addPageAction("typekit.recommendations.deactivateFamily",{recommendationIndex:t._getRecommendationIndexBySlug(e.slug,"families")}),t.NotificationService.success(t.I18nService.getMessage(t.i18n,"recommendations.deactivation_success",{family:e.name}))}),(function(){t.NotificationService.error(t.I18nService.getMessage(t.i18n,"recommendations.deactivation_error"))}))},s.prototype._getRecommendationIndexBySlug=function(e,t){return i.findIndex(this.recommendations,{slug:e,type:t})},s.prototype._preloadData=function(){var e=this;return e.currentPage=0,e.exampleText={},e.isInfiniteScrollEnabled=!0,e.emptyStateClassesByColumn={},e.loadedAllRecommendations=!1,e.recommendationsByColumn={},e.recommendationTypeChanged=!1,e.styles={},e.currentPage=null,e.selectedRecommendationType=null,e.updateColumns(),e.$q.all([e.DataService.get("/recommendations/preloaded").then((function(t){e.familiesPerPage=t.familiesPerPage,e.isPersonalized=t.isPersonalized,e.recommendationTypes=t.recommendationTypes,e.textSampleData=t.textSampleData,e.selectRecommendationType(e.getInitialRecommendationType(),1,!1)})),e.DataService.get("/recommendations/i18n").then((function(t){e.i18n=t}))])},e.exports=s},1585:function(e,t,n){r.$inject=["$document","$window","DataService","FamilyAutocompleteSearchService","FavoritesService"];var i=n(267),o=n(121);function r(e,t,n,i,o){this.$document=e,this.$window=t,this.DataService=n,this.FamilyAutocompleteSearchService=i,this.FavoritesService=o,this._preloadData()}r.prototype.getExampleText=function(e){var t="list";return null!=e.filters&&e.filters.indexOf("ka:ko")>=0&&(t+="_kana"),{size:40,value:this.textSamples[e.display_font.default_language][t]}},r.prototype._webComponents_initSearchBar=function(){var e=this,t=e.$document.find("af-search-bar")[0];t&&t.addEventListener(o.EVENT_NAME,(function(n){e.FamilyAutocompleteSearchService.get(n.detail.searchParam).then((function(e){t.results=e.data}))}))},r.prototype.getVisualSearchTooltipOffset=function(){return this.$window.innerWidth>=1768?null:this.$window.innerWidth>=1280?"32":this.$window.innerWidth>=768?"24":"16"},r.prototype._preloadData=function(){var e=this;i.areWebComponentsEnabled()&&e._webComponents_initSearchBar(),e.DataService.get("/neue/preloaded_family_data").then((function(t){e.families=t.familiesData.families,e.textSamplePrimers=t.textSampleData.textSamplePrimers,e.textSamples=t.textSampleData.textSamples})),e.DataService.get("/spectrum/search_navigation_tabs").then((function(t){for(var n in e.navigationTabs=t.navigationTabs,t.navigationTabs)if(t.navigationTabs[n].id===t.currentTabId){e.currentTab=t.navigationTabs[n];break}}))},e.exports=r},1586:function(e,t){function n(e,t){var n=this;e.get("filters_sidebar_data").then((function(e){n.filtersModel=t.getFilterModel(e.allFamilyFilters,e.familyFilterData,e.languageFilters)}))}n.$inject=["DataService","FilterDataService"],e.exports=n},1587:function(e,t){n.$inject=["AddFontsToWebProjectService","$scope","$timeout"];function n(e,t,n){this.projectSelectorModel=e.getProjectSelectorModel(),this.addFontsToWebProjectModel=e.getAddFontsToWebProjectModel(),this.AddFontsToWebProjectService=e,this.timeout=n,this.projectSelectorModel.getProjectSelectorModelPromise().then((function(){n((function(){t.$apply()}))}))}n.prototype.getSearchResults=function(){return this.projectSelectorModel.getSearchResults()},n.prototype.getterSetterSearchInput=function(e){if(!(arguments.length>0))return this.projectSelectorModel.getProjectName();this.projectSelectorModel.onProjectNameChange(e)},n.prototype.onSelectorButtonClick=function(){this.projectSelectorModel.onSelectorButtonClick()},n.prototype.onSelectProjectClick=function(e){this.AddFontsToWebProjectService.updateProjectDetails(e),this.projectSelectorModel.onSelectProjectClick(e)},n.prototype.isResultListAvailable=function(){return this.projectSelectorModel.isResultListAvailable()},n.prototype.isProjectInvalid=function(e){return!this.projectSelectorModel.isProjectValid(e)},n.prototype.isSelectorDisabled=function(){return this.projectSelectorModel.isSelectorDisabled()},n.prototype.isInputDisabled=function(){return this.projectSelectorModel.isInputDisabled()},n.prototype.getPlaceholder=function(e,t){return this.projectSelectorModel.getPlaceholder(e,t)},n.prototype.isProjectSelected=function(){return this.projectSelectorModel.isProjectSelected()},n.prototype.onCreateProjectClick=function(){var e=document.querySelector("#webfont-project-selector-search-box");this.getterSetterSearchInput(""),this.projectSelectorModel.resetProjectSelection(),this.projectSelectorModel.enableInputBox(),this.timeout((function(){e.focus()}),500)},n.prototype.isDropdownVisible=function(){return this.projectSelectorModel.isDropdownVisible()},n.prototype.isInvalid=function(){return this.projectSelectorModel.isInvalid()},n.prototype.saveProject=function(e){if("Enter"==e.key){var t=document.querySelector("#create-save-web-project");this.timeout((function(){t.click()}))}},n.prototype.onScroll=function(){this.projectSelectorModel.onNextScroll()},e.exports=n},1588:function(e,t){function n(e){this.styleSelectorModel=e.getStyleSelectorModel()}n.$inject=["AddFontsToWebProjectService"],n.prototype.handleShowMoreClicked=function(e){this.styleSelectorModel.setDisplayVariations(e.web_id,e.variations)},n.prototype.handleCheckboxToggled=function(e){this.styleSelectorModel.toggleCheckbox(e)},n.prototype.getShowMoreCount=function(e){return this.styleSelectorModel.getShowMoreCount(e)},n.prototype.getSelectedVariationCount=function(e){return this.styleSelectorModel.getSelectedVariationCount(e)},n.prototype.getTotalVariationCount=function(e){return this.styleSelectorModel.getTotalVariationCount(e)},n.prototype.getExampleText=function(){return this.styleSelectorModel.getExampleText()},n.prototype.getTextDirectionClass=function(e){return e.rtl?"webfont-project-style-selector__font-preview--rtl":""},n.prototype.getSortedFamilies=function(){return this.styleSelectorModel.getSortedFamilies()},n.prototype.getDisplayVariations=function(e){return this.styleSelectorModel.getDisplayVariations(e)},n.prototype.isVariationSelected=function(e){return this.styleSelectorModel.isVariationSelected(e)},e.exports=n},1589:function(e,t){function n(e){var t=this;t.WebfontProjectService=e;var n=t.WebfontProjectService.getWebfontProjectStylesModel();t.fontVariationsDetails=n.getFontVariations()||[]}n.$inject=["AddFontsToWebProjectService"],e.exports=n},1590:function(e,t,n){e.exports=function(){return{restrict:"E",templateUrl:"/angular_templates/directives/large_web_project_notice.html",bindToController:{},controller:n(1591),controllerAs:"largeWebProjectNoticeCtrl"}}},1591:function(e,t){e.exports=function(){}},1592:function(e,t,n){e.exports=function(){return{scope:{},bindToController:{allowOverlap:"&",endValue:"&",startValue:"&",label:"@",onChange:"&",max:"&",min:"&",step:"&",value:"&",valueLabel:"&",variant:"@"},controller:n(1593),controllerAs:"spectrumSlider",restrict:"E",replace:!0,templateUrl:"/angular_templates/directives/spectrum/slider.html",link:function(e,t,n,i){e.$watch((function(){return{startValue:i.startValue(),endValue:i.endValue()}}),i.updateValues.bind(i),!0)}}}},1593:function(e,t,n){a.$inject=["$element","$scope","$window"];var i=n(6),o="end-handle",r="start-handle";function a(e,t,n){this.$element=e,this.$scope=t,this.$window=n,this.minValue=parseInt(this.min(),10),this.maxValue=parseInt(this.max(),10),this.handleValues={},this.initEvents()}a.prototype.updateValues=function(e){this.isRange()&&(this.handleValues["start-handle"]=e.startValue||1),this.handleValues["end-handle"]=this.isRange()?e.endValue||1:this.value()},a.prototype.calculateHandleValue=function(e){var t=this.$element[0].getBoundingClientRect(),n=(e-t.left)/t.width;return this.minValue+(this.maxValue-this.minValue)*n},a.prototype.findClosestHandle=function(e,t){var n=this,o=n.getHandles(),r=o[0],a=1/0;return i.forEach(o,(function(i){var o=i.getBoundingClientRect(),s=o.top+n.$window.pageYOffset,c=o.left+n.$window.pageXOffset,l=Math.floor(Math.sqrt(Math.pow(e-(c+o.width/2),2)+Math.pow(t-(s+o.height/2),2)));l<a&&(a=l,r=i)})),r},a.prototype.getCenterTrackStyle=function(){return{left:100*this.getRelativePercent(this.getStartHandleValue())+"%",right:100*(1-this.getRelativePercent(this.getEndHandleValue()))+"%"}},a.prototype.getData=function(){return this.isRange()?{end:this.getEndHandleValue(),start:this.getStartHandleValue()}:this.getEndHandleValue()},a.prototype.getEndHandleValue=function(){return this.handleValues["end-handle"]},a.prototype.getEndTrackStyle=function(){var e=100*this.getRelativePercent(this.getEndHandleValue());return{left:e+"%",width:100-e+"%"}},a.prototype.getHandles=function(){return this.$element[0].querySelectorAll(".spectrum-Slider-handle")},a.prototype.getHandleStyle=function(e){return{left:100*this.getRelativePercent(this.handleValues[e])+"%"}},a.prototype.getRelativePercent=function(e){return(e-this.minValue)/(this.maxValue-this.minValue)},a.prototype.getStartHandleValue=function(){return this.handleValues["start-handle"]},a.prototype.getStartTrackStyle=function(){return this.isRange()?{width:100*this.getRelativePercent(this.getStartHandleValue())+"%"}:{left:0,right:0}},a.prototype.getStep=function(){return this.step()||1},a.prototype.getValueLabel=function(){var e=this.valueLabel({$data:this.getData()});return e||(this.isRange()?this.getStartHandleValue()+"\u2013"+this.getEndHandleValue():this.getEndHandleValue())},a.prototype.handleMouseDown=function(e){var t=this,n=function(n){t.handleMouseMove(e,n)};t.$window.addEventListener("mousemove",n),t.$window.addEventListener("mouseup",(function(){t.$window.removeEventListener("mousemove",n)}))},a.prototype.handleMouseMove=function(e,t){var n=this;t.preventDefault();var i=e.dataset.handleId,a=n.calculateHandleValue(t.clientX);i===r&&a>n.getEndHandleValue()&&(a=n.getEndHandleValue(),this.allowOverlap()||(a-=n.getStep())),i===o&&a<n.getStartHandleValue()&&(a=n.getStartHandleValue(),this.allowOverlap()||(a+=n.getStep())),a<n.minValue&&(a=n.minValue),a>n.maxValue&&(a=n.maxValue),n.$scope.$apply((function(){n.handleValues[e.dataset.handleId]=n.snapToStep(a),n.onChange({$data:n.getData()})}))},a.prototype.handlesAreOverlapping=function(){return this.handleValues["start-handle"]===this.handleValues["end-handle"]},a.prototype.initEvents=function(){var e=this;e.$element[0].addEventListener("mousedown",(function(t){t.stopPropagation();var n=e.findClosestHandle(t.pageX,t.pageY);n&&(e.handleMouseMove(n,t),e.handleMouseDown(n))}))},a.prototype.isRange=function(){return"range"===this.variant},a.prototype.isStartHandleVisible=function(){return this.isRange()},a.prototype.snapToStep=function(e){var t=this.getStep();return t?Math.round(e/t)*t:e},e.exports=a},1594:function(e,t,n){e.exports=function(){return{restrict:"E",templateUrl:"/angular_templates/directives/tk_subsetting_options.html",scope:{},bindToController:{tkWebProjectCardModel:"=",tkWebProjectFamilyCardModel:"="},controller:n(1595),controllerAs:"tkSubsettingOptionsCtrl"}}},1595:function(e,t,n){var i=n(18);function o(){this.tkffData=this.tkWebProjectFamilyCardModel.getTkffData(),this.typekitFontFamily=this.tkffData.tkff.typekit_font_family,this.isKitDynamic=this.tkWebProjectCardModel.isDynamic(),this.isCJK=this.tkffData.is_CJK,this.tkffUniqueIdentifier=this.typekitFontFamily.slug+this.tkWebProjectCardModel.getProjectId(),this.openTypeFeatureDisplayInfo=this.tkffData.open_type_feature_display_info,this.enabledLanguageTags=this.tkffData.enabled_language_tags,this.langCheckedStates=this.constructLangCheckedStates();var e=i.copy(this.tkffData.supported_languages_all);this.supportedLanguagesHalves=this._reconstructLanguagesForView(e),this.charSetOptionsEnum=this.tkWebProjectCardModel.getCharSetOptionsEnum(),this.subSettingOptions={all:this.charSetOptionsEnum.CHAR_SET_OPTION_ALL,custom:this.charSetOptionsEnum.CHAR_SET_OPTION_CUSTOM,default:this.charSetOptionsEnum.CHAR_SET_OPTION_DEFAULT,dynamic:this.charSetOptionsEnum.CHAR_SET_OPTION_DYNAMIC},this.selectedSubsetting=this.subSettingOptions[this.tkffData.subsetting]}o.prototype.constructLangCheckedStates=function(){var e,t={};for(e=0;e<this.tkffData.supported_languages_all.length;e++)t[this.tkffData.supported_languages_all[e].language.iana_language_tag]=!1;for(e=0;e<this.enabledLanguageTags.length;e++)t[this.enabledLanguageTags[e]]=!0;return t},o.prototype.getTkffUniqueIdentifier=function(){return this.tkffUniqueIdentifier},o.prototype.isVerticalFeaturesOptionShown=function(){return this.isCJK},o.prototype.toggleVerticalFeaturesSelection=function(){this.tkWebProjectCardModel.setIsModified(!0),this.tkffData.is_vertical_features_enabled=!this.tkffData.is_vertical_features_enabled},o.prototype.toggleOpenTypeFeaturesSelection=function(){this.tkWebProjectCardModel.setIsModified(!0),this.tkffData.is_ot_features_enabled=!this.tkffData.is_ot_features_enabled},o.prototype.isDynamicSubsettingOptionShown=function(){return this.isKitDynamic},o.prototype.isAllChecked=function(){return this.selectedSubsetting==this.charSetOptionsEnum.CHAR_SET_OPTION_ALL},o.prototype.isLanguageSubsettingChecked=function(){return this.selectedSubsetting==this.charSetOptionsEnum.CHAR_SET_OPTION_CUSTOM},o.prototype.isDefaultChecked=function(){return this.selectedSubsetting==this.charSetOptionsEnum.CHAR_SET_OPTION_DEFAULT},o.prototype.isDynamicChecked=function(){return this.selectedSubsetting==this.charSetOptionsEnum.CHAR_SET_OPTION_DYNAMIC},o.prototype.handleSubsettingClick=function(e){this.tkWebProjectCardModel.setIsModified(!0),this.selectedSubsetting=e,this.tkffData.subsetting=e,this.tkWebProjectCardModel.updateIsValid()},o.prototype.isOnlyDynamicSubsettingAllowed=function(){return this.isKitDynamic&&this.isCJK},o.prototype.updateEnabledLanguages=function(e){var t;for(this.tkWebProjectCardModel.setIsModified(!0),this.langCheckedStates[e.language.iana_language_tag]=!this.langCheckedStates[e.language.iana_language_tag],this.enabledLanguageTags.splice(0,this.enabledLanguageTags.length),t=0;t<this.tkffData.supported_languages_all.length;t++)this.langCheckedStates[this.tkffData.supported_languages_all[t].language.iana_language_tag]&&this.enabledLanguageTags.push(this.tkffData.supported_languages_all[t].language.iana_language_tag);this.tkWebProjectCardModel.updateIsValid()},o.prototype._reconstructLanguagesForView=function(e){var t=[];return t.push(e.slice(0,Math.ceil(e.length/2))),t.push(e.slice(Math.ceil(e.length/2),e.length)),t},e.exports=o},1596:function(e,t,n){e.exports=function(){return{restrict:"E",templateUrl:"/angular_templates/directives/tk_web_project_card.html",bindToController:{embedCodeModel:"=",tkWebProjectCardModel:"="},controller:n(1597),controllerAs:"tkWebProjectCardCtrl"}}},1597:function(e,t){o.$inject=["$element","$window","DialogService","TkWebProjectEditorService","NotificationService","DataService"];var n="tk-web-project-card__footer--unstuck",i="tk-web-project-card__footer--stuck";function o(e,t,n,i,o,r){var a=this;a.$element=e,a.$window=t,a.tkWebProjectEditorService=i,a.dialogService=n,a.DataService=r,a.NotificationService=o,a.tkffList=a.tkWebProjectCardModel.getTkffList(),a.projectInfo={id:this.tkWebProjectCardModel.getProjectId(),isDynamic:this.tkWebProjectCardModel.isDynamic()},a.DataService.get("/neue/i18n").then((function(e){a.i18n=e})),a.$window.addEventListener("scroll",(function(){a._handleWindowScroll()})),a.$window.addEventListener("resize",(function(){a._adjustFooterWidth()})),a.tkWebProjectCardModel.isExpanded()&&(a.tkWebProjectCardModel.toggleExpanded(),a.tkWebProjectEditorService.populateCompleteTkffData(this.tkWebProjectCardModel.getProjectDetails().kitToken)),a.busyCursor=!1}o.prototype.toggleExpanded=function(){0==this.tkWebProjectCardModel.getIsDataFetched()?(this.toggleBusyCursor(),this.tkWebProjectEditorService.populateCompleteTkffData(this.tkWebProjectCardModel.getProjectDetails().kitToken,this.toggleBusyCursor)):this.tkWebProjectCardModel.toggleExpanded()},o.prototype.toggleBusyCursor=function(){this.busyCursor=!this.busyCursor},o.prototype.openDeleteConfirmationDialog=function(){this.tkWebProjectEditorService.openDeleteConfirmationDialog(this.tkWebProjectCardModel)},o.prototype.handleSaveClicked=function(){var e=this;e.tkWebProjectEditorService.updateKit(e.tkWebProjectCardModel.getTkffList(),e.tkWebProjectCardModel.getDeletedTkffs(),e.tkWebProjectCardModel.getProjectDetails().kitToken).then((function(t){e.tkWebProjectCardModel.setLastModified(t.last_updated),e.NotificationService.success(e.i18n["kit_editor.kits.publish.update.project_eta_message"].replace("%{web_project_name}",e.tkWebProjectCardModel.getProjectName())),e.tkWebProjectCardModel.updateTkffListBackup()})),e.tkWebProjectCardModel.handleSave()},o.prototype.handleCancelClicked=function(){var e;for(this.tkWebProjectCardModel.handleCancel(),this.tkffList=this.tkWebProjectCardModel.getTkffList(),e=0;e<this.tkffList.length;e++){var t=this.tkWebProjectCardModel.getProjectDetails().kitToken+this.tkffList[e].tkff.typekit_font_family.id;this.tkWebProjectEditorService.getTkWebProjectFamilyCardModel(t).setTkffData(this.tkffList[e]),this.tkWebProjectEditorService.getTkWebProjectEditorStyleSelectorModel(t).setEnabledFontVariationIds(this.tkffList[e].enabled_font_variation_ids)}},o.prototype.getFamilyCardModel=function(e){var t=this.tkWebProjectCardModel.getProjectDetails().kitToken+e;return this.tkWebProjectEditorService.getTkWebProjectFamilyCardModel(t)},o.prototype.getFamilyDisplayModel=function(e){var t=this.tkWebProjectCardModel.getProjectDetails().kitToken+e;return this.tkWebProjectEditorService.getTkWebProjectDisplayFamilyModel(t)},o.prototype.getFooterStickyClass=function(){return this._isFooterActive()&&this._isFooterOutOfView()?(this._adjustFooterWidth(),i):n},o.prototype._getFamiliesEl=function(){return this.$element[0].querySelector(".tk-web-project-card__families")},o.prototype._getFooterEl=function(){return this.$element[0].querySelector(".tk-web-project-card__footer")},o.prototype._adjustFooterWidth=function(){this._isFooterActive()&&(this._getFooterEl().style.width=this.$window.getComputedStyle(this._getFamiliesEl()).width)},o.prototype._handleWindowScroll=function(){this._isFooterActive()&&!this._getFooterEl().classList.contains(this.getFooterStickyClass())&&(this._resetStickyClasses(),this._getFooterEl().classList.add(this.getFooterStickyClass()))},o.prototype._isEntireProjectBelowDisplay=function(){return this._getFamiliesEl().getBoundingClientRect().top>this.$window.innerHeight},o.prototype._isProjectBottomBelowDisplay=function(){return this._getFamiliesEl().getBoundingClientRect().bottom+this._getFooterEl().getBoundingClientRect().height>=this.$window.innerHeight},o.prototype._isFooterOutOfView=function(){return!this._isEntireProjectBelowDisplay()&&this._isProjectBottomBelowDisplay()},o.prototype._isFooterActive=function(){return this.tkWebProjectCardModel.isModified()&&this.tkWebProjectCardModel.isExpanded()&&!!this._getFooterEl()},o.prototype._resetStickyClasses=function(){var e=this._getFooterEl();e.classList.remove(i),e.classList.remove(n)},e.exports=o},1598:function(e,t,n){e.exports=function(){return{restrict:"E",templateUrl:"/angular_templates/directives/tk_web_project_details.html",bindToController:{webProjectDetails:"&"},controller:n(1599),controllerAs:"tkWebProjectDetailsCtrl"}}},1599:function(e,t){function n(){}n.prototype.getDateString=function(){return Date.parse(this.webProjectDetails().dateModified)},e.exports=n},1600:function(e,t,n){e.exports=function(){return{restrict:"E",templateUrl:"/angular_templates/directives/tk_web_project_display_family.html",scope:{},bindToController:{tkFontFamily:"&",tkWebProjectDisplayFamilyModel:"="},controller:n(1601),controllerAs:"tkWebProjectDisplayFamilyCtrl"}}},1601:function(e,t){function n(e){var t=this;this.tkFontFamily()&&this.tkFontFamily().is_variable&&requestAnimationFrame((function(){var n=e[0].querySelector(".tk-web-project-display-family__variable-component");n&&t.tkFontFamily().fvd_sorted_variations.forEach((function(e){var i=document.createElement("af-variable-font-sample-card");i.fontData=e;var o=t.getVariationDisplayData();return i.sampleString=o.textSample,i.fontId=o.opaqueId,i.unicodeRange=o.unicodeRange,n.appendChild(i)}))}))}n.$inject=["$element"],n.prototype.getVariationDisplayData=function(){return this.tkWebProjectDisplayFamilyModel.getVariationDisplayData()},n.prototype.getVariationFamilyName=function(){return this.tkWebProjectDisplayFamilyModel.getVariationFamilyName()},n.prototype.getTypographicFamilySlug=function(){return this.tkWebProjectDisplayFamilyModel.getTypographicFamilySlug()},e.exports=n},1602:function(e,t,n){e.exports=function(){return{restrict:"E",templateUrl:"/angular_templates/directives/tk_web_project_editor_style_selector.html",scope:{},bindToController:{tkWebProjectCardModel:"=",tkWebProjectEditorStyleSelectorModel:"=",tkWebProjectFamilyCardModel:"="},controller:n(1603),controllerAs:"tkWebProjectEditorStyleSelectorCtrl"}}},1603:function(e,t){function n(){}n.prototype.getRatioOfSelectedToAvailableFonts=function(){return this.tkWebProjectEditorStyleSelectorModel.getEnabledFontVariationIds().length+"/"+this.tkWebProjectEditorStyleSelectorModel.getAvailableFontVariations().length},n.prototype.getAvailableFontVariations=function(){return this.tkWebProjectEditorStyleSelectorModel.getAvailableFontVariations()},n.prototype.getCompleteFontVariationStyle=function(e){var t=this.tkWebProjectFamilyCardModel.getFormattedCssFontStack();return this.tkWebProjectEditorStyleSelectorModel.getCompleteFontVariationStyle(e,t)},n.prototype.isVariationSelected=function(e){return this.tkWebProjectEditorStyleSelectorModel.isVariationSelected(e)},n.prototype.handleCheckboxToggled=function(e){this.tkWebProjectEditorStyleSelectorModel.isVariationSelected(e)?this.tkWebProjectFamilyCardModel.updateVariationsDisabled(e.id):this.tkWebProjectFamilyCardModel.updateVariationsEnabled(e.id),this.tkWebProjectEditorStyleSelectorModel.toggleCheckbox(e),this.tkWebProjectCardModel.setIsModified(!0),this.tkWebProjectCardModel.computeTotalVariations()},n.prototype.isVariationRtl=function(e){return e.rtl},n.prototype.getVariationDisplayData=function(e){return this.tkWebProjectEditorStyleSelectorModel.getVariationDisplayData(e)},n.prototype.getExampleText=function(e){return this.tkWebProjectEditorStyleSelectorModel.getExampleText(e)},e.exports=n},1604:function(e,t,n){e.exports=function(){return{restrict:"E",templateUrl:"/angular_templates/directives/tk_web_project_embed_code_options.html",scope:{},bindToController:{embedCodeModel:"="},controller:n(1605),controllerAs:"tkWebProjectEmbedCodeOptionsCtrl"}}},1605:function(e,t){function n(){this.isDefaultVisible=!0}n.prototype.isDefaultSnippetVisible=function(){return!this.embedCodeModel.getIsDynamic()&&this.isDefaultVisible},n.prototype.isCssImportSnippetVisible=function(){return!this.embedCodeModel.getIsDynamic()&&!this.isDefaultVisible},n.prototype.isAsyncSnippetVisible=function(){return this.embedCodeModel.getIsDynamic()},n.prototype.getDefaultSnippetEmbedCode=function(){return this.embedCodeModel.getProjectEmbedDetails().css_code},n.prototype.getCssImportSnippetEmbedCode=function(){return this.embedCodeModel.getProjectEmbedDetails().css_import_code},n.prototype.getAsyncSnippetEmbedCode=function(){return this.embedCodeModel.getProjectEmbedDetails().async_javascript_code},n.prototype.showDefaultCssCode=function(){this.isDefaultVisible=!0},n.prototype.showCssImportCode=function(){this.isDefaultVisible=!1},e.exports=n},1606:function(e,t,n){e.exports=function(){return{restrict:"E",templateUrl:"/angular_templates/directives/tk_web_project_family_card.html",bindToController:{tkWebProjectCardModel:"=",tkWebProjectFamilyCardModel:"="},controller:n(1607),controllerAs:"tkWebProjectFamilyCardCtrl"}}},1607:function(e,t){function n(e,t){this.$window=e,this.tkWebProjectEditorService=t,this._initEventListeners()}n.$inject=["$window","TkWebProjectEditorService"],n.prototype.deleteTkff=function(){this.tkWebProjectFamilyCardModel.isAnyFontRetired?this.tkWebProjectEditorService.openRetiredFontsRemovalConfirmationDialog(this.tkWebProjectCardModel,this.tkWebProjectFamilyCardModel):this.tkWebProjectCardModel.deleteTkff(this.tkWebProjectFamilyCardModel.getTkffData())},n.prototype.getStyleSelectorModel=function(){var e=this.tkWebProjectCardModel.getProjectDetails().kitToken+this.tkWebProjectFamilyCardModel.getTkffData().tkff.typekit_font_family.id;return this.tkWebProjectEditorService.getTkWebProjectEditorStyleSelectorModel(e)},n.prototype.getFontVariations=function(){var e=this.getStyleSelectorModel(),t=this.tkWebProjectFamilyCardModel.getFormattedCssFontStack();return e.webcomponents_getAvailableFontVariations(t)},n.prototype.getSampleText=function(e){return this.getStyleSelectorModel().getTextSamples()[e.defaultLanguage].list},n.prototype.getUnicodeRange=function(e){return this.getStyleSelectorModel().getTextSamples()[e.defaultLanguage].unicode_range},n.prototype._initEventListeners=function(){var e=this;e.$window.addEventListener("web-project.checkbox-checked",(function(t){e.tkWebProjectFamilyCardModel.hasVariationId(t.detail.variationId)&&(t.detail.isChecked?e.tkWebProjectFamilyCardModel.updateVariationsEnabled(t.detail.variationId):e.tkWebProjectFamilyCardModel.updateVariationsDisabled(t.detail.variationId),e.tkWebProjectCardModel.setIsModified(!0),e.tkWebProjectCardModel.computeTotalVariations())}))},e.exports=n},1608:function(e,t,n){e.exports=function(){return{restrict:"E",templateUrl:"/angular_templates/directives/tk_web_project_list.html",bindToController:{tkWebProjectListModel:"=",sortModes:"="},controller:n(1609),controllerAs:"tkWebProjectListCtrl"}}},1609:function(e,t){n.$inject=["TkWebProjectEditorService"];function n(e){this.tkWebProjectEditorService=e,this.searchString="",this.selectedSort=this.tkWebProjectEditorService.getTkWebProjectListModel().getSortOrder()}n.prototype.handlePageNumberChange=function(){this.tkWebProjectEditorService.updateWebProjects(this.searchString,this.getCurrentPage(),!0)},n.prototype.getCurrentPage=function(){return this.tkWebProjectEditorService.getTkWebProjectListModel().currentPage},n.prototype.clearAndGetSearchResults=function(){this.searchString="",this.getSearchResults()},n.prototype.getSearchResults=function(){this.tkWebProjectEditorService.getTkWebProjectListModel().setCurrentPage(1),this.tkWebProjectEditorService.updateWebProjects(this.searchString,1,!0)},n.prototype.isSearchBoxShown=function(){return 0!=this.tkWebProjectEditorService.getTkWebProjectListModel().getWebProjectList().length||this.isEmptyResultsState()},n.prototype.isEmptyResultsState=function(){return 0==this.tkWebProjectEditorService.getTkWebProjectListModel().getWebProjectList().length&&""!=this.searchString},n.prototype.handleSortChange=function(){this.tkWebProjectEditorService.getTkWebProjectListModel().setSortOrder(this.selectedSort),this.tkWebProjectEditorService.updateWebProjects(this.searchString,this.getCurrentPage(),!0)},e.exports=n},1610:function(e,t,n){e.exports=function(){return{scope:{},bindToController:{autocompleteService:"=",inputPlaceholder:"@",resultDivClasses:"@",resultTitle:"@",resultSeeAllLabel:"@"},controller:n(1611),controllerAs:"adobeFontsAutoCompleteCtrl",restrict:"E",transclude:!0,templateUrl:"/angular_templates/directives/adobe_fonts_auto_complete.html",link:function(e,t,n,i){i.element=t[0]}}}},1611:function(e,t,n){a.$inject=["$document","$scope","$timeout"];var i=n(18),o=n(6),r=[40,38,27];function a(e,t,n){this.$document=e,this.$scope=t,this.$timeout=n,this.handleInputKeyup=o.debounce(o.bind(this._handleInputKeyup,this),300),this.isResultListVisible=!1,this.results=[],this._selectedIndex=-1,this._initBodyEvents()}a.prototype.handleElementKeyDown=function(e){this._isNavigationKeyEvent(e)&&this._hasResults()&&this._handleNavigationEvent(e)},a.prototype.handleResultFocus=function(e){this._selectedIndex=e},a.prototype.getSearchResultItemLink=function(e){return this.autocompleteService.getItemHyperlink(e)},a.prototype._getCurrentResultElements=function(){return this.element.querySelectorAll(".adobe-fonts-auto-complete__item a")},a.prototype._getInput=function(){return this.element.getElementsByClassName("adobe-fonts-auto-complete__search-field")[0]},a.prototype._handleNavigationEvent=function(e){if(27==e.keyCode)return this.isResultListVisible=!1,this.results=[],this._selectedIndex=-1,void this._getInput().focus();e.preventDefault(),40==e.keyCode?this._selectedIndex=this._selectedIndex+1<this.results.length?this._selectedIndex+1:0:38==e.keyCode&&(this._selectedIndex=this._selectedIndex>0?this._selectedIndex-1:this.results.length-1),this._getCurrentResultElements()[this._selectedIndex].focus()},a.prototype._handleInputKeyup=function(e){var t=this;t._isNavigationKeyEvent(e)||(t._selectedIndex=-1,t.autocompleteService.get(t.searchTerm).then((function(e){t.$timeout((function(){t.results=e.data,t.isResultListVisible=t.results.length>0}))})))},a.prototype._hasResults=function(){return this.results.length>0},a.prototype._initBodyEvents=function(){var e=this;i.element(e.$document[0].body).on("click focus keyup",(function(t){e._isChildOfDirective(t.target)||e.$scope.$apply((function(){e.isResultListVisible=!1}))}))},a.prototype._isChildOfDirective=function(e){return e==this.element||e.parentNode==this.element||e.parentNode&&this._isChildOfDirective(e.parentNode)},a.prototype._isNavigationKeyEvent=function(e){return o.contains(r,e.keyCode)},e.exports=a},1612:function(e,t,n){e.exports=function(){return{bindToController:{alwaysHasCarousel:"@",hidePreviousAndNextButtons:"=?",isFamilyImageCarousel:"@",isRecommendedFontCarousel:"@",layout:"@",links:"@",itemSize:"@"},controller:n(1613),controllerAs:"carouselCtrl",scope:{},restrict:"E",transclude:!0,templateUrl:"/angular_templates/directives/adobe_fonts_carousel.html"}}},1613:function(e,t,n){a.$inject=["$element","$scope","$timeout","$window"];var i=n(1614).lory,o=n(6),r="adobe-fonts-carousel--active";function a(e,t,n,i){var o=this;o.$element=e,o.$timeout=n,o.$window=i,o.previousSlide=0,o.currentDot=0,o.hidePreviousAndNextButtons=o.hidePreviousAndNextButtons||!1,o.hidePreviousAndNextButtonsInitialSetting=o.hidePreviousAndNextButtons,o._loadAttempts=0,o.areSlidesLoaded=!1,o._currentNumSlidesInViewport=0,i.requestAnimationFrame((function(){o._loadCarousel()})),this.isFamilyImageCarousel&&t.$watch((function(){return o.layout}),(function(){n((function(){o.isCarouselRequired()&&o._activateCarousel()}),1)})),t.$watch((function(){return o._getSlidesHtml()}),(function(e,t){e!==t&&(o.isRecommendedFontCarousel?o._activateCarouselWithSamePosition():(o._activateCarousel(),o.selectDot(0)))})),i.addEventListener("resize",(function(){o.alwaysHasCarousel||(o.isCarouselRequired()?o._activateCarousel():o.carousel&&o._destroyCarousel()),o.isRecommendedFontCarousel&&o._currentNumSlidesInViewport!==o._numSlidesInViewport()&&o._activateCarouselWithSamePosition(),t.$apply((function(){o.isCarouselRequired()})),o._currentNumSlidesInViewport=o._numSlidesInViewport()}))}a.prototype.dotNumbers=function(){return o.range(0,this._numSlides())},a.prototype.getLinkHref=function(){return!this.links||!this.currentDot&&0!==this.currentDot?"":(JSON.parse(this.links)[this.currentDot]||{}).href||""},a.prototype.getLinkName=function(){return!this.links||!this.currentDot&&0!==this.currentDot?"":(JSON.parse(this.links)[this.currentDot]||{}).name||""},a.prototype.shouldShowDotControl=function(){return this.isFamilyImageCarousel?this.itemSize>1&&1===this._numSlidesInViewport()||this.itemSize>3||"grid"===this.layout:!this.isRecommendedFontCarousel&&this.isCarouselRequired()},a.prototype.isCarouselRequired=function(){var e=this._getFrameEl();if(this.isFamilyImageCarousel){if("grid"===this.layout)return this._isContentLoaded()&&(this.areSlidesLoaded=!0),this.areSlidesLoaded;return e.clientWidth<e.scrollWidth-40}return e.clientWidth<e.scrollWidth},a.prototype.isDotActive=function(e){return this.currentDot===e},a.prototype.selectDot=function(e){this.carousel.slideTo(e),this.currentDot=e},a.prototype.shouldShowDot=function(e){return e<this._numDotsVisible()},a.prototype._updatePreviousAndNextButtonsVisibility=function(){this.hidePreviousAndNextButtonsInitialSetting||(this.hidePreviousAndNextButtons=this._numSlidesInViewport()>=this._numSlides())},a.prototype._activateCarousel=function(){var e=this.$element[0].querySelector(".adobe-fonts-carousel");this.isRecommendedFontCarousel?this.carousel=i(e,{slidesToScroll:this._numSlidesInViewport(),rewindOnResize:this.isRecommendedFontCarousel,forceIndexUpdate:!0}):this.carousel=i(e,{rewind:!this.isFamilyImageCarousel,rewindOnResize:!this.alwaysHasCarousel}),this.$element.addClass(r),this.$element[0].addEventListener("before.lory.slide",this._handleSlideEvent.bind(this)),this.isFamilyImageCarousel&&this.selectDot(0),(this.isFamilyImageCarousel||this.isRecommendedFontCarousel)&&this.$element[0].addEventListener("after.lory.slide",this._handleAfterSlideEvent.bind(this)),this._updatePreviousAndNextButtonsVisibility(),this._currentNumSlidesInViewport=this._numSlidesInViewport()},a.prototype._activateCarouselWithSamePosition=function(){var e=0;this.carousel&&(e=this.carousel.returnIndex()),this._activateCarousel(),this.selectDot(e)},a.prototype._destroyCarousel=function(){this.carousel.destroy(),this.carousel=null,this.$element.removeClass(r)},a.prototype._getFrameEl=function(){return this.$element[0].querySelector(".adobe-fonts-carousel__frame")},a.prototype._getSlidesHtml=function(){return[].slice.call(this.$element[0].getElementsByTagName("li")).map((function(e){return e.innerHTML})).join("")},a.prototype._handleSlideEvent=function(e){var t=e.detail.nextSlide;if(this.isFamilyImageCarousel){if(t===this.previousSlide||t===this._numDotsVisible())return;this.previousSlide=t}this.currentDot=this.currentDot===t||t<0?0:t},a.prototype._handleAfterSlideEvent=function(e){var t=e.detail.currentSlide+1,n=this.$element[0].getElementsByClassName("adobe-fonts-carousel__next-button")[0],i=this.$element[0].getElementsByClassName("adobe-fonts-carousel__previous-button")[0];this.isRecommendedFontCarousel?t>=this._numDotsVisible()?(n.classList.add("disabled"),i.classList.remove("disabled")):t<=1?(i.classList.add("disabled"),n.classList.remove("disabled")):(n.classList.remove("disabled"),i.classList.remove("disabled")):"grid"!==this.layout&&t===this._numDotsVisible()&&n.classList.add("disabled")},a.prototype._isContentLoaded=function(){var e=this._getFrameEl();return e.scrollWidth>0&&e.scrollWidth!==e.clientWidth},a.prototype._loadCarousel=function(){var e=this;return!e._isContentLoaded()&&e._loadAttempts<10?(e._loadAttempts++,e.$timeout((function(){e._loadCarousel()}),400)):e.isCarouselRequired()?e._activateCarousel():void e._updatePreviousAndNextButtonsVisibility()},a.prototype._numDotsVisible=function(){return this._numSlides()-this._numSlidesInViewport()+1},a.prototype._numSlides=function(){return this.isRecommendedFontCarousel?this.$element[0].getElementsByClassName("adobe-fonts-carousel-item").length:this.$element[0].getElementsByTagName("li").length},a.prototype._numSlidesInViewport=function(){if(this.$element[0].querySelector(".adobe-fonts-carousel")&&this.$element[0].getElementsByTagName("li")&&this.$element[0].getElementsByTagName("li")[0]){var e=this.$element[0].querySelector(".adobe-fonts-carousel").clientWidth,t=this.$element[0].getElementsByTagName("li")[0].clientWidth;return this.isRecommendedFontCarousel&&(t=this.$element[0].getElementsByClassName("adobe-fonts-carousel-item")[0].clientWidth),this.isFamilyImageCarousel||this.isRecommendedFontCarousel?Math.round(e/t):Math.floor(e/t)}},e.exports=a},1614:function(e,t,n){var i;i=function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={exports:{},id:i,loaded:!1};return e[i].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};t.lory=function(e,t){var n=void 0,s=void 0,u=void 0,d=void 0,f=void 0,p=void 0,h=void 0,g=void 0,m=void 0,v=void 0,y=0,_={};function b(e,t){var n=_.classNameActiveSlide;e.forEach((function(e,t){e.classList.contains(n)&&e.classList.remove(n)})),e[t].classList.add(n)}function S(t,n,i){(0,r.default)(e,t+".lory."+n,i)}function w(e,t,n){var i=p&&p.style;i&&(i[m.transition+"TimingFunction"]=n,i[m.transition+"Duration"]=t+"ms",m.hasTranslate3d?i[m.transform]="translate3d("+e+"px, 0, 0)":i[m.transform]="translate("+e+"px, 0)")}function $(e,t){var i=_,o=i.slideSpeed,r=i.slidesToScroll,a=i.infinite,l=i.rewind,f=i.rewindSpeed,p=i.ease,h=i.classNameActiveSlide,g=i.forceIndexUpdate,m=o,$=t?y+1:y-1,C=Math.round(s-u);S("before","slide",{index:y,nextSlide:$}),"number"!==typeof e&&(e=t?y+r:y-r),e=Math.min(Math.max(e,0),d.length-1),a&&void 0===t&&(e+=a);var F=Math.min(Math.max(-1*d[e].offsetLeft,-1*C),0);l&&Math.abs(n.x)===C&&t&&(F=0,e=0,m=f),w(F,m,p),n.x=F,(g||d[e].offsetLeft<=C)&&(y=e),!a||e!==d.length-a&&0!==e||(t&&(y=a),t||(y=d.length-2*a),n.x=-1*d[y].offsetLeft,v=function(){w(-1*d[y].offsetLeft,0,void 0)}),h&&b(c.call(d),y),S("after","slide",{currentSlide:y})}function C(){S("before","init"),m=(0,o.default)();var r,s,u,v,w=_=i({},a.default,t),$=w.classNameFrame,C=w.classNameSlideContainer,k=w.classNamePrevCtrl,T=w.classNameNextCtrl,P=w.enableMouseEvents,D=w.classNameActiveSlide;f=e.getElementsByClassName($)[0],p=f.getElementsByClassName(C)[0],h=e.getElementsByClassName(k)[0],g=e.getElementsByClassName(T)[0],n={x:p.offsetLeft,y:p.offsetTop},_.infinite?(r=c.call(p.children),s=_.infinite,u=r.slice(0,s),v=r.slice(r.length-s,r.length),u.forEach((function(e){var t=e.cloneNode(!0);p.appendChild(t)})),v.reverse().forEach((function(e){var t=e.cloneNode(!0);p.insertBefore(t,p.firstChild)})),p.addEventListener(m.transitionEnd,M),d=c.call(p.children)):d=c.call(p.children),F(),D&&b(d,y),h&&g&&(h.addEventListener("click",E),g.addEventListener("click",x)),f.addEventListener("touchstart",A,!!l&&{passive:!0}),P&&(f.addEventListener("mousedown",A),f.addEventListener("click",N)),_.window.addEventListener("resize",I),S("after","init")}function F(){var e=_,t=e.infinite,i=e.ease,o=e.rewindSpeed,r=e.rewindOnResize,a=e.classNameActiveSlide;s=p.getBoundingClientRect().width||p.offsetWidth,(u=f.getBoundingClientRect().width||f.offsetWidth)===s&&(s=d.reduce((function(e,t){return e+t.getBoundingClientRect().width||t.offsetWidth}),0)),r?y=0:(i=null,o=0),t?(w(-1*d[y+t].offsetLeft,0,null),y+=t,n.x=-1*d[y].offsetLeft):(w(-1*d[y].offsetLeft,o,i),n.x=-1*d[y].offsetLeft),a&&b(c.call(d),y)}function E(){$(!1,!1)}function x(){$(!1,!0)}"undefined"!==typeof jQuery&&e instanceof jQuery&&(e=e[0]);var k=void 0,T=void 0,P=void 0;function M(){v&&(v(),v=void 0)}function A(e){var t=_.enableMouseEvents,n=e.touches?e.touches[0]:e;t&&(f.addEventListener("mousemove",D),f.addEventListener("mouseup",L),f.addEventListener("mouseleave",L)),f.addEventListener("touchmove",D),f.addEventListener("touchend",L,!!l&&{passive:!0});var i=n.pageX,o=n.pageY;k={x:i,y:o,time:Date.now()},P=void 0,T={},S("on","touchstart",{event:e})}function D(e){var t=e.touches?e.touches[0]:e,i=t.pageX,o=t.pageY;T={x:i-k.x,y:o-k.y},"undefined"===typeof P&&(P=!!(P||Math.abs(T.x)<Math.abs(T.y))),!P&&k&&(e.preventDefault(),w(n.x+T.x,0,null)),S("on","touchmove",{event:e})}function L(e){var t=k?Date.now()-k.time:void 0,i=Number(t)<300&&Math.abs(T.x)>25||Math.abs(T.x)>u/3,o=!y&&T.x>0||y===d.length-1&&T.x<0,r=T.x<0;P||(i&&!o?$(!1,r):w(n.x,_.snapBackSpeed)),k=void 0,f.removeEventListener("touchmove",D),f.removeEventListener("touchend",L),f.removeEventListener("mousemove",D),f.removeEventListener("mouseup",L),f.removeEventListener("mouseleave",L),S("on","touchend",{event:e})}function N(e){T.x&&e.preventDefault()}function I(e){F(),S("on","resize",{event:e})}return C(),{setup:C,reset:F,slideTo:function(e){$(e)},returnIndex:function(){return y-_.infinite||0},prev:E,next:x,destroy:function(){S("before","destroy"),f.removeEventListener(m.transitionEnd,M),f.removeEventListener("touchstart",A),f.removeEventListener("touchmove",D),f.removeEventListener("touchend",L),f.removeEventListener("mousemove",D),f.removeEventListener("mousedown",A),f.removeEventListener("mouseup",L),f.removeEventListener("mouseleave",L),f.removeEventListener("click",N),_.window.removeEventListener("resize",I),h&&h.removeEventListener("click",E),g&&g.removeEventListener("click",x),_.infinite&&Array.apply(null,Array(_.infinite)).forEach((function(){p.removeChild(p.firstChild),p.removeChild(p.lastChild)})),S("after","destroy")}}};var o=s(n(2)),r=s(n(3)),a=s(n(5));function s(e){return e&&e.__esModule?e:{default:e}}var c=Array.prototype.slice,l=!1;try{var u=Object.defineProperty({},"passive",{get:function(){l=!0}});window.addEventListener("testPassive",null,u),window.removeEventListener("testPassive",null,u)}catch(d){}},function(e,t){(function(e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var t,n,i,o=void 0,r=void 0,a=void 0,s=void 0;return t=document.createElement("_"),n=t.style,i=void 0,""===n[i="webkitTransition"]&&(a="webkitTransitionEnd",r=i),""===n[i="transition"]&&(a="transitionend",r=i),""===n[i="webkitTransform"]&&(o=i),""===n[i="msTransform"]&&(o=i),""===n[i="transform"]&&(o=i),document.body.insertBefore(t,null),n[o]="translate3d(0, 0, 0)",s=!!e.getComputedStyle(t).getPropertyValue(o),document.body.removeChild(t),{transform:o,transition:r,transitionEnd:a,hasTranslate3d:s}}}).call(t,function(){return this}())},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var i=new r.default(t,{bubbles:!0,cancelable:!0,detail:n});e.dispatchEvent(i)};var i,o=n(4),r=(i=o)&&i.__esModule?i:{default:i}},function(e,t){(function(t){var n=t.CustomEvent;e.exports=function(){try{var e=new n("cat",{detail:{foo:"bar"}});return"cat"===e.type&&"bar"===e.detail.foo}catch(t){}return!1}()?n:"undefined"!==typeof document&&"function"===typeof document.createEvent?function(e,t){var n=document.createEvent("CustomEvent");return t?n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail):n.initCustomEvent(e,!1,!1,void 0),n}:function(e,t){var n=document.createEventObject();return n.type=e,t?(n.bubbles=Boolean(t.bubbles),n.cancelable=Boolean(t.cancelable),n.detail=t.detail):(n.bubbles=!1,n.cancelable=!1,n.detail=void 0),n}}).call(t,function(){return this}())},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={slidesToScroll:1,slideSpeed:300,rewindSpeed:600,snapBackSpeed:200,ease:"ease",rewind:!1,infinite:!1,classNameFrame:"js_frame",classNameSlideContainer:"js_slides",classNamePrevCtrl:"js_prev",classNameNextCtrl:"js_next",classNameActiveSlide:"active",enableMouseEvents:!1,window:window,rewindOnResize:!0,forceIndexUpdate:!1}}])},e.exports=i()},1615:function(e,t,n){e.exports=function(){return{scope:{},bindToController:{filtersModel:"&",onFiltersChange:"&"},controller:n(1616),controllerAs:"filtersSidebarCtrl",restrict:"E",replace:!0,templateUrl:"/angular_templates/directives/spectrum/adobe_fonts_filters_sidebar.html"}}},1616:function(e,t,n){o.$inject=["DataService","NewrelicService"];var i=n(6);function o(e,t){var n=this;e.get("/font_filters_sidebar/i18n").then((function(e){n.i18n=e})),n.NewrelicService=t,n._filterSectionOpenStates={library:!0,classification:!0,"recommended-for":!0,properties:!0,tags:!0,languages:n.isSelectedLanguagesOpen()},n._displayTagsCount=n.getTags()?n.getTags().length:0,n._displayShowMore=!1,this.selectedLanguage=this.getSelectedLanguage()||"all",this.prioritizedLanguage=this.getPrioritizedLanguage()}o.prototype.clearFilters=function(){this.filtersModel().selectLanguageMode("all"),this.filtersModel().clearAll(),this.selectedLanguage="all",this.filtersModel().setShowPaidFonts(!1,!0),this.onFiltersChange()},o.prototype.getPrioritizedLanguage=function(){var e,t=this.filtersModel().getLocale();if(!t)return null;switch(t){case"zh_CN":e="zh-Hans";break;case"zh_TW":e="zh-Hant";break;default:e=t.split(/[-_]+/)[0]}return i.find(this.getLanguages(),(function(t){return t.value===e}))},o.prototype.getCurrentFilters=function(){return this.filtersModel()&&this.filtersModel().getFiltersForCurrentBrowseMode()},o.prototype.getDisplayMoreCount=function(){return this.getTags().length-this.getDisplayTagsCount()},o.prototype.getDisplayTagsCount=function(){return this._displayTagsCount},o.prototype.getFontDisplayData=function(e){return this.filtersModel()&&this.filtersModel().getFontDisplayData(e)},o.prototype.getIconUrlForFilter=function(e){return"#filter-icon-sprite-"+e.slug},o.prototype.getLanguages=function(){return this.filtersModel()&&this.filtersModel().getLanguages()},o.prototype.getSelectedLanguage=function(){if(this.filtersModel())return this.filtersModel().getSelectedLanguages().length>0?this.filtersModel().getSelectedLanguages()[0]:void 0},o.prototype.getStylesSliderLabel=function(e){return e.start===e.end?this.i18n["shared.adobe_fonts_filters_sidebar.number_of_styles_all"]:e.end>25?e.start+"\u201325+":e.start+"\u2013"+e.end},o.prototype.getTags=function(){return this.filtersModel()&&this.filtersModel().getTags()},o.prototype.handleAllClickForSection=function(e){this.filtersModel().clearSelectedFiltersForSection(e),this.onFiltersChange()},o.prototype.handleFilterClick=function(e){this.filtersModel().toggleFilter(e),this.onFiltersChange(),this.NewrelicService.addPageAction("typekit.browse.click",{filterName:e})},o.prototype.handleFilterRadioClick=function(e){this.filtersModel().selectFilter(e),this.onFiltersChange()},o.prototype.handleLanguageClick=function(e){this.filtersModel().toggleLanguage(e),this.onFiltersChange()},o.prototype.handleSectionToggleClick=function(e){this._filterSectionOpenStates[e]=!this._filterSectionOpenStates[e]},o.prototype.handleSelectedLanguageChange=function(){this.filtersModel().setSelectedLanguage(this.selectedLanguage),this.onFiltersChange(),this.onFiltersChange()},o.prototype.handleSelectedLanguageModeChange=function(){this.filtersModel().setSelectedLanguageMode(this.selectedLanguage),this.onFiltersChange()},o.prototype.handleShowPaidFontsChange=function(){this.filtersModel().setShowPaidFonts(!this.filtersModel().getShowPaidFonts(),!0),this.onFiltersChange()},o.prototype.handleStylesSliderChange=function(e){this.filtersModel().setMinStyles(e.start),this.filtersModel().setMaxStyles(e.end),this.onFiltersChange()},o.prototype.getMinStyles=function(){return this.filtersModel()&&this.filtersModel().getMinStyles()},o.prototype.getMaxStyles=function(){return this.filtersModel()&&this.filtersModel().getMaxStyles()},o.prototype.handleTagClick=function(e){this.filtersModel().toggleTag(e),this.onFiltersChange(),this.NewrelicService.addPageAction("typekit.browse.click",{tagName:e})},o.prototype.isAllSelectedForSection=function(e){return!this.filtersModel().isAnyFilterSelectedForSection(e)},o.prototype.isClearFiltersEnabled=function(){return this.filtersModel()&&this.filtersModel().isAnythingSelected()},o.prototype.isFilterSelected=function(e){return this.filtersModel().isFilterSelected(e)},o.prototype.isSectionOpen=function(e){return!!this._filterSectionOpenStates[e]},o.prototype.isSelectedLanguagesOpen=function(){return this.filtersModel()&&this.filtersModel().getSelectedLanguages().length>0},o.prototype.isShowPaidFontsSelected=function(){return this.filtersModel()&&this.filtersModel().getShowPaidFonts()},o.prototype.isLanguageSelected=function(e){return this.filtersModel().isLanguageSelected(e)},o.prototype.isLanguagesSectionVisible=function(){return this.filtersModel()&&"default"==this.filtersModel().getBrowseMode()},o.prototype.isLibrarySectionVisible=function(){return this.filtersModel()&&this.filtersModel().getShowLibraryOption()},o.prototype.isGrouped=function(e){return"group"==e.type},o.prototype.isTagSelected=function(e){return this.filtersModel().isTagSelected(e)},o.prototype.isTagsSectionVisible=function(){return this.filtersModel()&&this.filtersModel().isTagsModuleVisible()},o.prototype.shouldDisplayShowLess=function(){return!this._displayShowMore},o.prototype.shouldDisplayShowMore=function(){return this._displayShowMore&&this.getDisplayMoreCount()>0},o.prototype.shouldDisplayStylesSlider=function(e){return"properties"===e.name},o.prototype.shouldShowDisplayFont=function(e){return Boolean(e.font)&&this.filtersModel()&&"ru_RU"!==this.filtersModel().getLocale()},o.prototype.toggleShowMore=function(){6===this._displayTagsCount?(this._displayTagsCount=this.getTags().length,this._displayShowMore=!1):(this._displayTagsCount=6,this._displayShowMore=!0)},e.exports=o},1617:function(e,t,n){e.exports=function(){return{scope:{},bindToController:{exampleText:"=",textSampleData:"&",fonts:"="},controller:n(1618),controllerAs:"fontVariationListCtrl",restrict:"E",replace:!0,templateUrl:"/angular_templates/directives/adobe_fonts_font_variation_list.html"}}},1618:function(e,t){function n(e,t,n){var i=this;i.viewType="list",i.FontLoaderService=n,i.currentPage=1,i.fontsPerPage=12,i.$scope=e,i.$timeout=t,e.$watch((function(){return i.fonts}),(function(e,t){e!==t&&(i.totalPages=Math.ceil(i.fonts.length/i.fontsPerPage),i.handlePageNumberChange())}))}n.$inject=["$scope","$timeout","FontLoaderService"],n.prototype.fontVariationCardsClass=function(){return"grid"===this.viewType?"font-variations-grid-view":"font-variation-list"},n.prototype.updateFonts=function(){this.FontLoaderService.updateFonts(this.exampleText.value)},n.prototype.familyLink=function(e){return"/fonts/"+e.family.slug},n.prototype.handlePageNumberChange=function(){var e=this,t=e.currentPage*e.fontsPerPage-e.fontsPerPage,n=e.currentPage*e.fontsPerPage;e.visibleFonts=e.fonts.slice(t,n),e.$timeout((function(){e.$scope.$apply()}),1)},e.exports=n},1619:function(e,t,n){i.$inject=["$document"];function i(e){return{scope:{},bindToController:{sampleTextData:"=",warnNonDefaultCharacterSets:"=?"},controller:n(1620),controllerAs:"pangramMenu",require:["adobeFontsPangramMenu","ngModel"],link:function(n,i,o,r){var a=r[0];a.ngModel=r[1],a.userEnteredTextArea=i[0].querySelector(".adobe-fonts-pangram-menu__text"),a.ngModel.$render=function(){a.userEnteredText=a.ngModel.$viewValue},function(n,i,o){e.on("click",(function(e){t(i[0],e.target)||n.$apply((function(){o._closeMenu()}))})),e.on("keyup",(function(e){27==e.keyCode&&n.$apply((function(){o._closeMenu()}))}))}(n,i,a)},replace:!0,restrict:"E",templateUrl:"/angular_templates/directives/adobe_fonts_pangram_menu.html",transclude:!0};function t(e,n){return n==e||!!n.parentNode&&t(e,n.parentNode)}}e.exports=i},1620:function(e,t,n){o.$inject=["$window","DataService","NewrelicService","NotificationService"];var i=n(189);function o(e,t,n,o){var r=this;r.$window=e,r.DataService=t,r.NewrelicService=n,r.NotificationService=o,r.isOpen=!1,r.i18n={};var a=i.parseUnicodeRange(r.sampleTextData.textSamples.en.unicode_range).toRegExp();r.allowedCharset=new RegExp(a+"+"),r.DataService.get("/neue/i18n").then((function(e){r.i18n=e}))}o.prototype.handleEnterYourOwnClick=function(){this.userEnteredTextArea.focus(),this.userEnteredTextArea.select(),this._closeMenu()},o.prototype.handleInputBlur=function(){this.$window.dispatchEvent(new Event("sample-text.blur"))},o.prototype.handleInputFocus=function(){this.$window.dispatchEvent(new Event("sample-text.focus"))},o.prototype.handleItemClick=function(e){this.ngModel.$setViewValue(e),this.userEnteredText=e,this._closeMenu(),this.NewrelicService.addPageActionWithDelay("typekit.ui.sampleChanged",{text:e},3e3)},o.prototype.handleSampleChanged=function(){this.warnNonDefaultCharacterSets&&this.userEnteredText.replace(this.allowedCharset,"")&&this.NotificationService.error(this.i18n["frontend.browse_sample_text.characters_not_allowed"],{timeout:1e4}),this.ngModel.$setViewValue(this.userEnteredText),this.NewrelicService.addPageActionWithDelay("typekit.ui.sampleChanged",{text:this.ngModel.$viewValue},3e3)},o.prototype.handleMenuButton=function(){this.isOpen=!this.isOpen},o.prototype.isItemSelected=function(e){return e==this.ngModel.$viewValue},o.prototype._closeMenu=function(){this.isOpen=!1},e.exports=o},1621:function(e,t,n){e.exports=function(){return{scope:{},bindToController:{newrelicActionSource:"@",displayView:"@"},controller:n(1622),controllerAs:"fontpackCardListController",restrict:"E",replace:!0,transclude:!0,templateUrl:"/angular_templates/directives/adobe_fonts_fontpack_card_list.html"}}},1622:function(e,t){n.$inject=["$q","$element","$http","DataService","FontpackService","ScrollService","UrlService"];function n(e,t,n,i,o,r,a){var s=this;s.$q=e,s.$element=t,s.$http=n,s.DataService=i,s.FontpackService=o,s.ScrollService=r,s.UrlService=a,s._preloadData()}n.prototype.fontpackItemClass=function(e){return"collection-item"+("draft"===e.status?" collection-item-draft":"")},n.prototype._preloadData=function(){var e=this;return e.$q.all([e.DataService.get("/neue/fontpack_items").then((function(t){e.fontpacks=t.fontpacks,e.FontpackService.addFontpacks(e.fontpacks),e.currentPage=t.currentPage,e.totalPages=t.totalPages}))])},n.prototype.handlePageNumberChange=function(){var e=this;e.$http.get("/collections.json",{params:{page:e.currentPage}}).then((function(t){e.fontpacks=t.data.fontpacks,e.FontpackService.clearFontpacks(),e.FontpackService.addFontpacks(e.fontpacks)})),e.UrlService.updateSearchParams({page:e.currentPage}),e.ScrollService.scrollUpTo(e.$element[0],500)},n.prototype.isEmpty=function(){return!this.fontpacks||this.fontpacks.length<1},e.exports=n},1623:function(e,t,n){e.exports=function(){return{scope:{},bindToController:{newrelicActionSource:"=",fontpackItem:"="},controller:n(1624),controllerAs:"fontpackCardCtrl",restrict:"E",replace:!0,transclude:!0,templateUrl:"/angular_templates/directives/adobe_fonts_fontpack_card.html"}}},1624:function(e,t){function n(e,t){var n=this;n.$q=e,n.DataService=t,n._preloadData()}n.$inject=["$q","DataService"],n.prototype.fontpackCardImageStyle=function(e){return{"background-image":'url("'+(e.thumbnail_url||"/thumbnails/original/missing.png")+'")'}},n.prototype._preloadData=function(){var e=this;return e.$q.all([e.DataService.get("/neue/fontpack_items").then((function(t){e.fontpacks=t.fontpacks})),e.DataService.get("/fontpack_items/i18n").then((function(t){e.i18n=t}))])},e.exports=n},1625:function(e,t,n){e.exports=function(){return{scope:{},bindToController:{imageItems:"=",displayView:"@"},controller:n(1626),controllerAs:"fontImageCardListController",restrict:"E",replace:!0,transclude:!0,templateUrl:"/angular_templates/directives/adobe_fonts_family_image_card_list.html"}}},1626:function(e,t){function n(){}n.prototype._familyImageClass=function(){return 1===this.imageItems.length?"adobe-fonts-family-image-card-box-single-image":2===this.imageItems.length?"adobe-fonts-family-image-card-box-double-image":"adobe-fonts-family-image-card-box-multiple-image"},n.prototype.familyImageContainerClass=function(){return 1===this.imageItems.length?"adobe-font-family-image-card-list-layout":""},n.prototype.cardListMargin=function(){return"family-carousel"===this.displayView?"adobe-fonts-family-image-card-family-list-margin":"adobe-fonts-family-image-card-list-margin"},n.prototype.layoutClass=function(){return"family-carousel"===this.displayView?this._familyImageClass():"adobe-fonts-family-image-card-view"},e.exports=n},1627:function(e,t,n){e.exports=function(){return{scope:{},bindToController:{imageItem:"=",displayView:"@",itemSize:"@"},controller:n(1628),controllerAs:"fontImageCardCtrl",restrict:"E",replace:!0,transclude:!0,templateUrl:"/angular_templates/directives/adobe_fonts_family_image_card.html"}}},1628:function(e,t){function n(){}n.prototype.familyImageClass=function(){return"family-carousel"===this.displayView&&this.itemSize<=2?"adobe-fonts-family-image-card--image-family-view":"adobe-fonts-family-image-card--image"},n.prototype.familyImageContainerClass=function(){if("family-carousel"===this.displayView)return this.itemSize>2?"adobe-fonts-family-image-card--container-list":"adobe-fonts-family-image-card--container-list-fewer-images"},e.exports=n},1629:function(e,t,n){e.exports=function(){return{restrict:"E",templateUrl:"/angular_templates/directives/font_display_options.html",scope:{},bindToController:{tkWebProjectCardModel:"=",tkWebProjectFamilyCardModel:"="},controller:n(1630),controllerAs:"fontDisplayOptionsCtrl"}}},1630:function(e,t){function n(){this.tkffData=this.tkWebProjectFamilyCardModel.getTkffData(),this.fontDisplayOptions=["auto","block","swap","fallback","optional"],-1===this.fontDisplayOptions.indexOf(this.tkffData.font_display)&&(this.tkffData.font_display="auto"),this.selectedFontDisplay=this.tkffData.font_display}n.prototype.handleFontDisplayClick=function(e){this.tkWebProjectCardModel.setIsModified(!0),this.selectedFontDisplay=e,this.tkffData.font_display=e},n.prototype.isButtonChecked=function(e){return this.selectedFontDisplay===e},e.exports=n},1631:function(e,t,n){e.exports=function(){return{scope:{},bindToController:{families:"=",i18n:"&",textSampleData:"&",isActiveFontsView:"&",loadMoreFamilies:"&"},controller:n(1632),controllerAs:"fontFamilyAccordionCtrl",restrict:"E",replace:!0,templateUrl:"/angular_templates/directives/font_family_accordion.html"}}},1632:function(e,t,n){o.$inject=["$scope","AuthenticationService","I18nService","FontCountService","NewrelicService","NotificationService","SyncService"];var i=n(6);function o(e,t,n,i,o,r,a){var s=this;s.$scope=e,s.AuthenticationService=t,s.I18nService=n,s.FontCountService=i,s.NewrelicService=o,s.NotificationService=r,s.SyncService=a,s._init(),s.$scope.$watch((function(){return s.families}),(function(){s._init()}))}o.prototype.loadMoreFamilies=function(){this.loadMoreFamilies()},o.prototype.handleFontVariationSyncButtonClick=function(e){var t=this;this.AuthenticationService.handleAuthenticationWithPostLoginAction("activate_font",{font_variation_id:e.id}).then((function(){t.isActiveFontsView()?t._removeSyncedVariation(e):t._addSyncedVariation(e)}))},o.prototype.handleFamilySyncButtonClick=function(e){var t=this;this.AuthenticationService.handleAuthenticationWithPostLoginAction("activate_family",{slug:e.slug}).then((function(){t.isActiveFontsView()?t._removeSyncedFamily(e):t._addSyncedFamily(e)}))},o.prototype.familyLink=function(e){return"/fonts/"+e.slug},o.prototype.isSelectedVariation=function(e){return this.selectedFont&&this.selectedFont.id===e.id},o.prototype.isSelectedFamily=function(e){return this.selectedFamily&&this.selectedFamily.slug===e.slug},o.prototype.isCollapsed=function(e){return!!e.isCollapsed},o.prototype.toggleAccordion=function(e){e.isCollapsed=!e.isCollapsed},o.prototype.handleFamilyRowClick=function(e){this.selectedFont=e.fonts[0],this.selectedFamily=e},o.prototype.handleFontVariationRowClick=function(e,t){this.selectedFont=e,this.selectedFamily=t},o.prototype.handleNextButtonClick=function(){var e=this._selectedFontFamilyIndex(),t=this._selectedFontIndex(),n=this._selectedFontFamily();this._memoizeIndices(t,e),++t<n.fonts.length?(this.selectedFont=n.fonts[t],this._memoizeIndices(t,e)):++e<this.families.length&&(this.selectedFamily=this.families[e],this.selectedFont=this.selectedFamily.fonts[0],this._memoizeIndices(0,e))},o.prototype.handlePreviousButtonClick=function(){var e=this._selectedFontFamilyIndex(),t=this._selectedFontIndex();if(this._memoizeIndices(t,e),--t>=0)this.selectedFont=this._selectedFontFamily().fonts[t],this._memoizeIndices(t,e);else if(--e>=0){this.selectedFamily=this.families[e];var n=this.selectedFamily.fonts.length-1;this.selectedFont=this.selectedFamily.fonts[n],this._memoizeIndices(n,e)}},o.prototype.isExpired=function(e){var t=e.font;if(t&&t.sync)return!!t.sync.install_state&&i.contains(t.sync.install_state.split(","),"cc")},o.prototype.reactivate=function(e){var t=this;this.AuthenticationService.handleAuthenticationWithPostLoginAction("activate_font",{font_variation_id:e.id}).then((function(){t._reactivateVariation(e)}))},o.prototype.getActionName=function(){return this.isActiveFontsView()?this.I18nService.getMessage(this.i18n(),"my_fonts.accordion_heading.deactivate"):this.I18nService.getMessage(this.i18n(),"my_fonts.accordion_heading.activate")},o.prototype.isMouseOverReinstallIcon=function(e){return e.isMouseOverReinstallIcon},o.prototype.handleReinstallIconMouseOver=function(e){e.isMouseOverReinstallIcon=!0},o.prototype.handleReinstallIconMouseLeave=function(e){e.isMouseOverReinstallIcon=!1},o.prototype.hasVariableFonts=function(e){return i.any(e.fonts,(function(e){return e.is_variable_font}))},o.prototype._reactivateVariation=function(e){var t,n=this;n.NewrelicService.addPageAction("typekit.my-fonts-page.click.reinstall-button"),n.SyncService.addSyncedVariations([e.id]).then((function(o){if("data"in o&&o.data.added_font_ids.indexOf(e.id)>-1){var r=i.findWhere(n.families,{slug:e.family.slug});i.findWhere(r.fonts,{id:e.id}).font.sync.install_state="os"}else t=!0}),(function(){t=!0})),t&&n.NotificationService.error(n.I18nService.getMessage(n.i18n(),"neue.browse.family_card.error_occurred_activating_fonts"))},o.prototype._removeSyncedFamily=function(e){var t=this,n=e.fonts;t.NewrelicService.addPageAction("typekit.click.unsync-all-button",{family:e.name}),t.SyncService.removeSyncedVariations(i.pluck(n,"id")).then((function(o){var r,a=[];n.forEach((function(e){"data"in o&&o.data.removed_font_ids.indexOf(e.id)>-1?a.push(e.id):r=!0})),t.FontCountService.updateActivatedFontsCount(-a.length),r?(t.NotificationService.error(t.I18nService.getMessage(t.i18n(),"neue.browse.family_card.error_occurred_deactivating_some_fonts")),e.fonts=i.filter(n,(function(e){return!i.contains(a,e.id)}))):(a.length>1?t.NotificationService.success(t.I18nService.getMessage(t.i18n(),"neue.browse.family_card.fonts_deactivated_action.other",{count:a.length})):t.NotificationService.success(t.I18nService.getMessage(t.i18n(),"neue.browse.family_card.fonts_deactivated_action.one")),t._removeFamily(e),t.FontCountService.updateFamiliesCount(-1)),t.isSelectedFamily(e)&&t._removeSelections()}),(function(){t.NotificationService.error(t.I18nService.getMessage(t.i18n(),"neue.browse.family_card.error_occurred_deactivating_fonts"))}))},o.prototype._addSyncedFamily=function(e){var t=this,n=e.fonts;t.NewrelicService.addPageAction("typekit.click.sync-all-button",{family:e.name}),t.SyncService.addSyncedVariations(i.pluck(n,"id")).then((function(o){var r,a=[];n.forEach((function(e){"data"in o&&o.data.added_font_ids.indexOf(e.id)>-1?a.push(e.id):r=!0})),t.FontCountService.updatePreviouslyActivatedFontsCount(-a.length),r?(t.NotificationService.error(t.I18nService.getMessage(t.i18n(),"neue.browse.family_card.error_occurred_activating_some_fonts")),e.fonts=i.filter(n,(function(e){return!i.contains(a,e.id)}))):(a.length>1?t.NotificationService.success(t.I18nService.getMessage(t.i18n(),"neue.browse.family_card.fonts_activated_action.other",{count:a.length})):t.NotificationService.success(t.I18nService.getMessage(t.i18n(),"neue.browse.family_card.fonts_activated_action.one")),t._removeFamily(e),t.FontCountService.updateFamiliesCount(-1)),t.isSelectedFamily(e)&&t._removeSelections()}),(function(){t.NotificationService.error(t.I18nService.getMessage(t.i18n(),"neue.browse.family_card.error_occurred_activating_fonts"))}))},o.prototype._selectedFontFamilyIndex=function(){var e=this;return e.selectedFont.familyIndex||i.findIndex(e.families,{slug:e.selectedFont.family.slug})},o.prototype._selectedFontFamily=function(){return this.families[this._selectedFontFamilyIndex()]},o.prototype._selectedFontIndex=function(){var e=this;return e.selectedFont.variationIndex||i.findIndex(e._selectedFontFamily().fonts,{id:e.selectedFont.id})},o.prototype._memoizeIndices=function(e,t){this.selectedFont.familyIndex=t,this.selectedFont.variationIndex=e},o.prototype._removeSyncedVariation=function(e){var t=this;t.NewrelicService.addPageAction("typekit.click.unsync-button"),t.SyncService.removeSyncedVariations([e.id]).then((function(){t.FontCountService.updateActivatedFontsCount(-1),t._removeVariationFromFontFamilyList(e)}))},o.prototype._addSyncedVariation=function(e){var t=this;t.NewrelicService.addPageAction("typekit.click.sync-button"),t.SyncService.addSyncedVariations([e.id]).then((function(){t.FontCountService.updatePreviouslyActivatedFontsCount(-1),t._removeVariationFromFontFamilyList(e)}))},o.prototype._removeVariationFromFontFamilyList=function(e){var t=this,n=i.findIndex(t.families,{slug:e.family.slug}),o=t.families[n];o.fonts=i.without(o.fonts,e),0===o.fonts.length&&(t._removeFamily(o),t.FontCountService.updateFamiliesCount(-1)),t.isSelectedVariation(e)&&t._removeSelections()},o.prototype._removeSelections=function(){this.selectedFont=null,this.selectedFamily=null},o.prototype._removeFamily=function(e){this.families=i.without(this.families,e),this.isFamilyRemovedFromList=!0},o.prototype._init=function(){if(this.isFamilyRemovedFromList)this.isFamilyRemovedFromList=!1;else{this.selectedFamily=this.families[0];var e=this.selectedFamily.fonts[0];e.isFirst=!0,this.selectedFont=e;var t=this.families[this.families.length-1];t.fonts[t.fonts.length-1].isLast=!0}},e.exports=o},1633:function(e,t,n){e.exports=function(){return{scope:{},bindToController:{textSamples:"&",onNext:"&",onPrevious:"&",font:"="},controller:n(1634),controllerAs:"fontPreviewCtrl",restrict:"E",replace:!0,templateUrl:"/angular_templates/directives/font_preview.html"}}},1634:function(e,t){function n(){this.exampleText={size:36}}n.prototype.getExampleTextStyle=function(){return{fontSize:this.exampleText.size+"px"}},n.prototype.getExampleText=function(){var e=this.textSamples()[this.font.default_language];return this.exampleText.value=e.kana_only?e.list_kana:e.list,this.exampleText},n.prototype.getFontDisplayData=function(){var e=this.textSamples(),t=e[this.font.default_language].unicode_range,n=e[this.font.default_language].feature_settings,i=e[this.font.default_language].kana_only||!1;return{cssName:this.font.family.web_id+"-"+this.font.font.web.fvd,fvd:this.font.font.web.fvd,isDynamic:!0,opaqueId:this.font.family.web_id,unicodeRange:t,featureSettings:n,kanaOnly:i}},n.prototype.getTextDirectionClass=function(){return this.font.rtl?"sample-right":""},n.prototype.handlePreviousButtonClick=function(){this.onPrevious()},n.prototype.handleNextButtonClick=function(){this.onNext()},e.exports=n},1635:function(e,t){e.exports=function(){return{scope:{showUpgradeToggle:"&",upgradeSelected:"&?",changeRequiredActionToggle:"&onChangeRequiredActionToggle"},restrict:"E",replace:!0,templateUrl:"/angular_templates/directives/required_action_toggle.html",link:function(e){var t=e.upgradeSelected();e.toggleUpgradeAction=function(){var n;n={upgrade:!!(t=!t)},e.changeRequiredActionToggle({filteredActions:n})},e.isUpgradeSelected=function(){return e.showUpgradeToggle()&&t}}}}},1636:function(e,t,n){e.exports=function(){return{scope:{},bindToController:{cardType:"@",showCarousel:"@",exampleText:"&",family:"=",familyTemplates:"&",textSamplePrimers:"=",textSamples:"&",noBackground:"&",isPreviouslyActiveView:"&",recommendationIndex:"&",selectedTag:"&",viewType:"&"},controller:n(1637),controllerAs:"familyCard",restrict:"E",replace:!0,templateUrl:"/angular_templates/directives/family_card.html",link:function(e){e.$watch("familyCard.familyTemplates()",(function(t){e.familyCard.createCCXSpecimenCards(t)}),!0)}}}},1637:function(e,t,n){o.$inject=["$element","$timeout","AddFontsToWebProjectService","AuthenticationService","DataService","DialogService","FavoritesService","FirstMileService","FontCountService","FontLoaderService","NewrelicService","NotificationService","FamiliesService","RedirectContextService","SyncService"];var i=n(6);function o(e,t,n,i,o,r,a,s,c,l,u,d,f,p,h){var g=this;g.$element=e,g.$timeout=t,g.AddFontsToWebProjectService=n,g.AuthenticationService=i,g.DataService=o,g.DialogService=r,g.FamiliesService=f,g.FavoritesService=a,g.FontCountService=c,g.FontLoaderService=l,g.FirstMileService=s,g.NewrelicService=u,g.NotificationService=d,g.RedirectContextService=p,g.SyncService=h,g.DataService.get("/neue/i18n").then((function(e){g.i18n=e})),g._handleContext()}o.prototype.isAvailableForWeb=function(){return i.some(this.family.fonts,(function(e){var t=((e.font||{}).web||{}).required_action;return!!t&&i.isEmpty(t)}))},o.prototype.getCardType=function(){return this.cardType||"responsive"},o.prototype.getDisplayFont=function(){var e=this.textSamples(),t=e[this.family.display_font.default_language].unicode_range,n=e[this.family.display_font.default_language].feature_settings;return{cssName:this.family.display_font.family.web_id+"-"+this.family.display_font.font.web.fvd,fvd:this.family.display_font.font.web.fvd,isDynamic:!0,opaqueId:this.family.display_font.family.web_id,unicodeRange:t,featureSettings:n}},o.prototype.getTemplates=function(){return this.familyTemplates()&&this.familyTemplates().slice(0,1)},o.prototype.getSampleTextClass=function(){var e=[];return this.family.display_font.rtl&&e.push("sample-right"),this.noBackground()&&e.push("adobe-fonts-family-card__no-background"),e.join(" ")},o.prototype.getTextDirectionClass=function(){return this.family.display_font.rtl?"sample-right":""},o.prototype.getCarouselListClass=function(){return this.family.specimen_images.length>2?"adobe-fonts-family-card__carousel-list":""},o.prototype.getSlidesForGrid=function(){var e=[];return this.family.specimen_images&&this.family.specimen_images.length>0&&(e=this.family.specimen_images.slice(0)).push("TextSlide"),e},o.prototype.isTextSlide=function(e){return"TextSlide"===e},o.prototype.getSlideLengthForGrid=function(){return this.family.specimen_images&&this.family.specimen_images.length>0?this.family.specimen_images.length+1:0},o.prototype.getExampleText=function(){var e="list";null!=this.family.filters&&this.family.filters.indexOf("ka:ko")>=0&&(e+="_kana");var t=this.exampleText(),n=t&&t.value?t.value:this.textSamples()[this.family.display_font.default_language][e];return"en"!=this.family.display_font.default_language&&this.FontLoaderService.updateFonts(n),n},o.prototype.getCountMessages=function(){return this.family.card_state.count_messages.join(" \u2022 ")},o.prototype.getMessage=function(e,t){var n=1===t?"one":"other";return this.i18n["neue.browse.family_card"][e][n].replace("%{count}",t)},o.prototype.isCarouselVisible=function(){return this.family.specimen_images&&this.family.specimen_images.length>0&&"true"===this.showCarousel},o.prototype.getCardInfoClass=function(){if("true"===this.showCarousel&&(!this.family.specimen_images||0===this.family.specimen_images.length))return"adobe-fonts-family-card__info_with_image"},o.prototype.getCardContainerClass=function(){return this.isCarouselVisible()?"adobe-fonts-family-card--grid-view-with-carousel":"adobe-fonts-family-card--grid-view"},o.prototype.handleFamilyCardClick=function(){this.NewrelicService.addPageAction("typekit.family_card.click",{selectedTag:this.selectedTag(),slug:this.family.slug})},o.prototype.hasVariableFonts=function(){return i.any(this.family.fonts,(function(e){return e.is_variable_font}))},o.prototype.hasUnsyncedFontpacks=function(){return!!this.family.unsynced_fontpacks&&this.family.unsynced_fontpacks.length>0},o.prototype.isToggleOn=function(){return this.family.card_state.toggle_control&&!0===this.family.card_state.toggle_control.value},o.prototype.showToggle=function(){return this.family.card_state.toggle_control&&null!==this.family.card_state.toggle_control.value},o.prototype.toggleMessage=function(){if(this.family.card_state.toggle_control)return this.family.card_state.toggle_control.message},o.prototype.getExampleTextStyle=function(){var e=this.exampleText();return{fontSize:(e&&e.size?e.size:36)+"px"}},o.prototype.getFontCount=function(){return this.family.total_font_count},o.prototype.favoriteToggleClass=function(){return this.family.favorite?"favorite-toggle-icon on":"favorite-toggle-icon"},o.prototype.favoriteToggle=function(e){e.preventDefault();var t=this;this.family.favorite?t.FavoritesService.delete(this.family.slug).then((function(){t.family.favorite=!1}),(function(e){t.NotificationService.error(e.data.error)})):t.FavoritesService.post(this.family.slug).then((function(){t.family.favorite=!0}),(function(e){t.NotificationService.error(e.data.error)}))},o.prototype.handleCodeButtonClick=function(e){e&&e.preventDefault(),this.AddFontsToWebProjectService.addFamilyToWebProjectWithAuthentication(this.family.slug)},o.prototype.toggleFamilySync=function(e){e&&e.preventDefault(),this.showToggle()&&(this.isToggleOn()?this.unsyncFamily():this.syncFamily())},o.prototype.syncFamily=function(){var e=this;e.AuthenticationService.handleAuthenticationWithPostLoginAction("activate_family",{slug:e.family.slug}).then((function(){e.NewrelicService.addPageAction("typekit.click.sync-family-button",{family:e.family.name});var t=i.pluck(e._deactivatedAvailableDesktopFonts(),"id");e.SyncService.addSyncedVariations(t).then((function(n){i.difference(t,n.data.added_font_ids).length>0?e.NotificationService.error(e.i18n["neue.browse.family_card"].error_occurred_activating_some_fonts):e._handleFamilySyncSuccess(n)}),(function(){e.NotificationService.error(e.i18n["neue.browse.family_card"].error_occurred_activating_fonts)}))}))},o.prototype.unsyncFamily=function(){var e=this;e.NewrelicService.addPageAction("typekit.click.unsync-family-button",{family:e.family.name});var t=i.pluck(e._activatedDesktopFonts(),"id");e.SyncService.removeSyncedVariations(t).then((function(n){i.difference(t,n.data.removed_font_ids).length>0?e.NotificationService.error(e.i18n["neue.browse.family_card"].error_occurred_deactivating_some_fonts):(e._markFontsAsDeactivated(),e._updateToggleControl(!1,e.i18n["neue.browse.family_card"].activate_fonts),e.FontCountService.updateActivatedFontsCount(-n.data.removed_font_ids.length),e.NotificationService.success(e.getMessage("fonts_deactivated_action",n.data.removed_font_ids.length)))}),(function(){e.NotificationService.error(e.i18n["neue.browse.family_card"].error_occurred_deactivating_fonts)}))},o.prototype.createCCXSpecimenCards=function(e){if(e){var t=this;requestAnimationFrame((function(){t.$element[0].querySelectorAll(".ccx-specimen-card-container").forEach((function(t,n){var i=e[n],o=document.createElement("af-ccx-specimen-card");o.templateLink=i.templateLink,o.fontsInfo=i.fonts,o.templateDimensions=i.templateDimensions,o.imageMode=!0,o.premium=i.premium,o.fitMode="constantHeightAndWidth";var r=document.createElement("img");r.src=i.src,o.appendChild(r),t.appendChild(o)}))}))}},o.prototype._activatedDesktopFonts=function(){return i.filter(this.family.fonts,(function(e){var t=(e.font||{}).sync||{};return!!t&&(t.is_selected||!!t.install_state&&i.contains(t.install_state.split(","),"cc"))}))},o.prototype._deactivatedAvailableDesktopFonts=function(){return i.filter(this.family.fonts,(function(e){var t=(e.font||{}).sync||{};return!!t.required_action&&i.isEmpty(t.required_action)&&!t.is_selected}))},o.prototype._markFontsAsActivated=function(){i.each(this._deactivatedAvailableDesktopFonts(),(function(e){e.font.sync.is_selected=!0}))},o.prototype._markFontsAsDeactivated=function(){i.each(this._activatedDesktopFonts(),(function(e){e.font.sync.is_selected=!1,e.font.sync.install_state=""}))},o.prototype._handleContext=function(){return this.RedirectContextService.handleContext()},o.prototype._handleFamilySyncSuccess=function(e){var t=this;t._markFontsAsActivated(),t._updateToggleControl(!0,t.getMessage("fonts_active_count",e.data.added_font_ids.length)),t.FontCountService.updateActivatedFontsCount(e.data.added_font_ids.length),t.FirstMileService.shouldShowFontActivationDialog().then((function(n){if(n)return t.FirstMileService.showFontActivationDialog();t.NotificationService.success(t.getMessage("fonts_activated_action",e.data.added_font_ids.length))}))},o.prototype._updateToggleControl=function(e,t){this.family.card_state.toggle_control={value:e,message:t}},e.exports=o},1638:function(e,t,n){e.exports=function(){return{scope:{},bindToController:{filtersModel:"&",onUserPrefsChange:"&",showNoAccessOnEmptyState:"&",textSampleData:"&",noBackground:"&",showCarousel:"@",disableSort:"&",isPreviouslyActiveView:"&",preloadedSortModes:"&"},controller:n(1639),controllerAs:"filteredFamilyList",require:["filteredFamilyList","ngModel"],link:function(e,t,n,i){var o=i[0],r=i[1];o.ngModel=r},restrict:"E",replace:!0,templateUrl:"/angular_templates/directives/filtered_family_list.html"}}},1639:function(e,t,n){a.$inject=["$scope","$element","DataService","FilteredFamilyListStateService","ScrollService","UserPrefsService"];var i=n(6),o=n(18),r={grid:"filtered-family-list--grid-view",list:"filtered-family-list--wide-view"};function a(e,t,n,r,a,s){var c=this;c.$scope=e,c.$element=t,c.DataService=n,c.FilteredFamilyListStateService=r,c.ScrollService=a,c.UserPrefsService=s,c.handleDataChange=i.debounce(o.bind(this,this._handleDataChange),0),c.selectedSort=this.filtersModel().getSortOrder(),c._loadSortModes(),c.DataService.get("/families/i18n").then((function(e){c.i18n=e})),c._initWebComponentPagination(),c._initImagesToggle()}a.prototype.familyCount=function(){if(this.getViewValue().familyCountMessage){var e=this.getViewValue().familyCountMessage.message,t=this.getViewValue().familyCountMessage;return this.i18n["neue.browse.family_counts"][e].replace("%{total_families}",t.total_families).replace("%{more_families_in_cc}",t.more_families_in_cc)}},a.prototype.resetAllFilters=function(){this.filtersModel().clearAll(),this.handleDataChange()},a.prototype.getContainerClasses=function(){var e=[this.getViewTypeClass()];return this.isJapaneseOnlyFamily()&&e.push("filtered-family-list--japanese-only"),e},a.prototype.getFamilyTemplates=function(e){return this.getViewValue().familyTemplates[e.display_font.preferred_family_name]},a.prototype.getSelectedTag=function(){return this.filtersModel().isLoading()?null:this.filtersModel().getSelectedTag()},a.prototype.getViewTypeClass=function(){return r[this.getViewValue().selectedViewType]},a.prototype.getViewValue=function(){return(this.ngModel||{}).$viewValue||{}},a.prototype.handleFontSizeChange=function(){this._handleUserPrefsChange()},a.prototype.handlePageNumberChange=function(){this.handleDataChange(),this.ScrollService.scrollUpTo(this.$element[0],500)},a.prototype.handlePangramMenuChange=function(){this._handleUserPrefsChange(),this.filtersModel().setHideImages(!0),this.showCarousel="false"},a.prototype.handleSortChange=function(){this.filtersModel().setSortOrder(this.selectedSort),this.handleDataChange()},a.prototype.handleViewTypeChange=function(){this._handleUserPrefsChange()},a.prototype.isEmpty=function(){return!this.getViewValue().families||this.getViewValue().families.length<1},a.prototype.isFavoritesEmptyStateVisible=function(){return this.isEmpty()&&!this.showNoAccessOnEmptyState()&&"favorites"==this.getViewValue().collection},a.prototype.isJapaneseOnlyFamily=function(){var e=i.uniq(i.map(this.getViewValue().families,(function(e){return e.display_font.default_language})));return 1==e.length&&"ja"==e[0]},a.prototype.isNextPageButtonVisible=function(){return this.getViewValue().currentPage<this.getViewValue().totalPages},a.prototype.isNoAccessEmptyStateVisible=function(){return this.isEmpty()&&this.showNoAccessOnEmptyState()},a.prototype.isPreviousPageButtonVisible=function(){return this.getViewValue().currentPage>1},a.prototype.isStandardEmptyStateVisible=function(){return this.isEmpty()&&!this.showNoAccessOnEmptyState()&&"favorites"!=this.getViewValue().collection},a.prototype._handleDataChange=function(){this.ngModel.$setViewValue(o.copy(this.getViewValue()))},a.prototype._handleUserPrefsChange=function(){this.onUserPrefsChange()&&this.$scope.$eval(this.onUserPrefsChange())},a.prototype._initImagesToggle=function(){var e=this;e.UserPrefsService.getUserPrefs().then((function(t){e.filtersModel().setHideImages(e.filtersModel().getHideImages()||t.hideImages),e.showCarousel=(!e.filtersModel().getHideImages()).toString()})),e.$element.on("images-toggle.toggled",(function(t){e.showCarousel=(t.detail.isChecked||!1).toString(),e.filtersModel().setHideImages("false"===e.showCarousel,!0),e.FilteredFamilyListStateService.updateUrl(e.filtersModel().toSearchParams())}))},a.prototype._initWebComponentPagination=function(){var e=this;e.$element.on("pagination-change",(function(t){e.getViewValue().currentPage=t.detail.page,e.handleDataChange(),e.ScrollService.scrollUpTo(e.$element[0],500)}))},a.prototype._loadSortModes=function(){var e=this;e.sortModes=e.preloadedSortModes(),e.sortModes||e.DataService.get("filtered-family-list-sort-modes").then((function(t){e.sortModes=t}))},e.exports=a},1640:function(e,t,n){e.exports=function(){return{scope:{},bindToController:{exampleText:"&",isEnterpriseUser:"&",linkToFamily:"&?",onActivate:"&",onCodeButtonClick:"&",onDeactivate:"&",onDetailsClick:"&?",onSimilarFontsAndPairingsClick:"&",isSimilarCard:"@",textSamplePrimers:"&",textSamples:"&",userLoggedIn:"&",showRequiredAction:"=",variation:"&",originalVariation:"&",selectedFeedback:"="},controller:n(1641),controllerAs:"fontVariation",restrict:"E",replace:!0,templateUrl:"/angular_templates/directives/font_variation_card.html"}}},1641:function(e,t,n){a.$inject=["$q","$scope","$window","AddFontsToWebProjectService","AnalyticsService","AuthenticationService","DataService","DialogService","FeedbackService","FirstMileService","I18nService","NewrelicService","NotificationService","SyncService"];var i=n(6),o=n(268).hasPaidCreativeCloud,r="similarity";function a(e,t,n,i,o,r,a,s,c,l,u,d,f,p){var h=this;h.$q=e,h.$scope=t,h.$window=n,h.AddFontsToWebProjectService=i,h.AnalyticsService=o,h.AuthenticationService=r,h.DataService=a,h.DialogService=s,h.FeedbackService=c,h.FirstMileService=l,h.I18nService=u,h.NewrelicService=d,h.NotificationService=f,h.SyncService=p,h.DataService.get("/neue/i18n").then((function(e){h.i18n=e}))}a.prototype.getExampleText=function(){var e=this.exampleText();if(e&&e.value)return e.value;var t=this.variation(),n=this.textSamples()[t.default_language];return n.kana_only?n.list_kana:n.list},a.prototype.getExampleTextStyle=function(){var e=this.exampleText();return{fontSize:(e&&e.size&&!this.isSimilarCard?e.size:36)+"px"}},a.prototype.getFontDisplayData=function(){var e=this.variation(),t=this.textSamples(),n=t[e.default_language].unicode_range,i=t[e.default_language].feature_settings,o=t[e.default_language].kana_only;return o||(o=!1),{cssName:e.family.web_id+"-"+e.font.web.fvd,fvd:e.font.web.fvd,isDynamic:!0,opaqueId:e.family.web_id,unicodeRange:n,featureSettings:i,kanaOnly:o}},a.prototype.getTextDirectionClass=function(){return this.variation().rtl?"sample-right":""},a.prototype.handleCodeButtonClick=function(){this.AddFontsToWebProjectService.addFamilyToWebProjectWithAuthentication(this.variation().family.slug,this.variation().slug)},a.prototype.getDefaultExampleText=function(){var e=this.textSamples()[this.variation().default_language||"en"];return e.kana_only?e.list_kana:e.list},a.prototype.shouldShowFamilyLink=function(){return void 0!==this.linkToFamily},a.prototype.handleSyncButtonClick=function(){this._handleFontSync()},a.prototype.isAvailableForSync=function(){return this.userLoggedIn()?"sync"in this.variation().font&&0===this.variation().font.sync.required_action.length:this.isUsableForSync()},a.prototype.isAvailableForWeb=function(){return this.userLoggedIn()?"web"in this.variation().font&&0===this.variation().font.web.required_action.length:this.isUsableForWeb()},a.prototype.cardActionClass=function(){return this.isAvailableForWeb()?"with-web-license":"without-web-license"},a.prototype.isPurchased=function(){return this.variation().marketplace&&this.variation().marketplace.is_purchased_by_user},a.prototype.isPurchasedAndSynced=function(){return this.isPurchased()&&this.isVariationSelectedForSync()},a.prototype.isSyncedViaSubscription=function(){return this.isVariationSelectedForSync()&&!this.isPurchased()},a.prototype.isUsableForWeb=function(){return"web"in this.variation().font&&(this.variation().font.web.library_availability.trial||this.variation().font.web.library_availability.full)},a.prototype.isUsableForSync=function(){return"sync"in this.variation().font&&(this.variation().font.sync.library_availability.trial||this.variation().font.sync.library_availability.full)},a.prototype.isVariationSelectedForSync=function(){var e=this.variation().font;return!(!e||!e.sync)&&(e.sync.is_selected||!!e.sync.install_state&&i.contains(e.sync.install_state.split(","),"cc"))},a.prototype.syncOnlyRequiresAction=function(e){var t=((this.variation().font||{}).sync||{}).required_action;return!!t&&i.contains(t,e)&&i.isEmpty(i.without(t,e))&&!this.isAvailableForWeb()},a.prototype.requiresPurchase=function(e){return e in this.variation().font&&this.variation().font[e].required_action.indexOf("purchase")>=0},a.prototype.requiresUpgrade=function(e){return e in this.variation().font&&this.variation().font[e].required_action.indexOf("upgrade")>=0},a.prototype.getFlaggedClass=function(){return this.hasNegativeFeedback()?"flagged":""},a.prototype.shouldShowWebProjectsButton=function(){return this.isAvailableForWeb()&&!this.isSimilarCard},a.prototype.shouldShowSyncButton=function(){return this.isAvailableForSync()&&!this.isVariationSelectedForSync()},a.prototype.shouldShowUnsyncButton=function(){return this.isSyncedViaSubscription()},a.prototype.shouldShowPurchaseButton=function(){return this.syncOnlyRequiresAction("purchase")||this.requiresPurchase("sync")&&"purchase"===this.showRequiredAction},a.prototype.shouldShowWebOnly=function(){return!this.shouldShowPurchaseButton()&&!this.shouldShowUpgradeButton()&&!this.isAvailableForSync()&&this.isAvailableForWeb()},a.prototype.shouldShowWebOnlyRequiresUpgrade=function(){return!this.shouldShowPurchaseButton()&&!this.shouldShowUpgradeButton()&&!this.isUsableForSync()&&!this.isAvailableForWeb()&&this.isUsableForWeb()},a.prototype.shouldShowAdminOnly=function(){return!this.isUsableForSync()&&!this.isUsableForWeb()},a.prototype.shouldShowNotAvailable=function(){return!this.shouldShowPurchaseButton()&&!this.isAvailableForWeb()&&!this.isAvailableForSync()&&!this.shouldShowUpgradeButton()},a.prototype.shouldShowUpgradeButton=function(){return!o()&&(this.syncOnlyRequiresAction("upgrade")||this.requiresUpgrade("sync")&&"upgrade"===this.showRequiredAction)},a.prototype.shouldShowReinstallComponent=function(){if(this.isSimilarCard)return!1;var e=this.variation().font;return!(!e||!e.sync)&&(!!e.sync.install_state&&i.contains(e.sync.install_state.split(","),"cc"))},a.prototype.isMouseOverReinstallIcon=function(){return this.variation().isMouseOverReinstallIcon},a.prototype.handleReinstallIconMouseOver=function(){this.variation().isMouseOverReinstallIcon=!0},a.prototype.handleReinstallIconMouseLeave=function(){this.variation().isMouseOverReinstallIcon=!1},a.prototype.handleFontVariationCardMouseOver=function(){this.variation().isMouseOverFontVariationCard=!0},a.prototype.handleFontVariationCardMouseLeave=function(){this.variation().isMouseOverFontVariationCard=!1},a.prototype.shouldShowSimilarFontsAndPairingsLink=function(){return this.variation().isMouseOverFontVariationCard&&this._hasFontRecommendations()},a.prototype.shouldShowFlagResultIcon=function(){return(this.variation().isMouseOverFontVariationCard||"negative"===this.selectedFeedback)&&this.isSimilarCard&&this.userLoggedIn()},a.prototype.hasNegativeFeedback=function(){return this.isSimilarCard&&"negative"===this.selectedFeedback},a.prototype.handleFontVariationCardClick=function(){this._recordEvent("recommended_font_card_click","positive")},a.prototype.shouldShowOpenFontSpecimenInCCXLink=function(){return!this.isSimilarCard&&(!(this.userLoggedIn()&&!o()&&this.shouldShowUpgradeButton()&&!this.isAvailableForSync())&&this.variation().isMouseOverFontVariationCard)},a.prototype._hasFontRecommendations=function(){return this.variation().has_similar_fonts_or_pairings&&"en"===this.variation().default_language},a.prototype._addSyncedVariation=function(){var e=this;e.variation().isSyncing=!0;var t=e.variation().font.sync.install_state;e.SyncService.addSyncedVariations([e.variation().id]).then((function(n){if(e.variation().isSyncing=!1,!e._isSyncSuccessResponse(n))return"data"in n?e.$q.reject(n.data):e.$q.reject();e._handleVariationSyncSuccess(t)})).catch((function(t){e.variation().isSyncing=!1,t&&t.message?e.NotificationService.error(t.message):e.NotificationService.error(e.i18n["neue.browse.family_card"].error_occurred_activating_fonts)}))},a.prototype._handleFontSync=function(){var e=this;this.AuthenticationService.handleAuthenticationWithPostLoginAction("activate_font",{font_variation_id:this.variation().id}).then((function(){e.isVariationSelectedForSync()?(e.isSimilarCard&&e._recordEvent("deactivate-button-click","negative"),e._removeSyncedVariation()):(e.isSimilarCard&&e._recordEvent("activate-button-click","positive"),e._addSyncedVariation())}))},a.prototype._recordEvent=function(e,t){var n=this;if(n.isSimilarCard){n.NewrelicService.addPageAction("typekit.browse.similarity_and_pairing.feedback",{category:r,subcategory:e,feedback:t,variation_one:n.variation().name,variation_two:n.originalVariation().name});var i=n.variation().id+"-"+n.originalVariation().id;n.FeedbackService.post(r,e,i,t,null,n.variation().id,n.originalVariation().id)}},a.prototype.reinstall=function(){var e=this;this.AuthenticationService.handleAuthenticationWithPostLoginAction("activate_font",{font_variation_id:this.variation().id}).then((function(){e.NewrelicService.addPageAction("typekit.family-page.click.reinstall-button"),e._addSyncedVariation()}))},a.prototype._handleVariationSyncSuccess=function(e){var t=this;if(t.variation().font.sync.is_selected=!0,t.variation().font.sync.install_state="os","cc"!==e){var n=t.I18nService.getMessageWithCount(t.i18n["neue.browse.family_card"].fonts_named_activated_action,1,{font:t.variation().name,count:1});t.NotificationService.success(n),t.onActivate()&&t.$scope.$eval(t.onActivate()),t.FirstMileService.shouldShowFontActivationDialog().then((function(e){if(e)return t.FirstMileService.showFontActivationDialog()}))}},a.prototype._isSyncSuccessResponse=function(e){return"data"in e&&-1!==e.data.added_font_ids.indexOf(this.variation().id)},a.prototype._removeSyncedVariation=function(){var e=this;e.NewrelicService.addPageAction("typekit.click.unsync-button"),e.variation().isSyncing=!0,e.SyncService.removeSyncedVariations([e.variation().id]).then((function(){e.variation().isSyncing=!1,e.variation().font.sync.is_selected=!1,e.variation().font.sync.install_state="",e.onDeactivate()&&e.$scope.$eval(e.onDeactivate());var t=e.I18nService.getMessageWithCount(e.i18n["neue.browse.family_card"].fonts_named_deactivated_action,1,{font:e.variation().name,count:1});e.NotificationService.success(t)}),(function(){e.variation().isSyncing=!1}))},e.exports=a},1642:function(e,t,n){e.exports=function(){return{scope:{},bindToController:{exampleText:"&",onActivate:"&",onDeactivate:"&",isInDetailsSection:"&",textSamplePrimers:"&",textSamples:"&",userLoggedIn:"&",showRequiredAction:"=",familySlug:"&",variation:"&",linkHeaderVariationToFamily:"&",pairVariation:"&",selectedFeedback:"=",onVariationHeaderClick:"&",onVariationBodyClick:"&",fontPairId:"&",recommendationIndex:"&"},controller:n(1643),controllerAs:"fontVariation",restrict:"E",replace:!0,templateUrl:"/angular_templates/directives/font_pairing_card.html"}}},1643:function(e,t,n){r.$inject=["$q","$scope","$window","AddFontsToWebProjectService","AnalyticsService","AuthenticationService","DataService","DialogService","FeedbackService","FirstMileService","I18nService","NewrelicService","NotificationService","SyncService"];var i=n(6),o=n(268).hasPaidCreativeCloud;function r(e,t,n,i,o,r,a,s,c,l,u,d,f,p){var h=this;h.$q=e,h.$scope=t,h.$window=n,h.AddFontsToWebProjectService=i,h.AnalyticsService=o,h.AuthenticationService=r,h.DataService=a,h.DialogService=s,h.FeedbackService=c,h.FirstMileService=l,h.I18nService=u,h.NewrelicService=d,h.NotificationService=f,h.SyncService=p,h.DataService.get("/neue/i18n").then((function(e){h.i18n=e})),h.isMainVariationNameHighlighted=!1,h.isPairingVariationNameHighlighted=!1}r.prototype.areFeedbackIconsVisible=function(){return this.userLoggedIn()},r.prototype.variations=function(){return[this.variation(),this.pairVariation()]},r.prototype.isMainVariationInFamily=function(){return this.variation().family.slug===this.familySlug()},r.prototype.getExampleText=function(){var e=this.exampleText();if(e&&e.value)return e.value;var t=this.variation(),n=this.textSamples()[t.default_language];return n.kana_only?n.list_kana:n.list},r.prototype.getPairingHeadingText=function(){return"Fudge Brownies"},r.prototype.getPairingBodyText=function(){return"Pure indulgence \u2014 that\u2019s what we\u2019re talking about here. A perfect balance between fudgy and cakey so everyone gets what they want out of these brownies. We\u2019ll leave it to you to fight over who gets the crisp edges versus the ooey-gooey middles. Let\u2019s get baking!"},r.prototype.getExampleTextStyle=function(){var e=this.exampleText();return{fontSize:(e&&e.size?e.size:36)+"px"}},r.prototype.getPairingBodyTextStyle=function(){return{fontSize:"18px"}},r.prototype.getPairingHeadingTextStyle=function(){return{fontSize:"30px"}},r.prototype.getFontDisplayData=function(){var e=this.variation(),t=this.textSamples();return this.getDisplayData(e,t)},r.prototype.getPairingBodyFontDisplayData=function(){var e=this.pairVariation(),t=this.textSamples();return this.getDisplayData(e,t)},r.prototype.getDisplayData=function(e,t){var n=t[e.default_language].unicode_range,i=t[e.default_language].feature_settings,o=t[e.default_language].kana_only;return o||(o=!1),{cssName:e.family.web_id+"-"+e.font.web.fvd,fvd:e.font.web.fvd,isDynamic:!0,opaqueId:e.family.web_id,unicodeRange:n,featureSettings:i,kanaOnly:o}},r.prototype.getFontPairName=function(e){return[this.variation().name,this.pairVariation().name].join([" "," "].join(e))},r.prototype.getTextDirectionClass=function(){return this.variation().rtl?"sample-right":""},r.prototype.handleMainVariationNameMouseOver=function(){this.isMainVariationNameHighlighted=!0},r.prototype.handleMainVariationNameMouseOut=function(){this.isMainVariationNameHighlighted=!1},r.prototype.handlePairingVariationNameMouseOver=function(){this.isPairingVariationNameHighlighted=!0},r.prototype.handlePairingVariationNameMouseOut=function(){this.isPairingVariationNameHighlighted=!1},r.prototype.handleSyncButtonClick=function(){this._handleFontsSync()},r.prototype.isAvailableForSync=function(e){return this.userLoggedIn()?"sync"in e.font&&0===e.font.sync.required_action.length:this.isUsableForSync(e)},r.prototype.isAvailableForWeb=function(e){return this.userLoggedIn()?"web"in this.variation().font&&0===e.font.web.required_action.length:this.isUsableForWeb(e)},r.prototype.isPurchased=function(e){return e.marketplace&&e.marketplace.is_purchased_by_user},r.prototype.isPurchasedAndSynced=function(){var e=this;return i.every(e.variations(),(function(t){return e.isPurchased(t)&&e.isVariationSelectedForSync(t)}))},r.prototype.isSyncedViaSubscription=function(e){return this.isVariationSelectedForSync(e)&&!this.isPurchased(e)},r.prototype.isUsableForWeb=function(e){return"web"in e.font&&(e.font.web.library_availability.trial||e.font.web.library_availability.full)},r.prototype.isUsableForSync=function(e){return"sync"in e.font&&(e.font.sync.library_availability.trial||e.font.sync.library_availability.full)},r.prototype.isVariationSelectedForSync=function(e){var t=e.font;return!(!t||!t.sync)&&(t.sync.is_selected||!!t.sync.install_state&&i.contains(t.sync.install_state.split(","),"cc"))},r.prototype.syncOnlyRequiresAction=function(e,t){var n=((e.font||{}).sync||{}).required_action;return!!n&&i.contains(n,t)&&i.isEmpty(i.without(n,t))&&!this.isAvailableForWeb(e)},r.prototype.requiresUpgrade=function(e,t){return t in e.font&&e.font[t].required_action.indexOf("upgrade")>=0},r.prototype.getFlaggedClass=function(){return this.hasNegativeFeedback()?"flagged":""},r.prototype.shouldShowSyncButton=function(){var e=this,t=i.every(e.variations(),(function(t){return e.isAvailableForSync(t)})),n=i.some(e.variations(),(function(t){return!e.isVariationSelectedForSync(t)}));return t&&n},r.prototype.shouldShowUnsyncButton=function(){var e=this;return i.every(e.variations(),(function(t){return e.isSyncedViaSubscription(t)}))},r.prototype.shouldShowWebOnly=function(){var e=this;return i.some(e.variations(),(function(t){return!e.shouldShowUpgradeButton()&&!e.isAvailableForSync(t)&&e.isAvailableForWeb(t)}))},r.prototype.shouldShowWebOnlyRequiresUpgrade=function(){var e=this;return i.some(e.variations(),(function(t){return!e.shouldShowUpgradeButton(t)&&!e.isUsableForSync(t)&&!e.isAvailableForWeb(t)&&e.isUsableForWeb(t)}))},r.prototype.shouldShowAdminOnly=function(){var e=this;return i.some(e.variations(),(function(t){return!e.isUsableForSync(t)&&!e.isUsableForWeb(t)}))},r.prototype.shouldShowNotAvailable=function(){var e=this;return i.some(e.variations(),(function(t){return!e.isAvailableForWeb(t)&&!e.isAvailableForSync(t)&&!e.shouldShowUpgradeButton()}))},r.prototype.shouldShowUpgradeButton=function(){if(o())return!1;var e=this;return i.some(e.variations(),(function(t){return e.syncOnlyRequiresAction(t,"upgrade")||e.requiresUpgrade(t,"sync")&&"upgrade"===e.showRequiredAction}))},r.prototype.shouldShowFlagResultIcon=function(){return this.hasNegativeFeedback()},r.prototype.hasNegativeFeedback=function(){return"negative"===this.selectedFeedback},r.prototype.handleFontPairCardClick=function(){this._recordEvent("recommended_font_card_click","positive")},r.prototype.handleFontClick=function(e){this.isMainVariationInFamily()?e.id!==this.variation().id||this.isInDetailsSection()?this._recordEvent("recommended_font_card_click","positive"):this.$scope.$eval(this.onVariationHeaderClick()):e.id===this.variation().id||this.isInDetailsSection()?this._recordEvent("recommended_font_card_click","positive"):this.$scope.$eval(this.onVariationBodyClick())},r.prototype.getLinkForVariation=function(e){return this.linkHeaderVariationToFamily()?"/fonts/"+e.family.slug:this.isMainVariationInFamily()?e.id===this.variation().id?"":"/fonts/"+e.family.slug:e.id===this.variation().id?"/fonts/"+e.family.slug:""},r.prototype.getDetailsHighlightClass=function(e){return this.isInDetailsSection()?this.isMainVariationInFamily()?e.id===this.variation().id?"font-pairing-card--details-highlight":"":e.id===this.variation().id?"":"font-pairing-card--details-highlight":""},r.prototype.isSyncingDisabled=function(){return this.hasNegativeFeedback()},r.prototype._addSyncedVariations=function(){var e=this;e.variations().forEach((function(e){e.isSyncing=!0}));var t=i.map(e.variations(),(function(e){return e.font.sync.install_state}));e.SyncService.addSyncedVariations(i.pluck(e.variations(),"id"),{font_pair_id:e.fontPairId()}).then((function(n){if(e.variations().forEach((function(e){e.isSyncing=!1})),!e._isSyncSuccessResponse(n))return"data"in n?e.$q.reject(n.data):e.$q.reject();e._handleVariationSyncSuccess(t)})).catch((function(t){e.variations().forEach((function(e){e.isSyncing=!1})),t&&t.message?e.NotificationService.error(t.message):e.NotificationService.error(e.i18n["neue.browse.family_card"].error_occurred_activating_fonts)}))},r.prototype._handleFontsSync=function(){var e=this;this.AuthenticationService.handleAuthenticationWithPostLoginAction("activate_fonts",{font_ids:i.pluck(e.variations(),"id")}).then((function(){i.every(e.variations(),(function(t){return e.isVariationSelectedForSync(t)}))?(e._recordEvent("deactivate-button-click","negative"),e._removeSyncedVariations()):(e._recordEvent("activate-button-click","positive"),e._addSyncedVariations())}))},r.prototype._recordEvent=function(e,t){var n=this;n.NewrelicService.addPageAction("typekit.browse.similarity_and_pairing.feedback",{category:"pairing",subcategory:e,feedback:t,variation_one:n.variation().name,variation_two:n.pairVariation().name});var i=n.variation().id+"-"+n.pairVariation().id;n.FeedbackService.post("pairing",e,i,t,null,n.variation().id,n.pairVariation().id)},r.prototype._handleVariationSyncSuccess=function(e){var t=this,n=[];if(t.variations().forEach((function(e){e.font.sync.is_selected||n.push(e),e.font.sync.is_selected=!0,e.font.sync.install_state="os"})),!e.every((function(e){return"cc"===e}))){if(n.length>0){var i=t.I18nService.getMessageWithCount(t.i18n["neue.browse.family_card"].fonts_named_activated_action,n.length,{font:n[0].name,count:n.length});t.NotificationService.success(i)}t.onActivate()&&t.$scope.$eval(t.onActivate()),void 0!==t.recommendationIndex()&&t.NewrelicService.addPageAction("typekit.recommendations.activateFontPair",{recommendationIndex:t.recommendationIndex()}),t.FirstMileService.shouldShowFontActivationDialog().then((function(e){if(e)return t.FirstMileService.showFontActivationDialog()}))}},r.prototype._isSyncSuccessResponse=function(e){return"data"in e&&i.every(this.variations(),(function(t){return-1!==e.data.added_font_ids.indexOf(t.id)}))},r.prototype._removeSyncedVariations=function(){var e=this;e.NewrelicService.addPageAction("typekit.click.unsync-button"),e.variations().forEach((function(e){e.isSyncing=!0})),e.SyncService.removeSyncedVariations(i.pluck(e.variations(),"id"),{font_pair_id:e.fontPairId()}).then((function(){var t=[];if(e.variations().forEach((function(e){e.font.sync.is_selected&&t.push(e),e.isSyncing=!1,e.font.sync.is_selected=!1,e.font.sync.install_state=""})),e.onDeactivate()&&e.$scope.$eval(e.onDeactivate()),void 0!==e.recommendationIndex()&&e.NewrelicService.addPageAction("typekit.recommendations.deactivateFontPair",{recommendationIndex:e.recommendationIndex()}),t.length>0){var n=e.I18nService.getMessageWithCount(e.i18n["neue.browse.family_card"].fonts_named_deactivated_action,t.length,{font:t[0].name,count:t.length});e.NotificationService.success(n)}}),(function(){e.variations().forEach((function(e){e.isSyncing=!1}))}))},e.exports=r},1644:function(e,t){e.exports=function(){return{scope:{},require:"ngModel",link:function(e,t,n,i){e.handleSizeChange=function(){i.$setViewValue(e.fontSize)},i.$render=function(){e.fontSize=i.$viewValue}},restrict:"E",replace:!0,templateUrl:"/angular_templates/directives/font_size_control.html"}}},1645:function(e,t,n){function i(e,t){return{restrict:"A",scope:{},bindToController:{disabled:"&?"},controller:n(1646),controllerAs:"stickyNavCtrl",link:function(e,n,i,o){var r=n[0].querySelector(".sticky-nav__unstick-button");r&&r.addEventListener("click",(function(){e.$apply((function(){o.forceUnstick()}))})),t.addEventListener("resize",(function(){e.$apply((function(){o.handleResize()}))})),t.addEventListener("scroll",(function(){e.$apply((function(){o.handleScroll()}))}))}}}i.$inject=["$document","$window"],e.exports=i},1646:function(e,t){a.$inject=["$document","$element","$scope"];var n="spectrum-grid-start-xs",i="spectrum-grid-center-xs",o="sticky-nav--stuck",r="sticky-nav--unstuck";function a(e,t,n){this.$element=t,this.$document=e,this.$scope=n,this._stickyElement=t[0],this._pushElement=this._getPushElement(),this._isStuck=!1,this._updateDimensions(),this._initWatchers()}a.prototype.forceUnstick=function(){this._stickyElement.classList.remove(n),this._stickyElement.classList.remove(o),this._stickyElement.classList.add(i),this._stickyElement.classList.add(r),this._pushElement.style.display="none",this._forceUnstuck=!0,this._isStuck=!1},a.prototype.handleResize=function(){this._updateDimensions()},a.prototype.handleScroll=function(){this._getScrollTop()>=this._initialTotalOffset&&this.isActive()?(this._stickyElement.classList.add(n),this._stickyElement.classList.add(o),this._stickyElement.classList.remove(i),this._pushElement.style.display="block",this._isStuck=!0):this._getScrollTop()<this._initialTotalOffset&&(this._stickyElement.classList.remove(o),this._stickyElement.classList.remove(r),this._stickyElement.classList.add(i),this._stickyElement.classList.remove(n),this._pushElement.style.display="none",this._forceUnstuck=!1,this._isStuck=!1)},a.prototype.isActive=function(){return!this._forceUnstuck&&!this.disabled()},a.prototype._getScrollTop=function(){return this.$document[0].documentElement.scrollTop||this.$document[0].body.scrollTop},a.prototype._getPushElement=function(){var e=document.createElement("div");return e.style.display="none",e.style.height=this._stickyElement.offsetHeight+"px",this._stickyElement.parentNode.insertBefore(e,this._stickyElement),e},a.prototype._getTotalOffset=function(){return this._getScrollTop()+this._stickyElement.getBoundingClientRect().top},a.prototype._initWatchers=function(){var e=this;e.$scope.$watch((function(){return e._stickyElement.offsetHeight}),(function(){e._updateDimensions()})),e.$scope.$watch((function(){return e.isActive()}),(function(t){e._stickyElement.classList.toggle("sticky-nav--sticky",t),e._updateDimensions()}))},a.prototype._updateDimensions=function(){this._initialTotalOffset=this._getTotalOffset(),this._pushElement.style.height=this._stickyElement.offsetHeight+"px"},e.exports=a},1647:function(e,t,n){e.exports=function(){return{restrict:"E",templateUrl:"/angular_templates/directives/tab_navigation.html",bindToController:{navigationTabs:"=",currentTab:"=",defaultTabWidth:"=?",onTabChange:"&"},controller:n(1648),controllerAs:"tabNavigation"}}},1648:function(e,t){n.$inject=["$scope","$timeout","$window"];function n(e,t,n){var i=this;i.$scope=e,i.$timeout=t,i.$window=n,i.indicatorWidth=this.defaultTabWidth||0,i.indicatorLeft=0,i._loadAttempts=0,i._loadDefaultTab(this.currentTab),i.$scope.$watch((function(){return i.currentTab}),(function(){i._updateTabStyling()}))}n.prototype.indicatorStyle=function(){return{width:this.indicatorWidth+"px",left:this.indicatorLeft+"px",bottom:"0"}},n.prototype.isTabSelected=function(e){return this.currentTab===e},n.prototype.selectTab=function(e){var t=this;t.currentTab=e,t._updateTabStyling(),t.$timeout((function(){t.onTabChange()}),0,!1)},n.prototype.handleTabChange=function(e){e.link?(this.$window.history.replaceState(null,null,e.link),this.$window.location.reload()):this.$window.history.replaceState({navigationTabClicked:!0},null,"#"+e.id+"-section"),this.selectTab(e)},n.prototype.getWidthOfTab=function(e){var t=0;try{t=document.getElementById(e.id).clientWidth}catch(n){return t}return t},n.prototype._isTabLoaded=function(e){return this.getWidthOfTab(e)>0},n.prototype._loadDefaultTab=function(e){var t=this;if(!t._isTabLoaded(e)&&t._loadAttempts<7)return t._loadAttempts++,t.$timeout((function(){t._loadDefaultTab()}));t.selectTab(this.currentTab),t._updateTabStyling()},n.prototype._updateTabStyling=function(){var e=this;e.indicatorWidth=e.getWidthOfTab(e.currentTab);var t=0;for(var n in this.navigationTabs){if(e.navigationTabs[n]===e.currentTab)break;t+=24,t+=e.getWidthOfTab(this.navigationTabs[n])}this.indicatorLeft=t},e.exports=n},1649:function(e,t,n){e.exports=function(){return{restrict:"E",templateUrl:"/angular_templates/directives/tk_paginate.html",bindToController:{totalPages:"=",currentPage:"=",onPageNumberChange:"&"},controller:n(1650),controllerAs:"tkPaginate"}}},165:function(e,t,n){r.$inject=["$q"];var i=n(18),o={};function r(e){return{get:function(t){return e((function(e,n){o[t]?e(o[t]):n()}))},loadDataFromTemplate:function(e){i.forEach(e.find("script"),(function(e){"text/ng-data"==e.type&&function(e){t=e.attr("id"),n=JSON.parse(e.text()),o[t]=n;var t,n}(i.element(e))}))}}}e.exports=r},1650:function(e,t,n){o.$inject=["$timeout","$window"];var i=n(6);function o(e,t){this.$timeout=e,this.$window=t}o.prototype.isSelected=function(e){return this.currentPage===e},o.prototype.previousPage=function(){this.currentPage-1>=1&&this.selectPage(this.currentPage-1)},o.prototype.nextPage=function(){this.currentPage+1<=this.totalPages&&this.selectPage(this.currentPage+1)},o.prototype.showBeginEllipsis=function(){return this._hasPaginatedAwayFromBegin()&&this.totalPages>2},o.prototype.showEndEllipsis=function(){return this._hasPaginatedAwayFromEnd()&&this.totalPages>2},o.prototype.selectPage=function(e){var t=this;t.currentPage=e,t.$timeout((function(){t.onPageNumberChange()}),0,!1)},o.prototype.getPagesInRange=function(){var e=i.range(2,this.totalPages),t=this.currentPage-Math.floor(this._numPagesInMiddleRange()/2),n=e.indexOf(Math.max(t,2));return e.slice(n,n+this._numPagesInMiddleRange())},o.prototype._hasPaginatedAwayFromEnd=function(){var e=this.getPagesInRange();return e[e.length-1]!==this.totalPages-1},o.prototype._hasPaginatedAwayFromBegin=function(){return 2!==this.getPagesInRange()[0]},o.prototype._numPagesInMiddleRange=function(){return this.$window.innerWidth<768?2:5},e.exports=o},1651:function(e,t){function n(e){return{scope:{ngModel:"=",onChanged:"&"},link:function(t){t.handleViewTypeButtonClick=function(n){t.ngModel=n,e((function(){t.onChanged()}))},t.isViewTypeSelected=function(e){return t.ngModel==e}},restrict:"E",replace:!0,templateUrl:"/angular_templates/directives/view_type_control.html"}}n.$inject=["$timeout"],e.exports=n},1652:function(e,t){function n(e){return{scope:{onScrolledToEnd:"&"},link:function(t,n){var i=!0;n.on("wheel",(function(){n[0].scrollTop+n[0].offsetHeight==n[0].scrollHeight&&i&&(i=!1,e((function(){t.onScrolledToEnd(),i=!0}),100))}))}}}n.$inject=["$timeout"],e.exports=n},1653:function(e,t){function n(e){return{getFamilies:function(t,n){return e.get("/designers/"+t+"/families",{params:n})}}}n.$inject=["$http"],e.exports=n},1654:function(e,t){function n(e){return{get:function(t){return e.get("/fonts.json",{params:t})}}}n.$inject=["$http"],e.exports=n},1655:function(e,t){function n(e){return{post:function(t){return e.post("/fonts/"+t+"/typographic_favorites")},delete:function(t){return e.post("/fonts/"+t+"/typographic_favorites/destroy")}}}n.$inject=["$http"],e.exports=n},1656:function(e,t,n){c.$inject=["DialogService","UserPrefsService"];var i=n(6),o=n(267),r=n(66),a="default",s="featured_rank";function c(e,t){function n(e){e=e||{},this._allFilters=e.allFilters,this._browseMode=a,this._collection=e.collection,this._currentPage=1,this._filterDataIndex=e.filterData,this._hideImages=e.hideImages,this._hideLibraryOption=e.hideLibraryOption,this._isLoading=!1,this._isTagsModuleVisible=e.isTagsModuleVisible,this._languages=e.languages,this._locale=e.locale,this._selectedFilters=[],this._selectedLanguages=[],this._selectedTag=null,this._selectedFontTechnology=null,this._sortOrder=e.sortOrder||s,this._showPaidFonts=e._showPaidFonts,this._minStyles=e.minStyles,this._maxStyles=e.maxStyles,this._signedOutState=e.signedOutState,this._tags=e.tags,this._textSamples=e.textSamples,this.bridge=o,e.changeCallback&&(this._changeCallback=e.changeCallback)}return n.prototype.clearAll=function(){this.clearSelectedFilters(),this.clearSelectedLanguages(),this.clearSelectedTag(),this.clearSelectedFontTechnology(),this.clearNumberOfStyles(),this.setCurrentPage(1),this._triggerChangeCallback()},n.prototype.clearSelectedFilters=function(){this._selectedFilters=[],this.setCurrentPage(1)},n.prototype.clearSelectedFiltersForSection=function(e){var t=this,n=t.getSelectedFiltersForSection(e);t._selectedFilters=i.reject(t._selectedFilters,(function(e){return i.contains(n,e)})),this.setCurrentPage(1)},n.prototype.clearSelectedLanguages=function(){this._selectedLanguages=[],this.setCurrentPage(1)},n.prototype.clearSelectedTag=function(){this._selectedTag=null,this.setCurrentPage(1)},n.prototype.clearSelectedFontTechnology=function(){this._selectedFontTechnology=null,this.setCurrentPage(1)},n.prototype.clearNumberOfStyles=function(){this._minStyles=1,this._maxStyles=26,this.setCurrentPage(1)},n.prototype.deselectFilter=function(e){this._selectedFilters=i.without(this._selectedFilters,e),this.setCurrentPage(1)},n.prototype.deselectLanguage=function(e){this._selectedLanguages=i.without(this._selectedLanguages,e),this.setCurrentPage(1)},n.prototype.getBrowseMode=function(){return this._browseMode},n.prototype.getCurrentPage=function(){return this._currentPage},n.prototype.getDataForFilter=function(e){return i.find(this._filterDataIndex,(function(t){return t.key==e}))},n.prototype.getDataForFilterBySlug=function(e){return i.find(this._filterDataIndex,(function(t){return t.slug==e}))},n.prototype.getFiltersForCurrentBrowseMode=function(){return this._allFilters[this._browseMode]},n.prototype.getFontDisplayData=function(e){if(e.font){var t=e.font.default_language||"en",n=this._textSamples[t].unicode_range,i=this._textSamples[t].feature_settings,o=this._textSamples[t].kana_only||!1;return{cssName:e.font.family.web_id+"-"+e.font.font.web.fvd,fvd:e.font.font.web.fvd,isDynamic:!1,opaqueId:e.font.family.web_id,unicodeRange:n,featureSettings:i,kanaOnly:o}}},n.prototype.getHideImages=function(){return this._hideImages},n.prototype.getLanguages=function(){return this._languages},n.prototype.getMinStyles=function(){return this._minStyles},n.prototype.getMaxStyles=function(){return this._maxStyles},n.prototype.getIconUrlForFilter=function(e){var t=this.getDataForFilterBySlug(e);if(t)return t.icon_url},n.prototype.getLocale=function(){return this._locale},n.prototype.getSelectedFilters=function(){return this._selectedFilters},n.prototype.getSelectedFiltersForSection=function(e){var t=this;return i.filter(t.getSelectedFilters(),(function(n){return t.getDataForFilter(n).name==e.name}))},n.prototype.getSelectedLanguages=function(){return this._selectedLanguages},n.prototype.getSelectedTag=function(){return this._selectedTag},n.prototype.getSelectedFontTechnology=function(){return this._selectedFontTechnology},n.prototype.getShowLibraryOption=function(){return"trial"===this._collection&&!this._hideLibraryOption},n.prototype.getShowBasicLibrary=function(){return this._showBasicLibrary},n.prototype.getShowPaidFonts=function(){return this._showPaidFonts},n.prototype.getSortOrder=function(){return this._sortOrder},n.prototype.getTagByKey=function(e){return i.find(this.getTags(),(function(t){return t.key===e}))},n.prototype.getTags=function(){return this._tags},n.prototype.isAnyFilterSelected=function(){return this._selectedFilters.length>0},n.prototype.isAnyFilterSelectedForSection=function(e){return this.getSelectedFiltersForSection(e).length>0},n.prototype.isAnyLanguageSelected=function(){return this._selectedLanguages.length>0},n.prototype.isAnyTagSelected=function(){return null!==this._selectedTag},n.prototype.isAnyFontTechnologySelected=function(){return null!==this._selectedFontTechnology},n.prototype.isNumberOfFontsSelected=function(){return 1!==this._minStyles||26!==this._maxStyles},n.prototype.isAnythingSelected=function(){return this.isAnyFilterSelected()||this.isAnyLanguageSelected()||this.isAnyTagSelected()||this.isNumberOfFontsSelected()},n.prototype.isAnyFilterSelectedForName=function(e){for(var t=this.getSelectedFilters(),n=0,i=t.length;n<i;n++){var o=this.getDataForFilter(t[n]);if(o&&o.name==e)return!0}return!1},n.prototype.browseModeSupportsTags=function(){return this.getBrowseMode()&&this.getBrowseMode()===a},n.prototype.isTagsModuleVisible=function(){return this._isTagsModuleVisible&&this.getTags()&&this.getTags().length>0&&this.browseModeSupportsTags()},n.prototype.isFilterSelected=function(e){return i.contains(this.getSelectedFilters(),e)},n.prototype.isLanguageSelected=function(e){return i.contains(this.getSelectedLanguages(),e)},n.prototype.isLoading=function(){return this._isLoading},n.prototype.isTagSelected=function(e){return e===this._selectedTag},n.prototype.setSelectedFilters=function(e){var t=this;i.each(e,(function(e){t.selectFilter(e)}))},n.prototype.selectFilter=function(e){var t=this,n=t.getDataForFilter(e);n&&(n.allowMultiple||(t._selectedFilters=i.reject(t._selectedFilters,(function(e){return t.getDataForFilter(e).name==n.name}))),t._selectedFilters.push(e),this.setCurrentPage(1))},n.prototype.setBrowseMode=function(e){this._browseMode=e,this.clearAll()},n.prototype.selectLanguage=function(e){this._selectedLanguages.push(e),this.setCurrentPage(1)},n.prototype.selectLanguageMode=function(e){var n;switch(e){case"ja":n="japanese";break;case"zh-Hant":case"zh-Hans":case"ko":n=e;break;default:n="default"}n!==this.getBrowseMode()&&(this.setBrowseMode(n),t.updatePrefs({browseMode:n})),"all"!==e&&this.selectLanguage(e),this.setCurrentPage(1)},n.prototype.selectTag=function(n){var i=this;i._selectedTag=n,i.setCurrentPage(1),t.getUserPrefs().then((function(o){i.isTagsModuleVisible()&&!o.hideTagFeedbackDialog&&r.isSignedInUser()&&n&&e.show("/angular_templates/dialogs/tag_feedback.html").then((function(){t.updatePrefs({hideTagFeedbackDialog:!0})}))}))},n.prototype.selectFontTechnology=function(e){this._selectedFontTechnology=e,this.setCurrentPage(1)},n.prototype.setCurrentPage=function(e){this._currentPage=Math.max(1,e)},n.prototype.setHideImages=function(e,n){this._hideImages=e,n&&t.updatePrefs({hideImages:e})},n.prototype.setLoading=function(e){this._isLoading=e},n.prototype.setSelectedFontTechnology=function(e){this._selectedFontTechnology===e?this.clearSelectedFontTechnology():(this.clearSelectedFontTechnology(),this.selectFontTechnology(e))},n.prototype.setSelectedLanguage=function(e){this.clearSelectedLanguages(),this.selectLanguage(e)},n.prototype.setSelectedLanguageMode=function(e){this.clearSelectedLanguages(),this.selectLanguageMode(e)},n.prototype.setShowPaidFonts=function(e,n){this._showPaidFonts=e,n&&t.updatePrefs({showPaidFonts:e}),this.setCurrentPage(1)},n.prototype.setMinStyles=function(e){this._minStyles=e||1,this.setCurrentPage(1)},n.prototype.setMaxStyles=function(e){this._maxStyles=e||26,this.setCurrentPage(1)},n.prototype.setShowBasicLibrary=function(e){this._showBasicLibrary=e,this.setCurrentPage(1)},n.prototype.setSortOrder=function(e){this._sortOrder=e,this.setCurrentPage(1)},n.prototype.toggleFilter=function(e){this.isFilterSelected(e)?this.deselectFilter(e):this.selectFilter(e)},n.prototype.toggleLanguage=function(e){this.isLanguageSelected(e)?this.deselectLanguage(e):this.selectLanguage(e)},n.prototype.toggleTag=function(e){this.isTagSelected(e)?this.clearSelectedTag():this.selectTag(e)},n.prototype.toSearchParams=function(){var e=this._getEmptySearchParams();return e.browse_mode=this._browseMode,this._showPaidFonts&&(e.cc=!0),this._minStyles&&(e.min_styles=this._minStyles),this._maxStyles&&(e.max_styles=this._maxStyles),this._showBasicLibrary&&(e.library="basic"),this.isAnyFilterSelected()&&(e.filters=this.getSelectedFilters().join(",")),this.isAnyLanguageSelected()&&(e.languages=this.getSelectedLanguages().join(",")),this.isAnyTagSelected()&&(e.tag=this.getSelectedTag()),this.isAnyFontTechnologySelected()&&(e.font_technology=this.getSelectedFontTechnology()),this.getCurrentPage()>1&&(e.page=this.getCurrentPage()),this._purpose&&this._purpose.length>0&&(e.purpose=this.purpose.join(",")),this.getSortOrder()!=s&&(e.sort=this.getSortOrder()),this.getHideImages()&&(e.hide_images=!0),e},n.prototype._getEmptySearchParams=function(){return{browse_mode:null,collection:null,cc:null,mp:null,filters:null,hide_images:null,languages:null,tag:null,page:null,purpose:null,sort:null,min_styles:null,max_styles:null,font_technology:null}},n.prototype.webComponents_getTagDataForFilterSidebar=function(){var e=this;return this._tags.map((function(t){var n={label:"ko_KR"===e.getLocale()&&t.english_label||t.label,tag:t.key},i=e.bridge.modules.get("FVDHelper");return t.font&&(n.font={style:i.getStyleFromFVD(t.font.font.web.fvd),weight:i.getWeightFromFVD(t.font.font.web.fvd),webId:t.font.family.web_id,unicodeRange:e._textSamples[t.font.default_language||"en"].unicode_range}),n}))},n.prototype.webComponents_getI18nForFilters=function(){var e={};for(var t in this._allFilters)e=i.extend(e,this.webComponents_getI18nForFilterList(this._allFilters[t]));return e},n.prototype.webComponents_getI18nForFilterList=function(e){var t={};for(var n in e)for(var i=e[n].values||this.__webComponents_getFiltersFromFilterGroup(e[n]),o=0;o<i.length;o++){t["filter-sidebar.filter-label."+i[o].slug]=i[o].label}return t},n.prototype.__webComponents_getFiltersFromFilterGroup=function(e){var t=[];return e.filters.forEach((function(e){e.values.forEach((function(e){t.push(e)}))})),t},n.prototype._triggerChangeCallback=function(){this._changeCallback&&this._changeCallback()},{DEFAULT_PAGE:1,getFilterModel:function(e){return new n(e)}}}e.exports=c},1657:function(e,t,n){var i=n(6),o=n(18);e.exports=function(){return{filterFontsByRequiredActions:function(t,n){var o=n||e(t,{}).filters;return i.filter(t,(function(e){var t=o.upgrade&&c("upgrade",e);return c("preview_only",e)||function(e){var t=(!s(e)||c("preview_only",e))&&!!l,n=a(e)&&!r(e);return t||n}(e)||!!s(e)&&(i.isEmpty(s(e))||t)}))},filterRequiredActionsByToggles:e,hasUpgradeFilterOption:n};function e(e,r){var a=i.pick(r||{},i.identity),s=o.extend({},function(e){return{upgrade:t("upgrade",e)&&!n(e)}}(e),a);return{filters:s,preferred:i.isEmpty(a)?s.upgrade?"upgrade":null:a.upgrade?"upgrade":null}}function t(e,t){return i.some(t,c.bind(null,e))}function n(e){return function(e){return i.some(e,r)||i.some(e,a)}(e)&&t("upgrade",e)}function r(e){return!!s(e)&&i.isEmpty(s(e))}function a(e){return!!l(e)&&i.isEmpty(l(e))}function s(e){return((e.font||{}).sync||{}).required_action}function c(e,t){return!!s(t)&&i.contains(s(t),e)}function l(e){return((e.font||{}).web||{}).required_action}}},1658:function(e,t,n){o.$inject=["UrlService"];var i=n(18);function o(e){return{getDefaultStateObject:t,getEmptySearchParams:n,getSearchParamsFromFamilyListData:o,getState:function(e,t){var n=r(e),o=i.merge(s(t,!0),s(n,!0));return i.merge({browseMode:"default",collection:"full",currentPage:1,familyTemplates:{},hideImages:!1,purpose:[],selectedLanguages:[],selectedTag:null,selectedViewType:"grid",sort:"featured_rank"},o)},getStateFromUrl:r,updateUrl:a,updateState:function(e){a(o(e))}};function t(){return{browseMode:"default",collection:"full",currentPage:1,familyTemplates:{},hideImages:!1,purpose:[],selectedLanguages:[],selectedTag:null,selectedViewType:"grid",sort:"featured_rank"}}function n(){return{browse_mode:null,cc:null,mp:null,collection:null,filters:null,hideImages:null,languages:null,page:null,purpose:null,sort:null}}function o(e){var t={browse_mode:null,cc:null,mp:null,collection:null,filters:null,hideImages:null,languages:null,page:null,purpose:null,sort:null};return(e=e||{}).browseMode&&"default"!=e.browseMode&&(t.browse_mode=e.browseMode),e.showPaidFonts&&(t.cc=!0),e.selectedFilters&&e.selectedFilters.length>0&&(t.filters=e.selectedFilters.join(",")),e.hideImages&&(t.hideImages="true"===e.hideImages),e.selectedLanguages&&e.selectedLanguages.length>0&&(t.languages=e.selectedLanguages.join(",")),e.currentPage&&e.currentPage>1&&(t.page=e.currentPage),e.purpose&&e.purpose.length>0&&(t.purpose=e.purpose.join(",")),e.sort&&"featured_rank"!=e.sort&&(t.sort=e.sort),t}function r(t){var n=e.getSearchParams(),i={};return n.browse_mode&&(i.browseMode=n.browse_mode),t&&t.plan&&(i.collection=t.plan),n.cc&&(i.showPaidFonts=!0),n.filters&&(i.selectedFilters=n.filters.split(",")),n.hide_images&&(i.hideImages="true"===n.hide_images),n.languages&&(i.selectedLanguages=n.languages.split(",")),n.tag&&(i.selectedTag=n.tag),n.page&&(i.currentPage=Math.max(1,n.page)),n.purpose&&(i.purpose=n.purpose.split(",")),n.sort&&(i.sort=n.sort),n.max_styles&&(i.maxStyles=n.max_styles),n.min_styles&&(i.minStyles=n.min_styles),i}function a(t){e.updateSearchParams(t)}function s(e,t){for(var n in e)null===e[n]||void 0===e[n]?delete e[n]:t&&"object"===typeof e[n]&&s(e[n],t);return e}}e.exports=o},1659:function(e,t,n){o.$inject=["$cookies","$q","AuthenticationService","NewrelicService","NotificationService","SyncService"];var i=n(6);function o(e,t,n,o,r,a){var s;return{addFontpacks:function(e){s=i.union(s||[],e)},clearFontpacks:function(){s=null},findFontpackBySlug:function(e){return i.find(s,(function(t){return t.slug===e}))},isFontpackSynced:function(e){if(!s)return!1;var t=this.findFontpackBySlug(e);return!!t&&i.all(t.font_variations,(function(e){return e.sync.is_selected||!!e.sync.install_state&&i.contains(e.sync.install_state.split(","),"cc")}))},markFontsInFontpackAsSynced:function(e){var t=l(e);i.each(s,(function(e){i.each(e.font_variations,(function(e){i.contains(t,e.variation_id)&&(e.sync.is_selected=!0)}))}))},notSyncedCount:c,requiresUpgrade:function(e){if(!s)return!1;var t=this.findFontpackBySlug(e);return!!t&&i.any(t.font_variations,(function(e){return e.sync.required_action.indexOf("upgrade")>=0}))},syncFontpack:function(t,a,s){var c=this;return n.handleAuthenticationWithPostLoginAction("activate_collection",{slug:t.slug,name:t.name}).then((function(){var n=i.countBy(t.font_variations,(function(e){return!0===e.sync.is_selected||i.contains(e.sync.install_state.split(","),"cc")?"activated":"notActivated"})).activated||0;return o.addPageAction("typekit.click.sync-fontpack."+a,{activatedCount:n,fontpack:t.slug,sawFontpacksOnBrowsePage:e.get("sawCollections")||!1}),c.syncFontsInFontpack(t).then((function(){c.markFontsInFontpackAsSynced(t),r.success(t.sync_success_message)}),(function(){r.error(s["neue.fontpacks.sync_error_message"])}))}))},syncFontsInFontpack:function(e){var n=l(e);return t((function(t,o){a.addSyncedVariations(n,{fontpack_id:e.id},c(e)).then((function(e){!function(e,t){if(200!==e.status)return!1;return i.every(t,(function(t){return"data"in e&&e.data.added_font_ids.indexOf(t)>=0}))}(e,n)?o():t()}),(function(){o()}))}))},unsyncFontpack:function(n,c,u){return o.addPageAction("typekit.click.unsync-fontpack."+c,{fontpack:n.slug,sawFontpacksOnBrowsePage:e.get("sawCollections")||!1}),t((function(e,t){return a.removeSyncedVariations(l(n),{fontpack_id:n.id}).then((function(){var t;t=l(n),i.each(s,(function(e){i.each(e.font_variations,(function(e){i.contains(t,e.variation_id)&&(e.sync.is_selected=!1,e.sync.install_state="")}))})),r.success(n.unsync_success_message),e()}),(function(){r.error(u["neue.fontpacks.unsync_error_message"]),t()}))}))}};function c(e){return e&&i.countBy(e.font_variations,(function(e){return e.sync.is_selected||!!e.sync.install_state&&i.contains(e.sync.install_state.split(","),"cc")})).false||0}function l(e){return i.map(e.font_variations,(function(e){return e.variation_id}))}}e.exports=o},166:function(e,t){function n(e,t){return{getMessage:n,getMessageWithCount:function(e,t,i){return n(e,1===t?"one":"other",i)},getLocaleInfo:function(){return t.get("/locale_info")},setLocale:function(t){return e.post("/set_locale",{locale:t})}};function n(e,t,n){var i=e[t];if(n)for(var o in n)i=i.replace("%{"+o+"}",n[o]);return i}}n.$inject=["$http","DataService"],e.exports=n},1660:function(e,t){function n(e){return{getFamilies:function(t,n){return e.get("/foundries/"+t+"/families",{params:n})}}}n.$inject=["$http"],e.exports=n},1661:function(e,t){function n(e){return{deactivateFonts:function(t){return e.put("/my_fonts/deactivate_fonts.json",t)},get:function(t){return e.get("/my_fonts/families_data.json",{params:t})}}}n.$inject=["$http"],e.exports=n},1662:function(e,t){function n(e,t){return{get:function(n,i,o,r){var a=this;if(a.cache=a.cache||{},a.cache[n]=a.cache[n]||{},a.cache[n][i])return t((function(e){e(a.cache[n][i])}));var s="?page="+i+"&families_per_page="+o+"&personalized="+r;return e.get("/recommendations/"+n+s).then((function(e){return a.cache[n][i]=e,e}))},pairedFonts:function(t,n,i){return e.get("/font_recommendations/paired_fonts?font_variation_id="+t+"&per_page="+n+"&page="+i)},similarFonts:function(t,n,i){return e.get("/font_recommendations/similar_fonts?font_variation_id="+t+"&per_page="+n+"&page="+i)},familyFontPairings:function(t,n,i){return e.get("/font_recommendations/family_font_pairings?slug="+t+"&per_page="+n+"&page="+i)},familyFontSimilarities:function(t,n,i){return e.get("/font_recommendations/family_font_similarities?slug="+t+"&per_page="+n+"&page="+i)}}}n.$inject=["$http","$q"],e.exports=n},1663:function(e,t){function n(e){return{put:function(t,n){return e.put("/fonts/vs/"+t,n)}}}n.$inject=["$http"],e.exports=n},1664:function(e,t){function n(e,t,n,i,o){return{scrollTo:function(e,r,a){return n((function(n){a=a||0;var s=e.getBoundingClientRect().top;t.scrollTop(s+o.pageYOffset+a,r),i(n,r)}))},scrollUpTo:function(e,n){var i=e.getBoundingClientRect().top;i<0&&t.scrollTop(i+o.pageYOffset,n)},setCookieIfSawElement:function(t,n){if(!t)return;if(r(t)&&!e.get(n))return void e.put(n,!0);o.addEventListener("scroll",(function(){r(t)&&!e.get(n)&&e.put(n,!0)}))}};function r(e){var t=e.getBoundingClientRect();return t.top>=0&&t.bottom<=o.innerHeight}}n.$inject=["$cookies","$document","$q","$timeout","$window"],e.exports=n},1665:function(e,t){e.exports=function(){return{TAG_BACKGROUND_CLASS_MAP:{"art-deco":"tag-background--art-deco-horror",blackletter:"tag-background--blackletter-inline","brush-pen":"tag-background--brush-pen-luxury",calligraphic:"tag-background--calligraphic-marker",clean:"tag-background--clean-ornaments",college:"tag-background--college-rough",comic:"tag-background--comic-rounded",cursive:"tag-background--cursive-school",friendly:"tag-background--friendly-shaded",fun:"tag-background--fun-stencil",funky:"tag-background--funky-typewriter",futuristic:"tag-background--futuristic-wedding",geometric:"tag-background--geometric",horror:"tag-background--art-deco-horror",inline:"tag-background--blackletter-inline",luxury:"tag-background--brush-pen-luxury",marker:"tag-background--calligraphic-marker",ornaments:"tag-background--clean-ornaments",rough:"tag-background--college-rough",rounded:"tag-background--comic-rounded",school:"tag-background--cursive-school",shaded:"tag-background--friendly-shaded",stencil:"tag-background--fun-stencil",typewriter:"tag-background--funky-typewriter",wedding:"tag-background--futuristic-wedding",western:"tag-background--western"}}}},1666:function(e,t,n){function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}g.$inject=["$http","$document","DialogService","UrlService"];var a=n(18),s=n(6),c=n(1667),l=n(1668),u=n(1669),d=n(1670),f=n(1672),p=n(191),h="body__progress";function g(e,t,n,i){var r,g={},m={},v={},y={},_={},b=a.element(t.find("body")),S=function(e,t){var n,o=i.getSearchParam("project_id");!g[e]&&t&&(n=t.kit.kit.token===o,g[e]=new l(t,n))},w=function(e,t){m[e]=new u(t)},$=function(e){return g[e]},C=function(t){return e.delete("/kit_editor/kits/"+t,{headers:{"X-Requested-With":"XMLHttpRequest"}}).then((function(e){return e.data}))},F=function(e){return s.map(e,(function(e){return o(o({},s.pick(e,["enabled_language_tags","font_display","is_ot_features_enabled","is_vertical_features_enabled","subsetting","variationsEnabled","variationsDisabled"])),{},{typekit_font_family:{slug:((e.tkff||{}).typekit_font_family||{}).slug}})}))},E=function(e,t,n,i){v[e]||(v[e]=new d(t,n,i))},x=function(e,t,n,i){y[e]||(y[e]=new f(t,n,i))},k=function(e,t,n){!_[e]&&n&&(_[e]=new p(t,n))},T=function(e,t,n){var i=$(e);i.setTkffList(t),function(e,t){var n;for(n=0;n<t.length;n++){var i=t[n],o=e.getProjectDetails().kitToken+i.tkff.typekit_font_family.id;w(o,i),E(o,i.fvd_sorted_variations,i.enabled_font_variation_ids,i.text_samples)}}(i,t),i.setIsDataFetched(!0),n&&i.toggleExpanded()};return{initTkWebProjectListModel:function(e){r||(r=new c(e))},initTkWebProjectCardModel:S,initTkWebProjectFamilyCardModel:function(e,t){!m[e]&&t&&this.setTkWebProjectFamilyCardModel(e,t)},initTkWebProjectEditorStyleSelectorModel:E,initTkWebProjectDisplayFamilyModel:x,initEmbedCodeModel:k,getTkWebProjectListModel:function(){return r},getTkWebProjectCardModel:$,getTkWebProjectFamilyCardModel:function(e){return m[e]},setTkWebProjectFamilyCardModel:w,deleteKit:C,updateKit:function(t,n,i){return e.post("/kit_editor/kits/"+i+"/update_kit",{tkffData:F(t),deletedTkffs:F(n)}).then((function(e){return e.data}))},updateWebProjects:function(t,n,i){var o=this;return 1==i&&b.addClass(h),e.get("/my_fonts/web_projects_data.json",{params:{searchString:t,page:n,sortOrder:r.getSortOrder()}}).then((function(e){r.setWebProjectList(e.data.kitsData),r.setTotalPages(e.data.totalPages),e.data.kitsData.forEach((function(e){S(e.kit.kit.token,e),k(e.kit.kit.token,e.is_dynamic,e.project_embed_details),e.tkff_list.forEach((function(t){var n=e.kit.kit.token+t.tkff.typekit_font_family.id;x(n,t.display_variation,t.text_samples,t.tktf_slug)}))})),b.removeClass(h),o.populateCompleteWebProjectsData(n)}))},getTkWebProjectEditorStyleSelectorModel:function(e){return v[e]},getTkWebProjectDisplayFamilyModel:function(e){return y[e]},getEmbedCodeModel:function(e){return _[e]},openDeleteConfirmationDialog:function(e){n.show("/angular_templates/dialogs/delete_web_project_confirmation.html").then((function(t){t.projectName=e.getProjectName(),t.handleDelete=function(){r.deleteWebProject(e.getWebProjectData()),C(e.getProjectDetails().kitToken),t.close()}}))},openRetiredFontsRemovalConfirmationDialog:function(e,t){n.show("/angular_templates/dialogs/remove_retired_fonts_confirmation.html").then((function(n){n.familyName=t.getTkffData().tkff.typekit_font_family.name,n.isFamilyRetired=t.isFamilyRetired,n.handleDelete=function(){e.deleteTkff(t.getTkffData()),n.close()}}))},getCompleteWebProjectData:function(t){return e.get("/my_fonts/web_project_data.json",{params:{token:t}}).then((function(e){return e.data}))},getCompleteWebProjectsData:function(t){var n=null;return r&&(n=r.getSortOrder()),e.get("/my_fonts/complete_web_projects_data.json",{params:{page:t,sortOrder:n}}).then((function(e){return e.data}))},populateCompleteWebProjectsData:function(e){this.getCompleteWebProjectsData(e).then((function(e){var t;for(t=0;t<e.length;t++){var n=e[t].tkff_list,i=e[t].kit_token;T(i,n)}}))},populateCompleteTkffData:function(e,t){b.addClass(h),this.getCompleteWebProjectData(e).then((function(n){T(e,n,!0),b.removeClass(h),t&&t()}))}}}e.exports=g},1667:function(e,t){n.$inject=["webProjectListResponse"];function n(e){this._webProjectList=e.kitsData,this._totalPages=e.totalPages,this.currentPage=1,this._sortOrder="last_updated"}n.prototype.getWebProjectList=function(){return this._webProjectList},n.prototype.getTotalPages=function(){return this._totalPages},n.prototype.setWebProjectList=function(e){this._webProjectList=e},n.prototype.setTotalPages=function(e){this._totalPages=e},n.prototype.setCurrentPage=function(e){this.currentPage=e},n.prototype.deleteWebProject=function(e){var t=this._webProjectList.indexOf(e);t>-1&&this._webProjectList.splice(t,1)},n.prototype.getSortOrder=function(){return this._sortOrder},n.prototype.setSortOrder=function(e){this._sortOrder=e,this.setCurrentPage(1)},e.exports=n},1668:function(e,t,n){r.$inject=["webProjectData","isExpanded"];var i=n(18),o=Object.freeze({CHAR_SET_OPTION_ALL:"all",CHAR_SET_OPTION_CUSTOM:"custom",CHAR_SET_OPTION_DEFAULT:"default",CHAR_SET_OPTION_DYNAMIC:"dynamic"});function r(e,t){this._webProjectData=e,this._isExpanded=t,this._projectId=e.kit.kit.id,this._projectName=e.kit.kit.name,this._projectDetails={kitToken:e.kit.kit.token,dateModified:e.kit.kit.updated_at},this._tkffList=e.tkff_list,this._tkffListBackup=i.copy(e.tkff_list),this._isDynamic=e.is_dynamic,this.computeTotalVariations(),this.computeTotalFamilies(),this._isModified=!1,this._isValid=!0,this._deletedTkffs=[],this._isDataFetched=!1}r.prototype.getIsDataFetched=function(){return this._isDataFetched},r.prototype.setIsDataFetched=function(e){this._isDataFetched=e},r.prototype.getCharSetOptionsEnum=function(){return o},r.prototype.getWebProjectData=function(){return this._webProjectData},r.prototype.getProjectId=function(){return this._projectId},r.prototype.getProjectName=function(){return this._projectName},r.prototype.getProjectDetails=function(){return this._projectDetails},r.prototype.setLastModified=function(e){this._projectDetails.dateModified=e},r.prototype.isDynamic=function(){return this._isDynamic},r.prototype.getTotalVariations=function(){return this._totalVariations},r.prototype.computeTotalVariations=function(){var e,t=0;for(e=0;e<this._tkffList.length;e++)t+=this._tkffList[e].enabled_font_variation_ids.length;this._totalVariations=t},r.prototype.getTotalFamilies=function(){return this._totalFamilies},r.prototype.computeTotalFamilies=function(){this._totalFamilies=this._tkffList.length},r.prototype.getTkffList=function(){return this._tkffList?this._tkffList:[]},r.prototype.getVariableFonts=function(){return this.getTkffList().filter((function(e){return e.is_variable}))},r.prototype.getNonVariableFonts=function(){return this.getTkffList().filter((function(e){return!e.is_variable}))},r.prototype.hasVariableFonts=function(){return this.getVariableFonts().length>0},r.prototype.hasNonVariableFonts=function(){return this.getNonVariableFonts().length>0},r.prototype.setTkffList=function(e){this._tkffList=e,this._tkffListBackup=i.copy(e)},r.prototype.isLargeWebProject=function(){return this._totalVariations>8||!1},r.prototype.isExpanded=function(){return this._isExpanded},r.prototype.isCancelDisabled=function(){return!this._isModified},r.prototype.isSaveDisabled=function(){return!this._isValid},r.prototype.setIsValid=function(e){this._isValid=e},r.prototype.setIsModified=function(e){this._isModified=e},r.prototype.isModified=function(){return this._isModified},r.prototype.toggleExpanded=function(){this._isExpanded=!this._isExpanded},r.prototype.handleSave=function(){this.setIsModified(!1),this._deletedTkffs=[]},r.prototype.handleCancel=function(){this.toggleExpanded(),this._tkffList=i.copy(this._tkffListBackup),this.computeTotalFamilies(),this.computeTotalVariations(),this.setIsModified(!1),this._isValid=!0,this._deletedTkffs=[]},r.prototype.updateTkffListBackup=function(){this._tkffListBackup=i.copy(this._tkffList)},r.prototype.deleteTkff=function(e){this.setIsModified(!0),this._deletedTkffs.push(e);var t=this._tkffList.indexOf(e);t>-1&&this._tkffList.splice(t,1),this.updateIsValid(),this.computeTotalFamilies(),this.computeTotalVariations(),0==this._tkffList.length&&(this._isValid=!1)},r.prototype.getDeletedTkffs=function(){return this._deletedTkffs},r.prototype.updateIsValid=function(){var e=!0;this._tkffList.forEach((function(t){if(t.subsetting==o.CHAR_SET_OPTION_CUSTOM&&(!t.enabled_language_tags||0==t.enabled_language_tags.length))return e=!1,!0})),this.setIsValid(e)},e.exports=r},1669:function(e,t){function n(e){this._tkffData=e,this._formattedCssFontStack=this.formatCssFontStack(e.css_font_stack),this.initializeEnableDisableVariationArrays(),e.fvd_sorted_variations&&this.initializeIsFamilyRetired()}n.$inject=["tkffData"],n.prototype.getTkffData=function(){return this._tkffData},n.prototype.setTkffData=function(e){this._tkffData=e,this.initializeEnableDisableVariationArrays()},n.prototype.hasVariationId=function(e){return this._tkffData.fvd_sorted_variations.map((function(e){return e.id})).includes(e)},n.prototype.initializeEnableDisableVariationArrays=function(){this._tkffData.variationsEnabled=[],this._tkffData.variationsDisabled=[]},n.prototype.updateVariationsEnabled=function(e){var t=this._tkffData.variationsDisabled.indexOf(e);t>-1&&this._tkffData.variationsDisabled.splice(t,1),this._tkffData.variationsEnabled.push(e)},n.prototype.updateVariationsDisabled=function(e){var t=this._tkffData.variationsEnabled.indexOf(e);t>-1&&this._tkffData.variationsEnabled.splice(t,1),this._tkffData.variationsDisabled.push(e)},n.prototype.formatCssFontStack=function(e){return e.replace(/['"]/g,"").replace(",",", ")},n.prototype.getFormattedCssFontStack=function(){return this._formattedCssFontStack},n.prototype.initializeIsFamilyRetired=function(){var e;for(this.isFamilyRetired=!0,this.isAnyFontRetired=!1,e=0;e<this._tkffData.fvd_sorted_variations.length;e++)this._tkffData.fvd_sorted_variations[e].is_retired?this.isAnyFontRetired=!0:this.isFamilyRetired=!1},e.exports=n},167:function(e,t,n){o.$inject=["$timeout","$window"];var i=n(6);function o(e,t){var n={};return{addPageAction:o,addPageActionWithDelay:function(t,i,r){n[t]&&e.cancel(n[t]);n[t]=e((function(){o(t,i),delete n[t]}),r)},init:function(){if(!t.addEventListener)return;var e=this;t.addEventListener("af-analytics",(function(t){var n=["af-analytics",t.detail.componentName,t.detail.eventName].join(".");e.addPageAction(n,i.omit(t.detail,"componentName","eventName"))}))},setCustomAttribute:function(e,n){if("undefined"==typeof t.newrelic||!t.newrelic)return;t.newrelic.setCustomAttribute(e,n)}};function o(e,n){"undefined"!=typeof t.newrelic&&t.newrelic&&t.newrelic.addPageAction(e,n)}}e.exports=o},1670:function(e,t,n){r.$inject=["availableFontVariations","enabledFontVariationIds","textSamples"];var i=n(190),o=n(1671);function r(e,t,n){this._availableFontVariations=e.sort((function(e,t){return i.compareFvds(e.fvd,t.fvd)})),this._enabledFontVariationIds=t,this._textSamples=n}r.prototype.getEnabledFontVariationIds=function(){return this._enabledFontVariationIds},r.prototype.setEnabledFontVariationIds=function(e){this._enabledFontVariationIds=e},r.prototype.getAvailableFontVariations=function(){return this._availableFontVariations},r.prototype.isVariationSelected=function(e){return this._enabledFontVariationIds.indexOf(e.id)>-1},r.prototype.toggleCheckbox=function(e){var t=this._enabledFontVariationIds.indexOf(e.id);t>-1?this._enabledFontVariationIds.splice(t,1):this._enabledFontVariationIds.push(e.id)},r.prototype.getVariationDisplayData=function(e){var t=this._textSamples[e.default_language].unicode_range,n=this._textSamples[e.default_language].feature_settings,i=this._textSamples[e.default_language].kana_only;return i||(i=!1),{cssName:e.web_id+"-"+e.fvd,fvd:e.fvd,isDynamic:!1,opaqueId:e.web_id,unicodeRange:t,featureSettings:n,kanaOnly:i}},r.prototype.getExampleText=function(e){return this._textSamples[e.default_language].list},r.prototype.getCompleteFontVariationStyle=function(e,t){return"font-family: "+t+";\nfont-weight: "+e.weight+";\nfont-style: "+e.style+";"},r.prototype.getTextSamples=function(){return this._textSamples},r.prototype.hasVariableFont=function(){return"undefined"===typeof this._hasVariableFont&&(this._hasVariableFont=this._availableFontVariations.map((function(e){return e.is_variable})).includes(!0)),this._hasVariableFont},r.prototype.webcomponents_getAvailableFontVariations=function(e){var t=this;return"undefined"===typeof this._webcomponentsAvailableFontVariations&&(this._webcomponentsAvailableFontVariations=this._availableFontVariations.map((function(n){return o.convertToVariation(n,e,t._textSamples)}))),this._webcomponentsAvailableFontVariations},e.exports=r},1671:function(e,t){e.exports={convertToVariation:function(e,t,n){return{axes:e.axes||[],cssFontStack:t,defaultLanguage:e.default_language,familyWebId:e.web_id,fontName:e.fontName,id:e.id,instances:e.instances||[],name:e.name,postscriptName:e.postscriptName,preferredSubfamilyName:e.preferred_subfamily_name,style:e.style,unicodeRange:n[e.default_language].unicode_range,weight:e.weight}}}},1672:function(e,t){function n(e,t,n){this._fontVariation=e,this._textSamples=t,this._typographicFamilySlug=n}n.$inject=["fontVariation","textSamples","typographicFamilySlug"],n.prototype.getVariationFamilyName=function(){return this._fontVariation.family_name},n.prototype.getTypographicFamilySlug=function(){return this._typographicFamilySlug},n.prototype.getVariationDisplayData=function(){var e=this._textSamples[this._fontVariation.default_language].unicode_range,t=this._textSamples[this._fontVariation.default_language].feature_settings,n=this._textSamples[this._fontVariation.default_language].kana_only,i=this._textSamples[this._fontVariation.default_language].grid;return n||(n=!1),{cssName:this._fontVariation.web_id+"-"+this._fontVariation.fvd,fvd:this._fontVariation.fvd,isDynamic:!0,opaqueId:this._fontVariation.web_id,unicodeRange:e,featureSettings:t,kanaOnly:n,textSample:i}},e.exports=n},1673:function(e,t,n){o.$inject=["$document","$q","$window"];var i=n(18);function o(e,t,n){var o=!1,r="https://www.youtube.com/player_api";return{init:function(){return t((function(a){o?a():t((function(t){n.onYouTubeIframeAPIReady=t;var o=i.element("<script><\/script>");o.attr("src",r),e.find("head").append(o)})).then((function(){o=!0,a()}))}))},load:function(e,i,o){return t((function(t){var r=new n.YT.Player(e,{height:o.height,events:{onReady:function(){t(r)},onStateChange:function(e){o.onPlayerStateChangeCallback&&o.onPlayerStateChangeCallback(e)}},playerVars:{rel:0},videoId:i,width:o.width})}))}}}e.exports=o},168:function(e,t,n){o.$inject=["$httpParamSerializer","$window"];var i=n(6);function o(e,t){return{getSearchParam:function(e){return n(t.location.search)[e]},getSearchParams:function(){return n(t.location.search)},parseSearchParams:n,pushState:function(e,n,i){t.history.pushState(e,n,i)},removeSearchParam:function(e){var i=n(t.location.search);delete i[e],o(i)},setSearchParams:o,updateSearchParams:function(e){var r=n(t.location.search);i.extend(r,e),o(r)},updatePath:function(e){t.history.replaceState(null,null,e)}};function n(e){var t=e.replace(/^\?/,"").split("&");return i.reduce(t,(function(e,t){var n=t.split("=");return n[0]&&(e[n[0]]=function(e){if(!e.match(/[a-z]/i)&&parseInt(e))return parseInt(e);return decodeURIComponent(e)}(n[1])),e}),{})}function o(n){var o=e(n),r=i.isEmpty(o)?t.location.pathname:"?"+o;t.location.hash&&(r+=t.location.hash),t.history.replaceState(null,null,r)}}e.exports=o},169:function(e,t,n){r.$inject=["$q","$httpParamSerializer","$timeout","$window","PostLoginActionCreatorService","UrlService"];var i=n(6),o=n(66);function r(e,t,n,r,a,s){return{handleAuthenticationWithPostLoginAction:function(t,i){return e((function(e){n((function(){o.isSignedInUser()?e():a.createPostLoginAction(t,i).then(c)}))}))}};function c(e){var n=t(i.extend(s.getSearchParams(),a.getPostLoginActionParamsForUrl(e)));r.location="/login/sso?back_to="+encodeURIComponent(r.location.pathname+"?"+n)}}e.exports=r},170:function(e,t){n.$inject=["$http"];function n(e){return{createPostLoginAction:function(t,n){return e.post("/post_login_actions",{name:t,data:n}).then((function(e){return e.data.postLoginActionId}))},getPostLoginActionParamsForUrl:function(e){var t={};return t.post_login_action_id=e,t}}}e.exports=n},175:function(e,t){!function(e,t,n){"use strict";function i(e,t){return t=t||Error,function(){var n,i,o=2,r=arguments,a=r[0],s="["+(e?e+":":"")+a+"] ",c=r[1];for(s+=c.replace(/\{\d+\}/g,(function(e){var t=+e.slice(1,-1)+o;return t<r.length?Ve(r[t]):e})),s+="\nhttp://errors.angularjs.org/1.4.14/"+(e?e+"/":"")+a,i=o,n="?";i<r.length;i++,n="&")s+=n+"p"+(i-o)+"="+encodeURIComponent(Ve(r[i]));return new t(s)}}var o=/^\/(.+)\/([a-z]*)$/,r="validity",a=function(e){return V(e)?e.toLowerCase():e},s=Object.prototype.hasOwnProperty,c=function(e){return V(e)?e.toUpperCase():e};"i"!=="I".toLowerCase()&&(a=function(e){return V(e)?e.replace(/[A-Z]/g,(function(e){return String.fromCharCode(32|e.charCodeAt(0))})):e},c=function(e){return V(e)?e.replace(/[a-z]/g,(function(e){return String.fromCharCode(-33&e.charCodeAt(0))})):e});var l,u,d,f,p=[].slice,h=[].splice,g=[].push,m=Object.prototype.toString,v=Object.getPrototypeOf,y=i("ng"),_=e.angular||(e.angular={}),b=0;function S(e){if(null==e||q(e))return!1;if(W(e)||V(e)||u&&e instanceof u)return!0;var t="length"in Object(e)&&e.length;return U(t)&&(t>=0&&(t-1 in e||e instanceof Array)||"function"==typeof e.item)}function w(e,t,n){var i,o;if(e)if(z(e))for(i in e)"prototype"==i||"length"==i||"name"==i||e.hasOwnProperty&&!e.hasOwnProperty(i)||t.call(n,e[i],i,e);else if(W(e)||S(e)){var r="object"!==typeof e;for(i=0,o=e.length;i<o;i++)(r||i in e)&&t.call(n,e[i],i,e)}else if(e.forEach&&e.forEach!==w)e.forEach(t,n,e);else if(O(e))for(i in e)t.call(n,e[i],i,e);else if("function"===typeof e.hasOwnProperty)for(i in e)e.hasOwnProperty(i)&&t.call(n,e[i],i,e);else for(i in e)s.call(e,i)&&t.call(n,e[i],i,e);return e}function $(e,t,n){for(var i=Object.keys(e).sort(),o=0;o<i.length;o++)t.call(n,e[i[o]],i[o]);return i}function C(e){return function(t,n){e(n,t)}}function F(){return++b}function E(e,t){t?e.$$hashKey=t:delete e.$$hashKey}function x(e,t,n){for(var i=e.$$hashKey,o=0,r=t.length;o<r;++o){var a=t[o];if(R(a)||z(a))for(var s=Object.keys(a),c=0,l=s.length;c<l;c++){var u=s[c],d=a[u];n&&R(d)?B(d)?e[u]=new Date(d.valueOf()):H(d)?e[u]=new RegExp(d):d.nodeName?e[u]=d.cloneNode(!0):te(d)?e[u]=d.clone():(R(e[u])||(e[u]=W(d)?[]:{}),x(e[u],[d],!0)):e[u]=d}}return E(e,i),e}function k(e){return x(e,p.call(arguments,1),!1)}function T(e){return x(e,p.call(arguments,1),!0)}function P(e){return parseInt(e,10)}function M(e,t){return k(Object.create(e),t)}function A(){}function D(e){return e}function L(e){return function(){return e}}function N(e){return z(e.toString)&&e.toString!==m}function I(e){return"undefined"===typeof e}function j(e){return"undefined"!==typeof e}function R(e){return null!==e&&"object"===typeof e}function O(e){return null!==e&&"object"===typeof e&&!v(e)}function V(e){return"string"===typeof e}function U(e){return"number"===typeof e}function B(e){return"[object Date]"===m.call(e)}l=t.documentMode,A.$inject=[],D.$inject=[];var W=Array.isArray;function z(e){return"function"===typeof e}function H(e){return"[object RegExp]"===m.call(e)}function q(e){return e&&e.window===e}function G(e){return e&&e.$evalAsync&&e.$watch}function Z(e){return"[object Blob]"===m.call(e)}function K(e){return"boolean"===typeof e}function X(e){return e&&z(e.then)}var Y=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array\]$/;function J(e){return e&&U(e.length)&&Y.test(m.call(e))}var Q=function(e){return V(e)?e.trim():e},ee=function(e){return e.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")};function te(e){return!(!e||!(e.nodeName||e.prop&&e.attr&&e.find))}function ne(e){return a(e.nodeName||e[0]&&e[0].nodeName)}function ie(e,t){var n=e.indexOf(t);return n>=0&&e.splice(n,1),n}function oe(e,t){var n=[],i=[];if(t){if(J(t))throw y("cpta","Can't copy! TypedArray destination cannot be mutated.");if(e===t)throw y("cpi","Can't copy! Source and destination are identical.");return W(t)?t.length=0:w(t,(function(e,n){"$$hashKey"!==n&&delete t[n]})),n.push(e),i.push(t),o(e,t)}return r(e);function o(e,t){var n,i=t.$$hashKey;if(W(e))for(var o=0,a=e.length;o<a;o++)t.push(r(e[o]));else if(O(e))for(n in e)t[n]=r(e[n]);else if(e&&"function"===typeof e.hasOwnProperty)for(n in e)e.hasOwnProperty(n)&&(t[n]=r(e[n]));else for(n in e)s.call(e,n)&&(t[n]=r(e[n]));return E(t,i),t}function r(e){if(!R(e))return e;var t=n.indexOf(e);if(-1!==t)return i[t];if(q(e)||G(e))throw y("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var r,a=!1;return W(e)?(r=[],a=!0):J(e)?r=new e.constructor(e):B(e)?r=new Date(e.getTime()):H(e)?(r=new RegExp(e.source,e.toString().match(/[^\/]*$/)[0])).lastIndex=e.lastIndex:Z(e)?r=new e.constructor([e],{type:e.type}):z(e.cloneNode)?r=e.cloneNode(!0):(r=Object.create(v(e)),a=!0),n.push(e),i.push(r),a?o(e,r):r}}function re(e,t){if(W(e)){t=t||[];for(var n=0,i=e.length;n<i;n++)t[n]=e[n]}else if(R(e))for(var o in t=t||{},e)"$"===o.charAt(0)&&"$"===o.charAt(1)||(t[o]=e[o]);return t||e}function ae(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!==e&&t!==t)return!0;var n,i,o,r=typeof e;if(r==typeof t&&"object"==r){if(!W(e)){if(B(e))return!!B(t)&&ae(e.getTime(),t.getTime());if(H(e))return!!H(t)&&e.toString()==t.toString();if(G(e)||G(t)||q(e)||q(t)||W(t)||B(t)||H(t))return!1;for(i in o=Re(),e)if("$"!==i.charAt(0)&&!z(e[i])){if(!ae(e[i],t[i]))return!1;o[i]=!0}for(i in t)if(!(i in o)&&"$"!==i.charAt(0)&&j(t[i])&&!z(t[i]))return!1;return!0}if(!W(t))return!1;if((n=e.length)==t.length){for(i=0;i<n;i++)if(!ae(e[i],t[i]))return!1;return!0}}return!1}var se=function(){if(!j(se.rules)){var e=t.querySelector("[ng-csp]")||t.querySelector("[data-ng-csp]");if(e){var n=e.getAttribute("ng-csp")||e.getAttribute("data-ng-csp");se.rules={noUnsafeEval:!n||-1!==n.indexOf("no-unsafe-eval"),noInlineStyle:!n||-1!==n.indexOf("no-inline-style")}}else se.rules={noUnsafeEval:function(){try{return new Function(""),!1}catch(e){return!0}}(),noInlineStyle:!1}}return se.rules},ce=function(){if(j(ce.name_))return ce.name_;var e,n,i,o,r=Ce.length;for(n=0;n<r;++n)if(i=Ce[n],e=t.querySelector("["+i.replace(":","\\:")+"jq]")){o=e.getAttribute(i+"jq");break}return ce.name_=o};function le(e,t,n){return e.concat(p.call(t,n))}function ue(e,t){return p.call(e,t||0)}function de(e,t){var n=arguments.length>2?ue(arguments,2):[];return!z(t)||t instanceof RegExp?t:n.length?function(){return arguments.length?t.apply(e,le(n,arguments,0)):t.apply(e,n)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function fe(e,i){var o=i;return"string"===typeof e&&"$"===e.charAt(0)&&"$"===e.charAt(1)?o=n:q(i)?o="$WINDOW":i&&t===i?o="$DOCUMENT":G(i)&&(o="$SCOPE"),o}function pe(e,t){return I(e)?n:(U(t)||(t=t?2:null),JSON.stringify(e,fe,t))}function he(e){return V(e)?JSON.parse(e):e}var ge=/:/g;function me(e,t){e=e.replace(ge,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function ve(e,t,n){n=n?-1:1;var i=e.getTimezoneOffset();return function(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}(e,n*(me(t,i)-i))}function ye(e){e=u(e).clone();try{e.empty()}catch(n){}var t=u("<div>").append(e).html();try{return e[0].nodeType===Oe?a(t):t.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,(function(e,t){return"<"+a(t)}))}catch(n){return a(t)}}function _e(e){try{return decodeURIComponent(e)}catch(t){}}function be(e){var t={};return w((e||"").split("&"),(function(e){var n,i,o;e&&(i=e=e.replace(/\+/g,"%20"),-1!==(n=e.indexOf("="))&&(i=e.substring(0,n),o=e.substring(n+1)),j(i=_e(i))&&(o=!j(o)||_e(o),s.call(t,i)?W(t[i])?t[i].push(o):t[i]=[t[i],o]:t[i]=o))})),t}function Se(e){var t=[];return w(e,(function(e,n){W(e)?w(e,(function(e){t.push($e(n,!0)+(!0===e?"":"="+$e(e,!0)))})):t.push($e(n,!0)+(!0===e?"":"="+$e(e,!0)))})),t.length?t.join("&"):""}function we(e){return $e(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function $e(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,t?"%20":"+")}var Ce=["ng-","data-ng-","ng:","x-ng-"];function Fe(e,t){var n,i,o={};w(Ce,(function(t){var o=t+"app";!n&&e.hasAttribute&&e.hasAttribute(o)&&(n=e,i=e.getAttribute(o))})),w(Ce,(function(t){var o,r=t+"app";!n&&(o=e.querySelector("["+r.replace(":","\\:")+"]"))&&(n=o,i=o.getAttribute(r))})),n&&(o.strictDi=null!==function(e,t){var n,i,o=Ce.length;for(i=0;i<o;++i)if(n=Ce[i]+t,V(n=e.getAttribute(n)))return n;return null}(n,"strict-di"),t(n,i?[i]:[],o))}function Ee(n,i,o){R(o)||(o={});o=k({strictDi:!1},o);var r=function(){if((n=u(n)).injector()){var e=n[0]===t?"document":ye(n);throw y("btstrpd","App already bootstrapped with this element '{0}'",e.replace(/</,"&lt;").replace(/>/,"&gt;"))}(i=i||[]).unshift(["$provide",function(e){e.value("$rootElement",n)}]),o.debugInfoEnabled&&i.push(["$compileProvider",function(e){e.debugInfoEnabled(!0)}]),i.unshift("ng");var r=Rt(i,o.strictDi);return r.invoke(["$rootScope","$rootElement","$compile","$injector",function(e,t,n,i){e.$apply((function(){t.data("$injector",i),n(t)(e)}))}]),r},a=/^NG_ENABLE_DEBUG_INFO!/,s=/^NG_DEFER_BOOTSTRAP!/;if(e&&a.test(e.name)&&(o.debugInfoEnabled=!0,e.name=e.name.replace(a,"")),e&&!s.test(e.name))return r();e.name=e.name.replace(s,""),_.resumeBootstrap=function(e){return w(e,(function(e){i.push(e)})),r()},z(_.resumeDeferredBootstrap)&&_.resumeDeferredBootstrap()}function xe(){e.name="NG_ENABLE_DEBUG_INFO!"+e.name,e.location.reload()}function ke(e){var t=_.element(e).injector();if(!t)throw y("test","no injector found for element argument to getTestability");return t.get("$$testability")}var Te=/[A-Z]/g;function Pe(e,t){return t=t||"_",e.replace(Te,(function(e,n){return(n?t:"")+e.toLowerCase()}))}var Me,Ae=!1;function De(e,t,n){if(!e)throw y("areq","Argument '{0}' is {1}",t||"?",n||"required");return e}function Le(e,t,n){return n&&W(e)&&(e=e[e.length-1]),De(z(e),t,"not a function, got "+(e&&"object"===typeof e?e.constructor.name||"Object":typeof e)),e}function Ne(e,t){if("hasOwnProperty"===e)throw y("badname","hasOwnProperty is not a valid {0} name",t)}function Ie(e,t,n){if(!t)return e;for(var i,o=t.split("."),r=e,a=o.length,s=0;s<a;s++)i=o[s],e&&(e=(r=e)[i]);return!n&&z(e)?de(r,e):e}function je(e){for(var t,n=e[0],i=e[e.length-1],o=1;n!==i&&(n=n.nextSibling);o++)(t||e[o]!==n)&&(t||(t=u(p.call(e,0,o))),t.push(n));return t||e}function Re(){return Object.create(null)}var Oe=3;function Ve(e){return"function"===typeof e?e.toString().replace(/ \{[\s\S]*$/,""):I(e)?"undefined":"string"!==typeof e?function(e){var t=[];return JSON.stringify(e,(function(e,n){if(R(n=fe(e,n))){if(t.indexOf(n)>=0)return"...";t.push(n)}return n}))}(e):e}var Ue={full:"1.4.14",major:1,minor:4,dot:14,codeName:"material-distinction"};st.expando="ng339";var Be=st.cache={},We=1,ze=function(e,t,n){e.addEventListener(t,n,!1)},He=function(e,t,n){e.removeEventListener(t,n,!1)};st._data=function(e){return this.cache[e[this.expando]]||{}};var qe=/([\:\-\_]+(.))/g,Ge=/^moz([A-Z])/,Ze={mouseleave:"mouseout",mouseenter:"mouseover"},Ke=i("jqLite");function Xe(e){return e.replace(qe,(function(e,t,n,i){return i?n.toUpperCase():n})).replace(Ge,"Moz$1")}var Ye=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,Je=/<|&#?\w+;/,Qe=/<([\w:-]+)/,et=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,tt={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function nt(e){return!Je.test(e)}function it(e){var t=e.nodeType;return 1===t||!t||9===t}function ot(e,t){var n,i,o,r,a=t.createDocumentFragment(),s=[];if(nt(e))s.push(t.createTextNode(e));else{for(n=n||a.appendChild(t.createElement("div")),i=(Qe.exec(e)||["",""])[1].toLowerCase(),o=tt[i]||tt._default,n.innerHTML=o[1]+e.replace(et,"<$1></$2>")+o[2],r=o[0];r--;)n=n.lastChild;s=le(s,n.childNodes),(n=a.firstChild).textContent=""}return a.textContent="",a.innerHTML="",w(s,(function(e){a.appendChild(e)})),a}function rt(e,t){var n=e.parentNode;n&&n.replaceChild(t,e),t.appendChild(e)}tt.optgroup=tt.option,tt.tbody=tt.tfoot=tt.colgroup=tt.caption=tt.thead,tt.th=tt.td;var at=Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))};function st(e){if(e instanceof st)return e;var n,i,o,r;if(V(e)&&(e=Q(e),n=!0),!(this instanceof st)){if(n&&"<"!=e.charAt(0))throw Ke("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new st(e)}vt(this,n?(i=e,o=o||t,(r=Ye.exec(i))?[o.createElement(r[1])]:(r=ot(i,o))?r.childNodes:[]):e)}function ct(e){return e.cloneNode(!0)}function lt(e,t){if(t||dt(e),e.querySelectorAll)for(var n=e.querySelectorAll("*"),i=0,o=n.length;i<o;i++)dt(n[i])}function ut(e,t,n,i){if(j(i))throw Ke("offargs","jqLite#off() does not support the `selector` argument");var o=ft(e),r=o&&o.events,a=o&&o.handle;if(a)if(t){var s=function(t){var i=r[t];j(n)&&ie(i||[],n),j(n)&&i&&i.length>0||(He(e,t,a),delete r[t])};w(t.split(" "),(function(e){s(e),Ze[e]&&s(Ze[e])}))}else for(t in r)"$destroy"!==t&&He(e,t,a),delete r[t]}function dt(e,t){var i=e.ng339,o=i&&Be[i];if(o){if(t)return void delete o.data[t];o.handle&&(o.events.$destroy&&o.handle({},"$destroy"),ut(e)),delete Be[i],e.ng339=n}}function ft(e,t){var i=e.ng339,o=i&&Be[i];return t&&!o&&(e.ng339=i=++We,o=Be[i]={events:{},data:{},handle:n}),o}function pt(e,t,n){if(it(e)){var i=j(n),o=!i&&t&&!R(t),r=!t,a=ft(e,!o),s=a&&a.data;if(i)s[t]=n;else{if(r)return s;if(o)return s&&s[t];k(s,t)}}}function ht(e,t){return!!e.getAttribute&&(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" ")>-1}function gt(e,t){t&&e.setAttribute&&w(t.split(" "),(function(t){e.setAttribute("class",Q((" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+Q(t)+" "," ")))}))}function mt(e,t){if(t&&e.setAttribute){var n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");w(t.split(" "),(function(e){e=Q(e),-1===n.indexOf(" "+e+" ")&&(n+=e+" ")})),e.setAttribute("class",Q(n))}}function vt(e,t){if(t)if(t.nodeType)e[e.length++]=t;else{var n=t.length;if("number"===typeof n&&t.window!==t){if(n)for(var i=0;i<n;i++)e[e.length++]=t[i]}else e[e.length++]=t}}function yt(e,t){return _t(e,"$"+(t||"ngController")+"Controller")}function _t(e,t,n){9==e.nodeType&&(e=e.documentElement);for(var i=W(t)?t:[t];e;){for(var o=0,r=i.length;o<r;o++)if(j(n=u.data(e,i[o])))return n;e=e.parentNode||11===e.nodeType&&e.host}}function bt(e){for(lt(e,!0);e.firstChild;)e.removeChild(e.firstChild)}function St(e,t){t||lt(e);var n=e.parentNode;n&&n.removeChild(e)}var wt=st.prototype={ready:function(n){var i=!1;function o(){i||(i=!0,n())}"complete"===t.readyState?setTimeout(o):(this.on("DOMContentLoaded",o),st(e).on("load",o))},toString:function(){var e=[];return w(this,(function(t){e.push(""+t)})),"["+e.join(", ")+"]"},eq:function(e){return u(e>=0?this[e]:this[this.length+e])},length:0,push:g,sort:[].sort,splice:[].splice},$t={};w("multiple,selected,checked,disabled,readOnly,required,open".split(","),(function(e){$t[a(e)]=e}));var Ct={};w("input,select,option,textarea,button,form,details".split(","),(function(e){Ct[e]=!0}));var Ft={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};function Et(e,t){var n=$t[t.toLowerCase()];return n&&Ct[ne(e)]&&n}function xt(e,t,n){n.call(e,t)}function kt(e,t,n){var i=t.relatedTarget;i&&(i===e||at.call(e,i))||n.call(e,t)}function Tt(){this.$get=function(){return k(st,{hasClass:function(e,t){return e.attr&&(e=e[0]),ht(e,t)},addClass:function(e,t){return e.attr&&(e=e[0]),mt(e,t)},removeClass:function(e,t){return e.attr&&(e=e[0]),gt(e,t)}})}}function Pt(e,t){var n=e&&e.$$hashKey;if(n)return"function"===typeof n&&(n=e.$$hashKey()),n;var i=typeof e;return n="function"==i||"object"==i&&null!==e?e.$$hashKey=i+":"+(t||F)():i+":"+e}function Mt(e,t){if(t){var n=0;this.nextUid=function(){return++n}}w(e,this.put,this)}w({data:pt,removeData:dt,hasData:function(e){for(var t in Be[e.ng339])return!0;return!1}},(function(e,t){st[t]=e})),w({data:pt,inheritedData:_t,scope:function(e){return u.data(e,"$scope")||_t(e.parentNode||e,["$isolateScope","$scope"])},isolateScope:function(e){return u.data(e,"$isolateScope")||u.data(e,"$isolateScopeNoTemplate")},controller:yt,injector:function(e){return _t(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:ht,css:function(e,t,n){if(t=Xe(t),!j(n))return e.style[t];e.style[t]=n},attr:function(e,t,i){var o=e.nodeType;if(o!==Oe&&2!==o&&8!==o){var r=a(t);if($t[r]){if(!j(i))return e[t]||(e.attributes.getNamedItem(t)||A).specified?r:n;i?(e[t]=!0,e.setAttribute(t,r)):(e[t]=!1,e.removeAttribute(r))}else if(j(i))e.setAttribute(t,i);else if(e.getAttribute){var s=e.getAttribute(t,2);return null===s?n:s}}},prop:function(e,t,n){if(!j(n))return e[t];e[t]=n},text:function(){return e.$dv="",e;function e(e,t){if(I(t)){var n=e.nodeType;return 1===n||n===Oe?e.textContent:""}e.textContent=t}}(),val:function(e,t){if(I(t)){if(e.multiple&&"select"===ne(e)){var n=[];return w(e.options,(function(e){e.selected&&n.push(e.value||e.text)})),0===n.length?null:n}return e.value}e.value=t},html:function(e,t){if(I(t))return e.innerHTML;lt(e,!0),e.innerHTML=t},empty:bt},(function(e,t){st.prototype[t]=function(t,n){var i,o,r=this.length;if(e!==bt&&I(2==e.length&&e!==ht&&e!==yt?t:n)){if(R(t)){for(i=0;i<r;i++)if(e===pt)e(this[i],t);else for(o in t)e(this[i],o,t[o]);return this}for(var a=e.$dv,s=I(a)?Math.min(r,1):r,c=0;c<s;c++){var l=e(this[c],t,n);a=a?a+l:l}return a}for(i=0;i<r;i++)e(this[i],t,n);return this}})),w({removeData:dt,on:function(e,t,i,o){if(j(o))throw Ke("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(it(e)){var r=ft(e,!0),a=r.events,s=r.handle;s||(s=r.handle=function(e,t){var n=function(n,i){n.isDefaultPrevented=function(){return n.defaultPrevented};var o=t[i||n.type],r=o?o.length:0;if(r){if(I(n.immediatePropagationStopped)){var a=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),a&&a.call(n)}}n.isImmediatePropagationStopped=function(){return!0===n.immediatePropagationStopped};var s=o.specialHandlerWrapper||xt;r>1&&(o=re(o));for(var c=0;c<r;c++)n.isImmediatePropagationStopped()||s(e,n,o[c])}};return n.elem=e,n}(e,a));for(var c=t.indexOf(" ")>=0?t.split(" "):[t],l=c.length,u=function(t,n,o){var r=a[t];r||((r=a[t]=[]).specialHandlerWrapper=n,"$destroy"===t||o||ze(e,t,s)),r.push(i)};l--;)t=c[l],Ze[t]?(u(Ze[t],kt),u(t,n,!0)):u(t)}},off:ut,one:function(e,t,n){(e=u(e)).on(t,(function i(){e.off(t,n),e.off(t,i)})),e.on(t,n)},replaceWith:function(e,t){var n,i=e.parentNode;lt(e),w(new st(t),(function(t){n?i.insertBefore(t,n.nextSibling):i.replaceChild(t,e),n=t}))},children:function(e){var t=[];return w(e.childNodes,(function(e){1===e.nodeType&&t.push(e)})),t},contents:function(e){return e.contentDocument||e.childNodes||[]},append:function(e,t){var n=e.nodeType;if(1===n||11===n)for(var i=0,o=(t=new st(t)).length;i<o;i++){var r=t[i];e.appendChild(r)}},prepend:function(e,t){if(1===e.nodeType){var n=e.firstChild;w(new st(t),(function(t){e.insertBefore(t,n)}))}},wrap:function(e,t){rt(e,u(t).eq(0).clone()[0])},remove:St,detach:function(e){St(e,!0)},after:function(e,t){for(var n=e,i=e.parentNode,o=0,r=(t=new st(t)).length;o<r;o++){var a=t[o];i.insertBefore(a,n.nextSibling),n=a}},addClass:mt,removeClass:gt,toggleClass:function(e,t,n){t&&w(t.split(" "),(function(t){var i=n;I(i)&&(i=!ht(e,t)),(i?mt:gt)(e,t)}))},parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},next:function(e){return e.nextElementSibling},find:function(e,t){return e.getElementsByTagName?e.getElementsByTagName(t):[]},clone:ct,triggerHandler:function(e,t,n){var i,o,r,a=t.type||t,s=ft(e),c=s&&s.events,l=c&&c[a];l&&(i={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:A,type:a,target:e},t.type&&(i=k(i,t)),o=re(l),r=n?[i].concat(n):[i],w(o,(function(t){i.isImmediatePropagationStopped()||t.apply(e,r)})))}},(function(e,t){st.prototype[t]=function(t,n,i){for(var o,r=0,a=this.length;r<a;r++)I(o)?j(o=e(this[r],t,n,i))&&(o=u(o)):vt(o,e(this[r],t,n,i));return j(o)?o:this},st.prototype.bind=st.prototype.on,st.prototype.unbind=st.prototype.off})),Mt.prototype={put:function(e,t){this[Pt(e,this.nextUid)]=t},get:function(e){return this[Pt(e,this.nextUid)]},remove:function(e){var t=this[e=Pt(e,this.nextUid)];return delete this[e],t}};var At=[function(){this.$get=[function(){return Mt}]}],Dt=/^[^\(]*\(\s*([^\)]*)\)/m,Lt=/,/,Nt=/^\s*(_?)(\S+?)\1\s*$/,It=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,jt=i("$injector");function Rt(e,t){t=!0===t;var i={},o="Provider",r=[],a=new Mt([],!0),s={$provide:{provider:d(p),factory:d(g),service:d((function(e,t){return g(e,["$injector",function(e){return e.instantiate(t)}])})),value:d((function(e,t){return g(e,L(t),!1)})),constant:d((function(e,t){Ne(e,"constant"),s[e]=t,l[e]=t})),decorator:function(e,t){var n=c.get(e+o),i=n.$get;n.$get=function(){var e=u.invoke(i,n);return u.invoke(t,null,{$delegate:e})}}}},c=s.$injector=m(s,(function(e,t){throw _.isString(t)&&r.push(t),jt("unpr","Unknown provider: {0}",r.join(" <- "))})),l={},u=l.$injector=m(l,(function(e,t){var i=c.get(e+o,t);return u.invoke(i.$get,i,n,e)}));return w(function e(t){De(I(t)||W(t),"modulesToLoad","not an array");var n,i=[];return w(t,(function(t){if(!a.get(t)){a.put(t,!0);try{V(t)?(n=f(t),i=i.concat(e(n.requires)).concat(n._runBlocks),o(n._invokeQueue),o(n._configBlocks)):z(t)||W(t)?i.push(c.invoke(t)):Le(t,"module")}catch(r){throw W(t)&&(t=t[t.length-1]),r.message&&r.stack&&-1==r.stack.indexOf(r.message)&&(r=r.message+"\n"+r.stack),jt("modulerr","Failed to instantiate module {0} due to:\n{1}",t,r.stack||r.message||r)}}function o(e){var t,n;for(t=0,n=e.length;t<n;t++){var i=e[t],o=c.get(i[0]);o[i[1]].apply(o,i[2])}}})),i}(e),(function(e){e&&u.invoke(e)})),u;function d(e){return function(t,n){if(!R(t))return e(t,n);w(t,C(e))}}function p(e,t){if(Ne(e,"service"),(z(t)||W(t))&&(t=c.instantiate(t)),!t.$get)throw jt("pget","Provider '{0}' must define $get factory method.",e);return s[e+o]=t}function h(e,t){return function(){var n=u.invoke(t,this);if(I(n))throw jt("undef","Provider '{0}' must return a value from $get factory method.",e);return n}}function g(e,t,n){return p(e,{$get:!1!==n?h(e,t):t})}function m(e,n){function a(t,o){if(e.hasOwnProperty(t)){if(e[t]===i)throw jt("cdep","Circular dependency found: {0}",t+" <- "+r.join(" <- "));return e[t]}try{return r.unshift(t),e[t]=i,e[t]=n(t,o)}catch(a){throw e[t]===i&&delete e[t],a}finally{r.shift()}}function c(e,n,i,o){"string"===typeof i&&(o=i,i=null);var r,s,c,l=[],u=Rt.$$annotate(e,t,o);for(s=0,r=u.length;s<r;s++){if("string"!==typeof(c=u[s]))throw jt("itkn","Incorrect injection token! Expected service name as string, got {0}",c);l.push(i&&i.hasOwnProperty(c)?i[c]:a(c,o))}return W(e)&&(e=e[r]),e.apply(n,l)}return{invoke:c,instantiate:function(e,t,n){var i=Object.create((W(e)?e[e.length-1]:e).prototype||null),o=c(e,i,t,n);return R(o)||z(o)?o:i},get:a,annotate:Rt.$$annotate,has:function(t){return s.hasOwnProperty(t+o)||e.hasOwnProperty(t)}}}}function Ot(){var t=!0;this.disableAutoScrolling=function(){t=!1},this.$get=["$window","$location","$rootScope",function(n,i,o){var r=n.document;function a(e){if(e){e.scrollIntoView();var t=function(){var e=s.yOffset;if(z(e))e=e();else if(te(e)){var t=e[0];e="fixed"!==n.getComputedStyle(t).position?0:t.getBoundingClientRect().bottom}else U(e)||(e=0);return e}();if(t){var i=e.getBoundingClientRect().top;n.scrollBy(0,i-t)}}else n.scrollTo(0,0)}function s(e){var t,n,o;(e=V(e)?e:i.hash())?(t=r.getElementById(e))?a(t):(n=r.getElementsByName(e),o=null,Array.prototype.some.call(n,(function(e){if("a"===ne(e))return o=e,!0})),(t=o)?a(t):"top"===e&&a(null)):a(null)}return t&&o.$watch((function(){return i.hash()}),(function(t,n){var i,r;t===n&&""===t||(i=function(){o.$evalAsync(s)},"complete"===(r=r||e).document.readyState?r.setTimeout(i):u(r).on("load",i))})),s}]}Rt.$$annotate=function(e,t,n){var i,o;if("function"===typeof e){if(!(i=e.$inject)){if(i=[],e.length){if(t)throw V(n)&&n||(n=e.name||function(e){var t=e.toString().replace(It,"").match(Dt);return t?"function("+(t[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}(e)),jt("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n);w(e.toString().replace(It,"").match(Dt)[1].split(Lt),(function(e){e.replace(Nt,(function(e,t,n){i.push(n)}))}))}e.$inject=i}}else W(e)?(Le(e[o=e.length-1],"fn"),i=e.slice(0,o)):Le(e,"fn",!0);return i};var Vt=i("$animate"),Ut="ng-animate";function Bt(e,t){return e||t?e?t?(W(e)&&(e=e.join(" ")),W(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function Wt(e){return R(e)?e:{}}var zt=function(){this.$get=function(){}},Ht=function(){var e=new Mt,t=[];this.$get=["$$AnimateRunner","$rootScope",function(n,i){return{enabled:A,on:A,off:A,pin:A,push:function(a,s,c,l){l&&l(),(c=c||{}).from&&a.css(c.from),c.to&&a.css(c.to),(c.addClass||c.removeClass)&&function(n,a,s){var c=e.get(n)||{},l=o(c,a,!0),u=o(c,s,!1);(l||u)&&(e.put(n,c),t.push(n),1===t.length&&i.$$postDigest(r))}(a,c.addClass,c.removeClass);var u=new n;return u.complete(),u}};function o(e,t,n){var i=!1;return t&&w(t=V(t)?t.split(" "):W(t)?t:[],(function(t){t&&(i=!0,e[t]=n)})),i}function r(){w(t,(function(t){var n=e.get(t);if(n){var i=function(e){V(e)&&(e=e.split(" "));var t=Re();return w(e,(function(e){e.length&&(t[e]=!0)})),t}(t.attr("class")),o="",r="";w(n,(function(e,t){e!==!!i[t]&&(e?o+=(o.length?" ":"")+t:r+=(r.length?" ":"")+t)})),w(t,(function(e){o&&mt(e,o),r&&gt(e,r)})),e.remove(t)}})),t.length=0}}]},qt=["$provide",function(e){var t=this;this.$$registeredAnimations=Object.create(null),this.register=function(n,i){if(n&&"."!==n.charAt(0))throw Vt("notcsel","Expecting class selector starting with '.' got '{0}'.",n);var o=n+"-animation";t.$$registeredAnimations[n.substr(1)]=o,e.factory(o,i)},this.classNameFilter=function(e){if(1===arguments.length&&(this.$$classNameFilter=e instanceof RegExp?e:null,this.$$classNameFilter)){var t=new RegExp("(\\s+|\\/)ng-animate(\\s+|\\/)");if(t.test(this.$$classNameFilter.toString()))throw Vt("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',Ut)}return this.$$classNameFilter},this.$get=["$$animateQueue",function(e){function t(e,t,n){if(n){var i=function(e){for(var t=0;t<e.length;t++){var n=e[t];if(1===n.nodeType)return n}}(n);!i||i.parentNode||i.previousElementSibling||(n=null)}n?n.after(e):t.prepend(e)}return{on:e.on,off:e.off,pin:e.pin,enabled:e.enabled,cancel:function(e){e.end&&e.end()},enter:function(n,i,o,r){return i=i&&u(i),o=o&&u(o),t(n,i=i||o.parent(),o),e.push(n,"enter",Wt(r))},move:function(n,i,o,r){return i=i&&u(i),o=o&&u(o),t(n,i=i||o.parent(),o),e.push(n,"move",Wt(r))},leave:function(t,n){return e.push(t,"leave",Wt(n),(function(){t.remove()}))},addClass:function(t,n,i){return(i=Wt(i)).addClass=Bt(i.addclass,n),e.push(t,"addClass",i)},removeClass:function(t,n,i){return(i=Wt(i)).removeClass=Bt(i.removeClass,n),e.push(t,"removeClass",i)},setClass:function(t,n,i,o){return(o=Wt(o)).addClass=Bt(o.addClass,n),o.removeClass=Bt(o.removeClass,i),e.push(t,"setClass",o)},animate:function(t,n,i,o,r){return(r=Wt(r)).from=r.from?k(r.from,n):n,r.to=r.to?k(r.to,i):i,o=o||"ng-inline-animate",r.tempClasses=Bt(r.tempClasses,o),e.push(t,"animate",r)}}}]}],Gt=function(){this.$get=["$$rAF",function(e){var t=[];function n(n){t.push(n),t.length>1||e((function(){for(var e=0;e<t.length;e++)t[e]();t=[]}))}return function(){var e=!1;return n((function(){e=!0})),function(t){e?t():n(t)}}}]},Zt=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$document","$timeout",function(e,t,n,i,o){function r(e){this.setHost(e);var t=n();this._doneCallbacks=[],this._tick=function(e){var n=i[0];n&&n.hidden?function(e){o(e,0,!1)}(e):t(e)},this._state=0}return r.chain=function(e,t){var n=0;!function i(){if(n===e.length)return void t(!0);e[n]((function(e){!1!==e?(n++,i()):t(!1)}))}()},r.all=function(e,t){var n=0,i=!0;function o(o){i=i&&o,++n===e.length&&t(i)}w(e,(function(e){e.done(o)}))},r.prototype={setHost:function(e){this.host=e||{}},done:function(e){2===this._state?e():this._doneCallbacks.push(e)},progress:A,getPromise:function(){if(!this.promise){var t=this;this.promise=e((function(e,n){t.done((function(t){!1===t?n():e()}))}))}return this.promise},then:function(e,t){return this.getPromise().then(e,t)},catch:function(e){return this.getPromise().catch(e)},finally:function(e){return this.getPromise().finally(e)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(e){var t=this;0===t._state&&(t._state=1,t._tick((function(){t._resolve(e)})))},_resolve:function(e){2!==this._state&&(w(this._doneCallbacks,(function(t){t(e)})),this._doneCallbacks.length=0,this._state=2)}},r}]},Kt=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(e,t,n){return function(t,i){var o=i||{};o.$$prepared||(o=oe(o)),o.cleanupStyles&&(o.from=o.to=null),o.from&&(t.css(o.from),o.from=null);var r,a=new n;return{start:s,end:s};function s(){return e((function(){!function(){o.addClass&&(t.addClass(o.addClass),o.addClass=null);o.removeClass&&(t.removeClass(o.removeClass),o.removeClass=null);o.to&&(t.css(o.to),o.to=null)}(),r||a.complete(),r=!0})),a}}}]};function Xt(e,t,n,i){var o=this,r=(t[0],e.location),a=e.history,s=e.setTimeout,c=e.clearTimeout,l={};o.isMock=!1;var d=0,f=[];function p(e){try{e.apply(null,ue(arguments,1))}finally{if(0===--d)for(;f.length;)try{f.pop()()}catch(t){n.error(t)}}}o.$$completeOutstandingRequest=p,o.$$incOutstandingRequestCount=function(){d++},o.notifyWhenNoOutstandingRequests=function(e){0===d?e():f.push(e)};var h,g,m=r.href,v=t.find("base"),y=null;C(),g=h,o.url=function(t,n,s){if(I(s)&&(s=null),r!==e.location&&(r=e.location),a!==e.history&&(a=e.history),t){var c=g===s;if(m===t&&(!i.history||c))return o;var l=m&&Un(m)===Un(t);return m=t,g=s,!i.history||l&&c?(l&&!y||(y=t),n?r.replace(t):l?r.hash=function(e){var t=e.indexOf("#");return-1===t?"":e.substr(t)}(t):r.href=t,r.href!==t&&(y=t)):(a[n?"replaceState":"pushState"](s,"",t),C(),g=h),o}return y||r.href.replace(/%27/g,"'")},o.state=function(){return h};var _=[],b=!1;function S(){y=null,C(),F()}var $=null;function C(){ae(h=I(h=function(){try{return a.state}catch(e){}}())?null:h,$)&&(h=$),$=h}function F(){m===o.url()&&g===h||(m=o.url(),g=h,w(_,(function(e){e(o.url(),h)})))}o.onUrlChange=function(t){return b||(i.history&&u(e).on("popstate",S),u(e).on("hashchange",S),b=!0),_.push(t),t},o.$$applicationDestroyed=function(){u(e).off("hashchange popstate",S)},o.$$checkUrlChange=F,o.baseHref=function(){var e=v.attr("href");return e?e.replace(/^(https?\:)?\/\/[^\/]*/,""):""},o.defer=function(e,t){var n;return d++,n=s((function(){delete l[n],p(e)}),t||0),l[n]=!0,n},o.defer.cancel=function(e){return!!l[e]&&(delete l[e],c(e),p(A),!0)}}function Yt(){this.$get=["$window","$log","$sniffer","$document",function(e,t,n,i){return new Xt(e,i,t,n)}]}function Jt(){this.$get=function(){var e={};function t(t,n){if(t in e)throw i("$cacheFactory")("iid","CacheId '{0}' is already taken!",t);var o=0,r=k({},n,{id:t}),a=Re(),s=n&&n.capacity||Number.MAX_VALUE,c=Re(),l=null,u=null;return e[t]={put:function(e,t){if(!I(t)){if(s<Number.MAX_VALUE)d(c[e]||(c[e]={key:e}));return e in a||o++,a[e]=t,o>s&&this.remove(u.key),t}},get:function(e){if(s<Number.MAX_VALUE){var t=c[e];if(!t)return;d(t)}return a[e]},remove:function(e){if(s<Number.MAX_VALUE){var t=c[e];if(!t)return;t==l&&(l=t.p),t==u&&(u=t.n),f(t.n,t.p),delete c[e]}e in a&&(delete a[e],o--)},removeAll:function(){a=Re(),o=0,c=Re(),l=u=null},destroy:function(){a=null,r=null,c=null,delete e[t]},info:function(){return k({},r,{size:o})}};function d(e){e!=l&&(u?u==e&&(u=e.n):u=e,f(e.n,e.p),f(e,l),(l=e).n=null)}function f(e,t){e!=t&&(e&&(e.p=t),t&&(t.n=e))}}return t.info=function(){var t={};return w(e,(function(e,n){t[n]=e.info()})),t},t.get=function(t){return e[t]},t}}function Qt(){this.$get=["$cacheFactory",function(e){return e("templates")}]}var en=i("$compile");function tn(e,i){var o={},r="Directive",c=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,f=/(([\w\-]+)(?:\:([^;]+))?;?)/,p=function(e){var t,n={},i=e.split(",");for(t=0;t<i.length;t++)n[i[t]]=!0;return n}("ngSrc,ngSrcset,src,srcset"),h=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,g=/^(on[a-z]+|formaction)$/,m=Re();function v(e,t,n){var i=/^\s*([@&]|=(\*?))(\??)\s*(\w*)\s*$/,o=Re();return w(e,(function(e,r){if(e in m)o[r]=m[e];else{var a=e.match(i);if(!a)throw en("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",t,r,e,n?"controller bindings definition":"isolate scope definition");o[r]={mode:a[1][0],collection:"*"===a[2],optional:"?"===a[3],attrName:a[4]||r},a[4]&&(m[e]=o[r])}})),o}function y(e,t){var n={isolateScope:null,bindToController:null};if(R(e.scope)&&(!0===e.bindToController?(n.bindToController=v(e.scope,t,!0),n.isolateScope={}):n.isolateScope=v(e.scope,t,!1)),R(e.bindToController)&&(n.bindToController=v(e.bindToController,t,!0)),R(n.bindToController)){var i=e.controller,o=e.controllerAs;if(!i)throw en("noctrl","Cannot bind to controller without directive '{0}'s controller.",t);if(!function(e,t){if(t&&V(t))return t;if(V(e)){var n=cn.exec(e);if(n)return n[3]}}(i,o))throw en("noident","Cannot bind to controller without identifier for directive '{0}'.",t)}return n}this.directive=function t(n,i){return Ne(n,"directive"),V(n)?(!function(e){var t=e.charAt(0);if(!t||t!==a(t))throw en("baddir","Directive name '{0}' is invalid. The first character must be a lowercase letter",e);if(e!==e.trim())throw en("baddir","Directive name '{0}' is invalid. The name should not contain leading or trailing whitespaces",e)}(n),De(i,"directiveFactory"),o.hasOwnProperty(n)||(o[n]=[],e.factory(n+r,["$injector","$exceptionHandler",function(e,t){var i=[];return w(o[n],(function(o,r){try{var a=e.invoke(o);z(a)?a={compile:L(a)}:!a.compile&&a.link&&(a.compile=L(a.link)),a.priority=a.priority||0,a.index=r,a.name=a.name||n,a.require=a.require||a.controller&&a.name,a.restrict=a.restrict||"EA",a.$$moduleName=o.$$moduleName,i.push(a)}catch(s){t(s)}})),i}])),o[n].push(i)):w(n,C(t)),this},this.aHrefSanitizationWhitelist=function(e){return j(e)?(i.aHrefSanitizationWhitelist(e),this):i.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(e){return j(e)?(i.imgSrcSanitizationWhitelist(e),this):i.imgSrcSanitizationWhitelist()};var _=!0;this.debugInfoEnabled=function(e){return j(e)?(_=e,this):_},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function(e,i,m,v,b,S,$,C,F,E){var x=function(e,t){if(t){var n,i,o,r=Object.keys(t);for(n=0,i=r.length;n<i;n++)this[o=r[n]]=t[o]}else this.$attr={};this.$$element=e};function T(e,t){try{e.addClass(t)}catch(n){}}x.prototype={$normalize:on,$addClass:function(e){e&&e.length>0&&F.addClass(this.$$element,e)},$removeClass:function(e){e&&e.length>0&&F.removeClass(this.$$element,e)},$updateClass:function(e,t){var n=rn(e,t);n&&n.length&&F.addClass(this.$$element,n);var i=rn(t,e);i&&i.length&&F.removeClass(this.$$element,i)},$set:function(e,t,n,i){var o,r=Et(this.$$element[0],e),a=Ft[e],s=e;if(r?(this.$$element.prop(e,t),i=r):a&&(this[a]=t,s=a),this[e]=t,i?this.$attr[e]=i:(i=this.$attr[e])||(this.$attr[e]=i=Pe(e,"-")),"a"===(o=ne(this.$$element))&&"href"===e||"img"===o&&"src"===e)this[e]=t=E(t,"src"===e);else if("img"===o&&"srcset"===e&&j(t)){for(var c="",l=Q(t),u=/\s/.test(l)?/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/:/(,)/,d=l.split(u),f=Math.floor(d.length/2),p=0;p<f;p++){var h=2*p;c+=E(Q(d[h]),!0),c+=" "+Q(d[h+1])}var g=Q(d[2*p]).split(/\s/);c+=E(Q(g[0]),!0),2===g.length&&(c+=" "+Q(g[1])),this[e]=t=c}!1!==n&&(null===t||I(t)?this.$$element.removeAttr(i):this.$$element.attr(i,t));var v=this.$$observers;v&&w(v[s],(function(e){try{e(t)}catch(n){m(n)}}))},$observe:function(e,t){var n=this,i=n.$$observers||(n.$$observers=Re()),o=i[e]||(i[e]=[]);return o.push(t),$.$evalAsync((function(){o.$$inter||!n.hasOwnProperty(e)||I(n[e])||t(n[e])})),function(){ie(o,t)}}};var P=i.startSymbol(),L=i.endSymbol(),N="{{"==P&&"}}"==L?D:function(e){return e.replace(/\{\{/g,P).replace(/}}/g,L)},O=/^ngAttr[A-Z]/,U=/^(.+)Start$/;return B.$$addBindingInfo=_?function(e,t){var n=e.data("$binding")||[];W(t)?n=n.concat(t):n.push(t),e.data("$binding",n)}:A,B.$$addBindingClass=_?function(e){T(e,"ng-binding")}:A,B.$$addScopeInfo=_?function(e,t,n,i){var o=n?i?"$isolateScopeNoTemplate":"$isolateScope":"$scope";e.data(o,t)}:A,B.$$addScopeClass=_?function(e,t){T(e,t?"ng-isolate-scope":"ng-scope")}:A,B;function B(e,n,i,o,r){e instanceof u||(e=u(e));for(var a=/\S+/,s=0,c=e.length;s<c;s++){var l=e[s];l.nodeType===Oe&&l.nodeValue.match(a)&&rt(l,e[s]=t.createElement("span"))}var d=H(e,n,e,i,o,r);B.$$addScopeClass(e);var f=null;return function(t,n,i){De(t,"scope"),r&&r.needsNewScope&&(t=t.$parent.$new());var o,a,s,c=(i=i||{}).parentBoundTranscludeFn,l=i.transcludeControllers,p=i.futureParentElement;if(c&&c.$$boundTransclude&&(c=c.$$boundTransclude),f||(a=(o=p)&&o[0],f=a&&"foreignobject"!==ne(a)&&a.toString().match(/SVG/)?"svg":"html"),s="html"!==f?u(de(f,u("<div>").append(e).html())):n?wt.clone.call(e):e,l)for(var h in l)s.data("$"+h+"Controller",l[h].instance);return B.$$addScopeInfo(s,t),n&&n(s,t),d&&d(t,s,s,c),s}}function H(e,t,i,o,r,a){for(var s,c,l,d,f,p,h,g=[],m=0;m<e.length;m++)s=new x,(l=(c=Z(e[m],[],s,0===m?o:n,r)).length?J(c,e[m],s,t,i,null,[],[],a):null)&&l.scope&&B.$$addScopeClass(s.$$element),f=l&&l.terminal||!(d=e[m].childNodes)||!d.length?null:H(d,l?(l.transcludeOnThisElement||!l.templateOnThisElement)&&l.transclude:t),(l||f)&&(g.push(m,l,f),p=!0,h=h||l),a=null;return p?function(e,i,o,r){var a,s,c,l,d,f,p,m,v;if(h){var y=i.length;for(v=new Array(y),d=0;d<g.length;d+=3)p=g[d],v[p]=i[p]}else v=i;for(d=0,f=g.length;d<f;)c=v[g[d++]],a=g[d++],s=g[d++],a?(a.scope?(l=e.$new(),B.$$addScopeInfo(u(c),l)):l=e,m=a.transcludeOnThisElement?q(e,a.transclude,r):!a.templateOnThisElement&&r?r:!r&&t?q(e,t):null,a(s,l,c,o,m)):s&&s(e,c.childNodes,n,r)}:null}function q(e,t,n){return function(i,o,r,a,s){return i||((i=e.$new(!1,s)).$$transcluded=!0),t(i,o,{parentBoundTranscludeFn:n,transcludeControllers:r,futureParentElement:a})}}function Z(e,t,n,o,r){var a,s,u,d=e.nodeType,p=n.$attr;switch(d){case 1:te(t,on(s=ne(e)),"E",o,r);for(var h,g,m,v,y,_,b=e.attributes,S=0,w=b&&b.length;S<w;S++){var $=!1,C=!1;g=(h=b[S]).name,y=Q(h.value),v=on(g),(_=O.test(v))&&(g=g.replace(nn,"").substr(8).replace(/_(.)/g,(function(e,t){return t.toUpperCase()})));var F=v.match(U);F&&oe(F[1])&&($=g,C=g.substr(0,g.length-5)+"end",g=g.substr(0,g.length-6)),p[m=on(g.toLowerCase())]=g,!_&&n.hasOwnProperty(m)||(n[m]=y,Et(e,m)&&(n[m]=!0)),fe(e,t,y,m,_),te(t,m,"A",o,r,$,C)}if("input"===s&&"hidden"===e.getAttribute("type")&&e.setAttribute("autocomplete","off"),R(u=e.className)&&(u=u.animVal),V(u)&&""!==u)for(;a=f.exec(u);)te(t,m=on(a[2]),"C",o,r)&&(n[m]=Q(a[3])),u=u.substr(a.index+a[0].length);break;case Oe:if(11===l)for(;e.parentNode&&e.nextSibling&&e.nextSibling.nodeType===Oe;)e.nodeValue=e.nodeValue+e.nextSibling.nodeValue,e.parentNode.removeChild(e.nextSibling);!function(e,t){var n=i(t,!0);n&&e.push({priority:0,compile:function(e){var t=e.parent(),i=!!t.length;return i&&B.$$addBindingClass(t),function(e,t){var o=t.parent();i||B.$$addBindingClass(o),B.$$addBindingInfo(o,n.expressions),e.$watch(n,(function(e){t[0].nodeValue=e}))}}})}(t,e.nodeValue);break;case 8:try{(a=c.exec(e.nodeValue))&&te(t,m=on(a[1]),"M",o,r)&&(n[m]=Q(a[2]))}catch(E){}}return t.sort(ce),t}function X(e,t,n){var i=[],o=0;if(t&&e.hasAttribute&&e.hasAttribute(t))do{if(!e)throw en("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",t,n);1==e.nodeType&&(e.hasAttribute(t)&&o++,e.hasAttribute(n)&&o--),i.push(e),e=e.nextSibling}while(o>0);else i.push(e);return u(i)}function Y(e,t,n){return function(i,o,r,a,s){return o=X(o[0],t,n),e(i,o,r,a,s)}}function J(e,i,o,r,a,s,c,l,d){d=d||{};for(var f,p,g,v,y,_=-Number.MAX_VALUE,b=d.newScopeDirective,w=d.controllerDirectives,$=d.newIsolateScopeDirective,C=d.templateDirective,F=d.nonTlbTranscludeDirective,E=!1,k=!1,T=d.hasElementTranscludeDirective,P=o.$$element=u(i),M=s,A=r,D=0,L=e.length;D<L;D++){var I=(f=e[D]).$$start,j=f.$$end;if(I&&(P=X(i,I,j)),g=n,_>f.priority)break;if((y=f.scope)&&(f.templateUrl||(R(y)?(le("new/isolated scope",$||b,f,P),$=f):le("new/isolated scope",$,f,P)),b=b||f),p=f.name,!f.templateUrl&&f.controller&&(y=f.controller,w=w||Re(),le("'"+p+"' controller",w[p],f,P),w[p]=f),(y=f.transclude)&&(E=!0,f.$$tlb||(le("transclusion",F,f,P),F=f),"element"==y?(T=!0,_=f.priority,g=P,P=o.$$element=u(t.createComment(" "+p+": "+o[p]+" ")),i=P[0],pe(a,ue(g),i),A=B(g,r,_,M&&M.name,{nonTlbTranscludeDirective:F})):(g=u(ct(i)).contents(),P.empty(),A=B(g,r,n,n,{needsNewScope:f.$$isolateScope||f.$$newScope}))),f.template)if(k=!0,le("template",C,f,P),C=f,y=z(f.template)?f.template(P,o):f.template,y=N(y),f.replace){if(M=f,g=nt(y)?[]:an(de(f.templateNamespace,Q(y))),i=g[0],1!=g.length||1!==i.nodeType)throw en("tplrt","Template for directive '{0}' must have exactly one root element. {1}",p,"");pe(a,P,i);var O={$attr:{}},U=Z(i,[],O),H=e.splice(D+1,e.length-(D+1));($||b)&&ee(U,$,b),e=e.concat(U).concat(H),re(o,O),L=e.length}else P.html(y);if(f.templateUrl)k=!0,le("template",C,f,P),C=f,f.replace&&(M=f),J=se(e.splice(D,e.length-D),P,o,a,E&&A,c,l,{controllerDirectives:w,newScopeDirective:b!==f&&b,newIsolateScopeDirective:$,templateDirective:C,nonTlbTranscludeDirective:F}),L=e.length;else if(f.compile)try{z(v=f.compile(P,o,A))?q(null,v,I,j):v&&q(v.pre,v.post,I,j)}catch(te){m(te,ye(P))}f.terminal&&(J.terminal=!0,_=Math.max(_,f.priority))}return J.scope=b&&!0===b.scope,J.transcludeOnThisElement=E,J.templateOnThisElement=k,J.transclude=A,d.hasElementTranscludeDirective=T,J;function q(e,t,n,i){e&&(n&&(e=Y(e,n,i)),e.require=f.require,e.directiveName=p,($===f||f.$$isolateScope)&&(e=he(e,{isolateScope:!0})),c.push(e)),t&&(n&&(t=Y(t,n,i)),t.require=f.require,t.directiveName=p,($===f||f.$$isolateScope)&&(t=he(t,{isolateScope:!0})),l.push(t))}function K(e,t,n,i){var o;if(V(t)){var r=t.match(h),a=t.substring(r[0].length),s=r[1]||r[3],c="?"===r[2];if("^^"===s?n=n.parent():o=(o=i&&i[a])&&o.instance,!o){var l="$"+a+"Controller";o=s?n.inheritedData(l):n.data(l)}if(!o&&!c)throw en("ctreq","Controller '{0}', required by directive '{1}', can't be found!",a,e)}else if(W(t)){o=[];for(var u=0,d=t.length;u<d;u++)o[u]=K(e,t[u],n,i)}return o||null}function J(e,t,r,a,s){var d,f,p,h,g,m,v,y,_;for(var F in i===r?(v=o,m=o.$$element):(m=u(r),v=new x(m,o)),p=t,$?f=t.$new(!0):b&&(p=t.$parent),s&&(g=function(e,t,i){var o;G(e)||(i=t,t=e,e=n);T&&(o=h);i||(i=T?m.parent():m);return s(e,t,o,i,A)},g.$$boundTransclude=s),w&&(h=function(e,t,n,i,o,r){var a=Re();for(var s in i){var c=i[s],l={$scope:c===$||c.$$isolateScope?o:r,$element:e,$attrs:t,$transclude:n},u=c.controller;"@"==u&&(u=t[c.name]);var d=S(u,l,!0,c.controllerAs);a[c.name]=d,e.data("$"+c.name+"Controller",d.instance)}return a}(m,v,g,w,f,t)),$&&(B.$$addScopeInfo(m,f,!0,!(C&&(C===$||C===$.$$originalDirective))),B.$$addScopeClass(m,!0),f.$$isolateBindings=$.$$isolateBindings,(y=me(t,v,f,f.$$isolateBindings,$))&&f.$on("$destroy",y)),h){var E=w[F],k=h[F],P=E.$$bindings.bindToController;k.identifier&&P&&(_=me(p,v,k.instance,P,E));var M=k();M!==k.instance&&(k.instance=M,m.data("$"+E.name+"Controller",M),_&&_(),_=me(p,v,k.instance,P,E))}for(D=0,L=c.length;D<L;D++)ge(d=c[D],d.isolateScope?f:t,m,v,d.require&&K(d.directiveName,d.require,m,h),g);var A=t;for($&&($.template||null===$.templateUrl)&&(A=f),e&&e(A,r.childNodes,n,s),D=l.length-1;D>=0;D--)ge(d=l[D],d.isolateScope?f:t,m,v,d.require&&K(d.directiveName,d.require,m,h),g)}}function ee(e,t,n){for(var i=0,o=e.length;i<o;i++)e[i]=M(e[i],{$$isolateScope:t,$$newScope:n})}function te(t,n,i,a,s,c,l){if(n===s)return null;var u=null;if(o.hasOwnProperty(n))for(var d,f=e.get(n+r),p=0,h=f.length;p<h;p++)try{if(d=f[p],(I(a)||a>d.priority)&&-1!=d.restrict.indexOf(i)){if(c&&(d=M(d,{$$start:c,$$end:l})),!d.$$bindings){var g=d.$$bindings=y(d,d.name);R(g.isolateScope)&&(d.$$isolateBindings=g.isolateScope)}t.push(d),u=d}}catch(v){m(v)}return u}function oe(t){if(o.hasOwnProperty(t))for(var n=e.get(t+r),i=0,a=n.length;i<a;i++)if(n[i].multiElement)return!0;return!1}function re(e,t){var n=t.$attr,i=e.$attr,o=e.$$element;w(e,(function(i,o){"$"!=o.charAt(0)&&(t[o]&&t[o]!==i&&(i+=("style"===o?";":" ")+t[o]),e.$set(o,i,!0,n[o]))})),w(t,(function(t,r){"class"==r?(T(o,t),e.class=(e.class?e.class+" ":"")+t):"style"==r?(o.attr("style",o.attr("style")+";"+t),e.style=(e.style?e.style+";":"")+t):"$"==r.charAt(0)||e.hasOwnProperty(r)||(e[r]=t,i[r]=n[r])}))}function se(e,t,n,i,o,r,a,s){var c,l,d=[],f=t[0],p=e.shift(),h=M(p,{templateUrl:null,transclude:null,replace:null,$$originalDirective:p}),g=z(p.templateUrl)?p.templateUrl(t,n):p.templateUrl,m=p.templateNamespace;return t.empty(),v(g).then((function(v){var y,_,b,S;if(v=N(v),p.replace){if(b=nt(v)?[]:an(de(m,Q(v))),y=b[0],1!=b.length||1!==y.nodeType)throw en("tplrt","Template for directive '{0}' must have exactly one root element. {1}",p.name,g);_={$attr:{}},pe(i,t,y);var $=Z(y,[],_);R(p.scope)&&ee($,!0),e=$.concat(e),re(n,_)}else y=f,t.html(v);for(e.unshift(h),c=J(e,y,n,o,t,p,r,a,s),w(i,(function(e,n){e==y&&(i[n]=t[0])})),l=H(t[0].childNodes,o);d.length;){var C=d.shift(),F=d.shift(),E=d.shift(),x=d.shift(),k=t[0];if(!C.$$destroyed){if(F!==f){var P=F.className;s.hasElementTranscludeDirective&&p.replace||(k=ct(y)),pe(E,u(F),k),T(u(k),P)}S=c.transcludeOnThisElement?q(C,c.transclude,x):x,c(l,C,k,i,S)}}d=null})),function(e,t,n,i,o){var r=o;t.$$destroyed||(d?d.push(t,n,i,r):(c.transcludeOnThisElement&&(r=q(t,c.transclude,o)),c(l,t,n,i,r)))}}function ce(e,t){var n=t.priority-e.priority;return 0!==n?n:e.name!==t.name?e.name<t.name?-1:1:e.index-t.index}function le(e,t,n,i){function o(e){return e?" (module: "+e+")":""}if(t)throw en("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",t.name,o(t.$$moduleName),n.name,o(n.$$moduleName),e,ye(i))}function de(e,n){switch(e=a(e||"html")){case"svg":case"math":var i=t.createElement("div");return i.innerHTML="<"+e+">"+n+"</"+e+">",i.childNodes[0].childNodes;default:return n}}function fe(e,t,n,o,r){var a=function(e,t){if("srcdoc"==t)return C.HTML;var n=ne(e);return"xlinkHref"==t||"form"==n&&"action"==t||"img"!=n&&("src"==t||"ngSrc"==t)?C.RESOURCE_URL:void 0}(e,o);r=p[o]||r;var s=i(n,!0,a,r);if(s){if("multiple"===o&&"select"===ne(e))throw en("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",ye(e));t.push({priority:100,compile:function(){return{pre:function(e,t,c){var l=c.$$observers||(c.$$observers=Re());if(g.test(o))throw en("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");var u=c[o];u!==n&&(s=u&&i(u,!0,a,r),n=u),s&&(c[o]=s(e),(l[o]||(l[o]=[])).$$inter=!0,(c.$$observers&&c.$$observers[o].$$scope||e).$watch(s,(function(e,t){"class"===o&&e!=t?c.$updateClass(e,t):c.$set(o,e)})))}}}})}}function pe(e,n,i){var o,r,a=n[0],s=n.length,c=a.parentNode;if(e)for(o=0,r=e.length;o<r;o++)if(e[o]==a){e[o++]=i;for(var l=o,f=l+s-1,p=e.length;l<p;l++,f++)f<p?e[l]=e[f]:delete e[l];e.length-=s-1,e.context===a&&(e.context=i);break}c&&c.replaceChild(i,a);var h=t.createDocumentFragment();h.appendChild(a),u.hasData(a)&&(u.data(i,u.data(a)),d?(Me=!0,d.cleanData([a])):delete u.cache[a[u.expando]]);for(var g=1,m=n.length;g<m;g++){var v=n[g];u(v).remove(),h.appendChild(v),delete n[g]}n[0]=i,n.length=1}function he(e,t){return k((function(){return e.apply(null,arguments)}),e,t)}function ge(e,t,n,i,o,r){try{e(t,n,i,o,r)}catch(a){m(a,ye(n))}}function me(e,t,n,o,r){var a=[];return w(o,(function(o,c){var l,u,d,f,p=o.attrName,h=o.optional;switch(o.mode){case"@":h||s.call(t,p)||(n[c]=t[p]=void 0),t.$observe(p,(function(e){V(e)&&(n[c]=e)})),t.$$observers[p].$$scope=e,V(l=t[p])?n[c]=i(l)(e):K(l)&&(n[c]=l);break;case"=":if(!s.call(t,p)){if(h)break;t[p]=void 0}if(h&&!t[p])break;u=b(t[p]),f=u.literal?ae:function(e,t){return e===t||e!==e&&t!==t},d=u.assign||function(){throw l=n[c]=u(e),en("nonassign","Expression '{0}' in attribute '{1}' used with directive '{2}' is non-assignable!",t[p],p,r.name)},l=n[c]=u(e);var g,m=function(t){return f(t,n[c])||(f(t,l)?d(e,t=n[c]):n[c]=t),l=t};m.$stateful=!0,g=o.collection?e.$watchCollection(t[p],m):e.$watch(b(t[p],m),null,u.literal),a.push(g);break;case"&":if((u=t.hasOwnProperty(p)?b(t[p]):A)===A&&h)break;n[c]=function(t){return u(e,t)}}})),a.length&&function(){for(var e=0,t=a.length;e<t;++e)a[e]()}}}]}tn.$inject=["$provide","$$sanitizeUriProvider"];var nn=/^((?:x|data)[\:\-_])/i;function on(e){return Xe(e.replace(nn,""))}function rn(e,t){var n="",i=e.split(/\s+/),o=t.split(/\s+/);e:for(var r=0;r<i.length;r++){for(var a=i[r],s=0;s<o.length;s++)if(a==o[s])continue e;n+=(n.length>0?" ":"")+a}return n}function an(e){var t=(e=u(e)).length;if(t<=1)return e;for(;t--;){8===e[t].nodeType&&h.call(e,t,1)}return e}var sn=i("$controller"),cn=/^(\S+)(\s+as\s+([\w$]+))?$/;function ln(){var e={},t=!1;this.register=function(t,n){Ne(t,"controller"),R(t)?k(e,t):e[t]=n},this.allowGlobals=function(){t=!0},this.$get=["$injector","$window",function(o,r){return function(i,s,c,l){var u,d,f,p;if(c=!0===c,l&&V(l)&&(p=l),V(i)){if(!(d=i.match(cn)))throw sn("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",i);f=d[1],p=p||d[3],Le(i=e.hasOwnProperty(f)?e[f]:Ie(s.$scope,f,!0)||(t?Ie(r,f,!0):n),f,!0)}if(c){var h=(W(i)?i[i.length-1]:i).prototype;return u=Object.create(h||null),p&&a(s,p,u,f||i.name),k((function(){var e=o.invoke(i,u,s,f);return e!==u&&(R(e)||z(e))&&(u=e,p&&a(s,p,u,f||i.name)),u}),{instance:u,identifier:p})}return u=o.instantiate(i,s,f),p&&a(s,p,u,f||i.name),u};function a(e,t,n,o){if(!e||!R(e.$scope))throw i("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",o,t);e.$scope[t]=n}}]}function un(){this.$get=["$window",function(e){return u(e.document)}]}function dn(){this.$get=["$log",function(e){return function(t,n){e.error.apply(e,arguments)}}]}var fn=function(){this.$get=["$document",function(e){return function(t){return t?!t.nodeType&&t instanceof u&&(t=t[0]):t=e[0].body,t.offsetWidth+1}}]},pn="application/json",hn={"Content-Type":"application/json;charset=utf-8"},gn=/^\[|^\{(?!\{)/,mn={"[":/]$/,"{":/}$/},vn=/^\)\]\}',?\n/,yn=i("$http"),_n=function(e){return function(){throw yn("legacy","The method `{0}` on the promise returned from `$http` has been disabled.",e)}};function bn(e){return R(e)?B(e)?e.toISOString():pe(e):e}function Sn(){this.$get=function(){return function(e){if(!e)return"";var t=[];return $(e,(function(e,n){null===e||I(e)||(W(e)?w(e,(function(e,i){t.push($e(n)+"="+$e(bn(e)))})):t.push($e(n)+"="+$e(bn(e))))})),t.join("&")}}}function wn(){this.$get=function(){return function(e){if(!e)return"";var t=[];return function e(n,i,o){if(null===n||I(n))return;W(n)?w(n,(function(t,n){e(t,i+"["+(R(t)?n:"")+"]")})):R(n)&&!B(n)?$(n,(function(t,n){e(t,i+(o?"":"[")+n+(o?"":"]"))})):t.push($e(i)+"="+$e(bn(n)))}(e,"",!0),t.join("&")}}}function $n(e,t){if(V(e)){var n=e.replace(vn,"").trim();if(n){var i=t("Content-Type");(i&&0===i.indexOf(pn)||(r=(o=n).match(gn))&&mn[r[0]].test(o))&&(e=he(n))}}var o,r;return e}function Cn(e){var t,n=Re();function i(e,t){e&&(n[e]=n[e]?n[e]+", "+t:t)}return V(e)?w(e.split("\n"),(function(e){t=e.indexOf(":"),i(a(Q(e.substr(0,t))),Q(e.substr(t+1)))})):R(e)&&w(e,(function(e,t){i(a(t),Q(e))})),n}function Fn(e){var t;return function(n){if(t||(t=Cn(e)),n){var i=t[a(n)];return void 0===i&&(i=null),i}return t}}function En(e,t,n,i){return z(i)?i(e,t,n):(w(i,(function(i){e=i(e,t,n)})),e)}function xn(e){return 200<=e&&e<300}function kn(){var e=this.defaults={transformResponse:[$n],transformRequest:[function(e){return!R(e)||(t=e,"[object File]"===m.call(t))||Z(e)||function(e){return"[object FormData]"===m.call(e)}(e)?e:pe(e);var t}],headers:{common:{Accept:"application/json, text/plain, */*"},post:re(hn),put:re(hn),patch:re(hn)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer"},t=!1;this.useApplyAsync=function(e){return j(e)?(t=!!e,this):t};var o=!0;this.useLegacyPromiseExtensions=function(e){return j(e)?(o=!!e,this):o};var r=this.interceptors=[];this.$get=["$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector",function(s,l,u,d,f,p){var h=u("$http");e.paramSerializer=V(e.paramSerializer)?p.get(e.paramSerializer):e.paramSerializer;var g=[];function m(r){if(!_.isObject(r))throw i("$http")("badreq","Http request configuration must be an object.  Received: {0}",r);if(!V(r.url))throw i("$http")("badreq","Http request configuration url must be a string.  Received: {0}",r.url);var u=k({method:"get",transformRequest:e.transformRequest,transformResponse:e.transformResponse,paramSerializer:e.paramSerializer},r);u.headers=function(t){var n,i,o,r=e.headers,s=k({},t.headers);r=k({},r.common,r[a(t.method)]);e:for(n in r){for(o in i=a(n),s)if(a(o)===i)continue e;s[n]=r[n]}return function(e,t){var n,i={};return w(e,(function(e,o){z(e)?null!=(n=e(t))&&(i[o]=n):i[o]=e})),i}(s,re(t))}(r),u.method=c(u.method),u.paramSerializer=V(u.paramSerializer)?p.get(u.paramSerializer):u.paramSerializer;var v=[function(i){var o=i.headers,r=En(i.data,Fn(o),n,i.transformRequest);return I(r)&&w(o,(function(e,t){"content-type"===a(t)&&delete o[t]})),I(i.withCredentials)&&!I(e.withCredentials)&&(i.withCredentials=e.withCredentials),function(i,o){var r,a,c=f.defer(),u=c.promise,p=i.headers,g=function(e,t){t.length>0&&(e+=(-1==e.indexOf("?")?"?":"&")+t);return e}(i.url,i.paramSerializer(i.params));m.pendingRequests.push(i),u.then(S,S),!i.cache&&!e.cache||!1===i.cache||"GET"!==i.method&&"JSONP"!==i.method||(r=R(i.cache)?i.cache:R(e.cache)?e.cache:h);r&&(j(a=r.get(g))?X(a)?a.then(b,b):W(a)?_(a[1],a[0],re(a[2]),a[3]):_(a,200,{},"OK"):r.put(g,u));if(I(a)){var v=zi(i.url)?l()[i.xsrfCookieName||e.xsrfCookieName]:n;v&&(p[i.xsrfHeaderName||e.xsrfHeaderName]=v),s(i.method,g,o,y,p,i.timeout,i.withCredentials,i.responseType)}return u;function y(e,n,i,o){function a(){_(n,e,i,o)}r&&(xn(e)?r.put(g,[e,n,Cn(i),o]):r.remove(g)),t?d.$applyAsync(a):(a(),d.$$phase||d.$apply())}function _(e,t,n,o){(xn(t=t>=-1?t:0)?c.resolve:c.reject)({data:e,status:t,headers:Fn(n),config:i,statusText:o})}function b(e){_(e.data,e.status,re(e.headers()),e.statusText)}function S(){var e=m.pendingRequests.indexOf(i);-1!==e&&m.pendingRequests.splice(e,1)}}(i,r).then($,$)},n],y=f.when(u);for(w(g,(function(e){(e.request||e.requestError)&&v.unshift(e.request,e.requestError),(e.response||e.responseError)&&v.push(e.response,e.responseError)}));v.length;){var b=v.shift(),S=v.shift();y=y.then(b,S)}return o?(y.success=function(e){return Le(e,"fn"),y.then((function(t){e(t.data,t.status,t.headers,u)})),y},y.error=function(e){return Le(e,"fn"),y.then(null,(function(t){e(t.data,t.status,t.headers,u)})),y}):(y.success=_n("success"),y.error=_n("error")),y;function $(e){var t=k({},e);return t.data=En(e.data,e.headers,e.status,u.transformResponse),xn(e.status)?t:f.reject(t)}}return w(r,(function(e){g.unshift(V(e)?p.get(e):p.invoke(e))})),m.pendingRequests=[],function(e){w(arguments,(function(e){m[e]=function(t,n){return m(k({},n||{},{method:e,url:t}))}}))}("get","delete","head","jsonp"),function(e){w(arguments,(function(e){m[e]=function(t,n,i){return m(k({},i||{},{method:e,url:t,data:n}))}}))}("post","put","patch"),m.defaults=e,m}]}function Tn(){this.$get=function(){return function(){return new e.XMLHttpRequest}}}function Pn(){this.$get=["$browser","$window","$document","$xhrFactory",function(e,t,n,i){return function(e,t,n,i,o){return function(o,s,c,l,u,d,f,p){if(e.$$incOutstandingRequestCount(),s=s||e.url(),"jsonp"==a(o)){var h="_"+(i.counter++).toString(36);i[h]=function(e){i[h].data=e,i[h].called=!0};var g=r(s.replace("JSON_CALLBACK","angular.callbacks."+h),h,(function(e,t){b(l,e,i[h].data,"",t),i[h]=A}))}else{var m=t(o,s);m.open(o,s,!0),w(u,(function(e,t){j(e)&&m.setRequestHeader(t,e)})),m.onload=function(){var e=m.statusText||"",t="response"in m?m.response:m.responseText,n=1223===m.status?204:m.status;0===n&&(n=t?200:"file"==Wi(s).protocol?404:0),b(l,n,t,m.getAllResponseHeaders(),e)};var v=function(){b(l,-1,null,null,"")};if(m.onerror=v,m.onabort=v,f&&(m.withCredentials=!0),p)try{m.responseType=p}catch(S){if("json"!==p)throw S}m.send(I(c)?null:c)}if(d>0)var y=n(_,d);else X(d)&&d.then(_);function _(){g&&g(),m&&m.abort()}function b(t,i,o,r,a){j(y)&&n.cancel(y),g=m=null,t(i,o,r,a),e.$$completeOutstandingRequest(A)}};function r(e,t,n){var r=o.createElement("script"),a=null;return r.type="text/javascript",r.src=e,r.async=!0,a=function(e){He(r,"load",a),He(r,"error",a),o.body.removeChild(r),r=null;var s=-1,c="unknown";e&&("load"!==e.type||i[t].called||(e={type:"error"}),c=e.type,s="error"===e.type?404:200),n&&n(s,c)},ze(r,"load",a),ze(r,"error",a),o.body.appendChild(r),a}}(e,i,e.defer,t.angular.callbacks,n[0])}]}var Mn=_.$interpolateMinErr=i("$interpolate");function An(){var e="{{",t="}}";this.startSymbol=function(t){return t?(e=t,this):e},this.endSymbol=function(e){return e?(t=e,this):t},this.$get=["$parse","$exceptionHandler","$sce",function(n,i,o){var r=e.length,a=t.length,s=new RegExp(e.replace(/./g,l),"g"),c=new RegExp(t.replace(/./g,l),"g");function l(e){return"\\\\\\"+e}function u(n){return n.replace(s,e).replace(c,t)}function d(s,c,l,d){d=!!d;for(var f,p,h,g=0,m=[],v=[],y=s.length,_=[],b=[];g<y;){if(-1==(f=s.indexOf(e,g))||-1==(p=s.indexOf(t,f+r))){g!==y&&_.push(u(s.substring(g)));break}g!==f&&_.push(u(s.substring(g,f))),h=s.substring(f+r,p),m.push(h),v.push(n(h,$)),g=p+a,b.push(_.length),_.push("")}if(l&&_.length>1&&Mn.throwNoconcat(s),!c||m.length){var S=function(e){for(var t=0,n=m.length;t<n;t++){if(d&&I(e[t]))return;_[b[t]]=e[t]}return _.join("")},w=function(e){return l?o.getTrusted(l,e):o.valueOf(e)};return k((function(e){var t=0,n=m.length,o=new Array(n);try{for(;t<n;t++)o[t]=v[t](e);return S(o)}catch(r){i(Mn.interr(s,r))}}),{exp:s,expressions:m,$$watchDelegate:function(e,t){var n;return e.$watchGroup(v,(function(i,o){var r=S(i);z(t)&&t.call(this,r,i!==o?n:r,e),n=r}))}})}function $(e){try{return e=w(e),d&&!j(e)?e:function(e){if(null==e)return"";switch(typeof e){case"string":break;case"number":e=""+e;break;default:e=pe(e)}return e}(e)}catch(t){i(Mn.interr(s,t))}}}return d.startSymbol=function(){return e},d.endSymbol=function(){return t},d}]}function Dn(){this.$get=["$rootScope","$window","$q","$$q",function(e,t,n,i){var o={};function r(r,a,s,c){var l=arguments.length>4,u=l?ue(arguments,4):[],d=t.setInterval,f=t.clearInterval,p=0,h=j(c)&&!c,g=(h?i:n).defer(),m=g.promise;return s=j(s)?s:0,m.then(null,null,l?function(){r.apply(null,u)}:r),m.$$intervalId=d((function(){g.notify(p++),s>0&&p>=s&&(g.resolve(p),f(m.$$intervalId),delete o[m.$$intervalId]),h||e.$apply()}),a),o[m.$$intervalId]=g,m}return r.cancel=function(e){return!(!e||!(e.$$intervalId in o))&&(o[e.$$intervalId].reject("canceled"),t.clearInterval(e.$$intervalId),delete o[e.$$intervalId],!0)},r}]}Mn.throwNoconcat=function(e){throw Mn("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",e)},Mn.interr=function(e,t){return Mn("interr","Can't interpolate: {0}\n{1}",e,t.toString())};var Ln=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,Nn={http:80,https:443,ftp:21},In=i("$location");function jn(e){for(var t=e.split("/"),n=t.length;n--;)t[n]=we(t[n]);return t.join("/")}function Rn(e,t){var n=Wi(e);t.$$protocol=n.protocol,t.$$host=n.hostname,t.$$port=P(n.port)||Nn[n.protocol]||null}function On(e,t){var n="/"!==e.charAt(0);n&&(e="/"+e);var i=Wi(e);t.$$path=decodeURIComponent(n&&"/"===i.pathname.charAt(0)?i.pathname.substring(1):i.pathname),t.$$search=be(i.search),t.$$hash=decodeURIComponent(i.hash),t.$$path&&"/"!=t.$$path.charAt(0)&&(t.$$path="/"+t.$$path)}function Vn(e,t){if(0===t.indexOf(e))return t.substr(e.length)}function Un(e){var t=e.indexOf("#");return-1==t?e:e.substr(0,t)}function Bn(e){return e.replace(/(#.+)|#$/,"$1")}function Wn(e,t,n){this.$$html5=!0,n=n||"",Rn(e,this),this.$$parse=function(e){var n=Vn(t,e);if(!V(n))throw In("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',e,t);On(n,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var e=Se(this.$$search),n=this.$$hash?"#"+we(this.$$hash):"";this.$$url=jn(this.$$path)+(e?"?"+e:"")+n,this.$$absUrl=t+this.$$url.substr(1)},this.$$parseLinkUrl=function(i,o){return o&&"#"===o[0]?(this.hash(o.slice(1)),!0):(j(r=Vn(e,i))?(a=r,s=j(r=Vn(n,r))?t+(Vn("/",r)||r):e+a):j(r=Vn(t,i))?s=t+r:t==i+"/"&&(s=t),s&&this.$$parse(s),!!s);var r,a,s}}function zn(e,t,n){Rn(e,this),this.$$parse=function(i){var o,r=Vn(e,i)||Vn(t,i);I(r)||"#"!==r.charAt(0)?this.$$html5?o=r:(o="",I(r)&&(e=i,this.replace())):I(o=Vn(n,r))&&(o=r),On(o,this),this.$$path=function(e,t,n){var i,o=/^\/[A-Z]:(\/.*)/;0===t.indexOf(n)&&(t=t.replace(n,""));if(o.exec(t))return e;return(i=o.exec(e))?i[1]:e}(this.$$path,o,e),this.$$compose()},this.$$compose=function(){var t=Se(this.$$search),i=this.$$hash?"#"+we(this.$$hash):"";this.$$url=jn(this.$$path)+(t?"?"+t:"")+i,this.$$absUrl=e+(this.$$url?n+this.$$url:"")},this.$$parseLinkUrl=function(t,n){return Un(e)==Un(t)&&(this.$$parse(t),!0)}}function Hn(e,t,n){this.$$html5=!0,zn.apply(this,arguments),this.$$parseLinkUrl=function(i,o){return o&&"#"===o[0]?(this.hash(o.slice(1)),!0):(e==Un(i)?r=i:(a=Vn(t,i))?r=e+n+a:t===i+"/"&&(r=t),r&&this.$$parse(r),!!r);var r,a},this.$$compose=function(){var t=Se(this.$$search),i=this.$$hash?"#"+we(this.$$hash):"";this.$$url=jn(this.$$path)+(t?"?"+t:"")+i,this.$$absUrl=e+n+this.$$url}}var qn={$$html5:!1,$$replace:!1,absUrl:Gn("$$absUrl"),url:function(e){if(I(e))return this.$$url;var t=Ln.exec(e);return(t[1]||""===e)&&this.path(decodeURIComponent(t[1])),(t[2]||t[1]||""===e)&&this.search(t[3]||""),this.hash(t[5]||""),this},protocol:Gn("$$protocol"),host:Gn("$$host"),port:Gn("$$port"),path:Zn("$$path",(function(e){return"/"==(e=null!==e?e.toString():"").charAt(0)?e:"/"+e})),search:function(e,t){switch(arguments.length){case 0:return this.$$search;case 1:if(V(e)||U(e))e=e.toString(),this.$$search=be(e);else{if(!R(e))throw In("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");w(e=oe(e,{}),(function(t,n){null==t&&delete e[n]})),this.$$search=e}break;default:I(t)||null===t?delete this.$$search[e]:this.$$search[e]=t}return this.$$compose(),this},hash:Zn("$$hash",(function(e){return null!==e?e.toString():""})),replace:function(){return this.$$replace=!0,this}};function Gn(e){return function(){return this[e]}}function Zn(e,t){return function(n){return I(n)?this[e]:(this[e]=t(n),this.$$compose(),this)}}function Kn(){var e="",t={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(t){return j(t)?(e=t,this):e},this.html5Mode=function(e){return K(e)?(t.enabled=e,this):R(e)?(K(e.enabled)&&(t.enabled=e.enabled),K(e.requireBase)&&(t.requireBase=e.requireBase),K(e.rewriteLinks)&&(t.rewriteLinks=e.rewriteLinks),this):t},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,i,o,r,a){var s,c,l,d,f=i.baseHref(),p=i.url();if(t.enabled){if(!f&&t.requireBase)throw In("nobase","$location in HTML5 mode requires a <base> tag to be present!");l=(d=p).substring(0,d.indexOf("/",d.indexOf("//")+2))+(f||"/"),c=o.history?Wn:Hn}else l=Un(p),c=zn;var h=function(e){return e.substr(0,Un(e).lastIndexOf("/")+1)}(l);(s=new c(l,h,"#"+e)).$$parseLinkUrl(p,p),s.$$state=i.state();var g=/^\s*(javascript|mailto):/i;function m(e,t,n){var o=s.url(),r=s.$$state;try{i.url(e,t,n),s.$$state=i.state()}catch(a){throw s.url(o),s.$$state=r,a}}r.on("click",(function(e){if(t.rewriteLinks&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey&&2!=e.which&&2!=e.button){for(var o=u(e.target);"a"!==ne(o[0]);)if(o[0]===r[0]||!(o=o.parent())[0])return;var c=o.prop("href"),l=o.attr("href")||o.attr("xlink:href");R(c)&&"[object SVGAnimatedString]"===c.toString()&&(c=Wi(c.animVal).href),g.test(c)||!c||o.attr("target")||e.isDefaultPrevented()||s.$$parseLinkUrl(c,l)&&(e.preventDefault(),s.absUrl()!=i.url()&&(n.$apply(),a.angular["ff-684208-preventDefault"]=!0))}})),Bn(s.absUrl())!=Bn(p)&&i.url(s.absUrl(),!0);var v=!0;return i.onUrlChange((function(e,t){I(Vn(h,e))?a.location.href=e:(n.$evalAsync((function(){var i,o=s.absUrl(),r=s.$$state;e=Bn(e),s.$$parse(e),s.$$state=t,i=n.$broadcast("$locationChangeStart",e,o,t,r).defaultPrevented,s.absUrl()===e&&(i?(s.$$parse(o),s.$$state=r,m(o,!1,r)):(v=!1,y(o,r)))})),n.$$phase||n.$digest())})),n.$watch((function(){var e=Bn(i.url()),t=Bn(s.absUrl()),r=i.state(),a=s.$$replace,c=e!==t||s.$$html5&&o.history&&r!==s.$$state;(v||c)&&(v=!1,n.$evalAsync((function(){var t=s.absUrl(),i=n.$broadcast("$locationChangeStart",t,e,s.$$state,r).defaultPrevented;s.absUrl()===t&&(i?(s.$$parse(e),s.$$state=r):(c&&m(t,a,r===s.$$state?null:s.$$state),y(e,r)))}))),s.$$replace=!1})),s;function y(e,t){n.$broadcast("$locationChangeSuccess",s.absUrl(),e,s.$$state,t)}}]}function Xn(){var e=!0,t=this;this.debugEnabled=function(t){return j(t)?(e=t,this):e},this.$get=["$window",function(n){return{log:r("log"),info:r("info"),warn:r("warn"),error:r("error"),debug:(i=r("debug"),function(){e&&i.apply(t,arguments)})};var i;function o(e){return e instanceof Error&&(e.stack?e=e.message&&-1===e.stack.indexOf(e.message)?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e}function r(e){var t=n.console||{},i=t[e]||t.log||A,r=!1;try{r=!!i.apply}catch(a){}return r?function(){var e=[];return w(arguments,(function(t){e.push(o(t))})),i.apply(t,e)}:function(e,t){i(e,null==t?"":t)}}}]}w([Hn,zn,Wn],(function(e){e.prototype=Object.create(qn),e.prototype.state=function(t){if(!arguments.length)return this.$$state;if(e!==Wn||!this.$$html5)throw In("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=I(t)?null:t,this}}));var Yn=i("$parse");function Jn(e,t){if("__defineGetter__"===e||"__defineSetter__"===e||"__lookupGetter__"===e||"__lookupSetter__"===e||"__proto__"===e)throw Yn("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",t);return e}function Qn(e,t){if(!V(e+=""))throw Yn("iseccst","Cannot convert object to primitive value! Expression: {0}",t);return e}function ei(e,t){if(e){if(e.constructor===e)throw Yn("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",t);if(e.window===e)throw Yn("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",t);if(e.children&&(e.nodeName||e.prop&&e.attr&&e.find))throw Yn("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",t);if(e===Object)throw Yn("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",t)}return e}var ti=Function.prototype.call,ni=Function.prototype.apply,ii=Function.prototype.bind;function oi(e,t){if(e){if(e.constructor===e)throw Yn("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",t);if(e===ti||e===ni||e===ii)throw Yn("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",t)}}function ri(e,t){if(e&&(e===(0).constructor||e===(!1).constructor||e==="".constructor||e==={}.constructor||e===[].constructor||e===Function.constructor))throw Yn("isecaf","Assigning to a constructor is disallowed! Expression: {0}",t)}var ai=Re();w("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),(function(e){ai[e]=!0}));var si={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},ci=function(e){this.options=e};ci.prototype={constructor:ci,lex:function(e){for(this.text=e,this.index=0,this.tokens=[];this.index<this.text.length;){var t=this.text.charAt(this.index);if('"'===t||"'"===t)this.readString(t);else if(this.isNumber(t)||"."===t&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(t))this.readIdent();else if(this.is(t,"(){}[].,;:?"))this.tokens.push({index:this.index,text:t}),this.index++;else if(this.isWhitespace(t))this.index++;else{var n=t+this.peek(),i=n+this.peek(2),o=ai[t],r=ai[n],a=ai[i];if(o||r||a){var s=a?i:r?n:t;this.tokens.push({index:this.index,text:s,operator:!0}),this.index+=s.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(e,t){return-1!==t.indexOf(e)},peek:function(e){var t=e||1;return this.index+t<this.text.length&&this.text.charAt(this.index+t)},isNumber:function(e){return"0"<=e&&e<="9"&&"string"===typeof e},isWhitespace:function(e){return" "===e||"\r"===e||"\t"===e||"\n"===e||"\v"===e||"\xa0"===e},isIdent:function(e){return"a"<=e&&e<="z"||"A"<=e&&e<="Z"||"_"===e||"$"===e},isExpOperator:function(e){return"-"===e||"+"===e||this.isNumber(e)},throwError:function(e,t,n){n=n||this.index;var i=j(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,n)+"]":" "+n;throw Yn("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",e,i,this.text)},readNumber:function(){for(var e="",t=this.index;this.index<this.text.length;){var n=a(this.text.charAt(this.index));if("."==n||this.isNumber(n))e+=n;else{var i=this.peek();if("e"==n&&this.isExpOperator(i))e+=n;else if(this.isExpOperator(n)&&i&&this.isNumber(i)&&"e"==e.charAt(e.length-1))e+=n;else{if(!this.isExpOperator(n)||i&&this.isNumber(i)||"e"!=e.charAt(e.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:t,text:e,constant:!0,value:Number(e)})},readIdent:function(){for(var e=this.index;this.index<this.text.length;){var t=this.text.charAt(this.index);if(!this.isIdent(t)&&!this.isNumber(t))break;this.index++}this.tokens.push({index:e,text:this.text.slice(e,this.index),identifier:!0})},readString:function(e){var t=this.index;this.index++;for(var n="",i=e,o=!1;this.index<this.text.length;){var r=this.text.charAt(this.index);if(i+=r,o){if("u"===r){var a=this.text.substring(this.index+1,this.index+5);a.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+a+"]"),this.index+=4,n+=String.fromCharCode(parseInt(a,16))}else{n+=si[r]||r}o=!1}else if("\\"===r)o=!0;else{if(r===e)return this.index++,void this.tokens.push({index:t,text:i,constant:!0,value:n});n+=r}this.index++}this.throwError("Unterminated quote",t)}};var li=function(e,t){this.lexer=e,this.options=t};function ui(e,t){return"undefined"!==typeof e?e:t}function di(e,t){return"undefined"===typeof e?t:"undefined"===typeof t?e:e+t}function fi(e,t){return!e(t).$stateful}function pi(e,t){var n,i;switch(e.type){case li.Program:n=!0,w(e.body,(function(e){pi(e.expression,t),n=n&&e.expression.constant})),e.constant=n;break;case li.Literal:e.constant=!0,e.toWatch=[];break;case li.UnaryExpression:pi(e.argument,t),e.constant=e.argument.constant,e.toWatch=e.argument.toWatch;break;case li.BinaryExpression:pi(e.left,t),pi(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.left.toWatch.concat(e.right.toWatch);break;case li.LogicalExpression:pi(e.left,t),pi(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.constant?[]:[e];break;case li.ConditionalExpression:pi(e.test,t),pi(e.alternate,t),pi(e.consequent,t),e.constant=e.test.constant&&e.alternate.constant&&e.consequent.constant,e.toWatch=e.constant?[]:[e];break;case li.Identifier:e.constant=!1,e.toWatch=[e];break;case li.MemberExpression:pi(e.object,t),e.computed&&pi(e.property,t),e.constant=e.object.constant&&(!e.computed||e.property.constant),e.toWatch=[e];break;case li.CallExpression:n=!!e.filter&&fi(t,e.callee.name),i=[],w(e.arguments,(function(e){pi(e,t),n=n&&e.constant,e.constant||i.push.apply(i,e.toWatch)})),e.constant=n,e.toWatch=e.filter&&fi(t,e.callee.name)?i:[e];break;case li.AssignmentExpression:pi(e.left,t),pi(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=[e];break;case li.ArrayExpression:n=!0,i=[],w(e.elements,(function(e){pi(e,t),n=n&&e.constant,e.constant||i.push.apply(i,e.toWatch)})),e.constant=n,e.toWatch=i;break;case li.ObjectExpression:n=!0,i=[],w(e.properties,(function(e){pi(e.value,t),n=n&&e.value.constant,e.value.constant||i.push.apply(i,e.value.toWatch)})),e.constant=n,e.toWatch=i;break;case li.ThisExpression:e.constant=!1,e.toWatch=[]}}function hi(e){if(1==e.length){var t=e[0].expression,i=t.toWatch;return 1!==i.length||i[0]!==t?i:n}}function gi(e){return e.type===li.Identifier||e.type===li.MemberExpression}function mi(e){if(1===e.body.length&&gi(e.body[0].expression))return{type:li.AssignmentExpression,left:e.body[0].expression,right:{type:li.NGValueParameter},operator:"="}}function vi(e){return 0===e.body.length||1===e.body.length&&(e.body[0].expression.type===li.Literal||e.body[0].expression.type===li.ArrayExpression||e.body[0].expression.type===li.ObjectExpression)}function yi(e){return e.constant}function _i(e,t){this.astBuilder=e,this.$filter=t}function bi(e,t){this.astBuilder=e,this.$filter=t}li.Program="Program",li.ExpressionStatement="ExpressionStatement",li.AssignmentExpression="AssignmentExpression",li.ConditionalExpression="ConditionalExpression",li.LogicalExpression="LogicalExpression",li.BinaryExpression="BinaryExpression",li.UnaryExpression="UnaryExpression",li.CallExpression="CallExpression",li.MemberExpression="MemberExpression",li.Identifier="Identifier",li.Literal="Literal",li.ArrayExpression="ArrayExpression",li.Property="Property",li.ObjectExpression="ObjectExpression",li.ThisExpression="ThisExpression",li.NGValueParameter="NGValueParameter",li.prototype={ast:function(e){this.text=e,this.tokens=this.lexer.lex(e);var t=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),t},program:function(){for(var e=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&e.push(this.expressionStatement()),!this.expect(";"))return{type:li.Program,body:e}},expressionStatement:function(){return{type:li.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var e=this.expression();this.expect("|");)e=this.filter(e);return e},expression:function(){return this.assignment()},assignment:function(){var e=this.ternary();return this.expect("=")&&(e={type:li.AssignmentExpression,left:e,right:this.assignment(),operator:"="}),e},ternary:function(){var e,t,n=this.logicalOR();return this.expect("?")&&(e=this.expression(),this.consume(":"))?(t=this.expression(),{type:li.ConditionalExpression,test:n,alternate:e,consequent:t}):n},logicalOR:function(){for(var e=this.logicalAND();this.expect("||");)e={type:li.LogicalExpression,operator:"||",left:e,right:this.logicalAND()};return e},logicalAND:function(){for(var e=this.equality();this.expect("&&");)e={type:li.LogicalExpression,operator:"&&",left:e,right:this.equality()};return e},equality:function(){for(var e,t=this.relational();e=this.expect("==","!=","===","!==");)t={type:li.BinaryExpression,operator:e.text,left:t,right:this.relational()};return t},relational:function(){for(var e,t=this.additive();e=this.expect("<",">","<=",">=");)t={type:li.BinaryExpression,operator:e.text,left:t,right:this.additive()};return t},additive:function(){for(var e,t=this.multiplicative();e=this.expect("+","-");)t={type:li.BinaryExpression,operator:e.text,left:t,right:this.multiplicative()};return t},multiplicative:function(){for(var e,t=this.unary();e=this.expect("*","/","%");)t={type:li.BinaryExpression,operator:e.text,left:t,right:this.unary()};return t},unary:function(){var e;return(e=this.expect("+","-","!"))?{type:li.UnaryExpression,operator:e.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var e,t;for(this.expect("(")?(e=this.filterChain(),this.consume(")")):this.expect("[")?e=this.arrayDeclaration():this.expect("{")?e=this.object():this.constants.hasOwnProperty(this.peek().text)?e=oe(this.constants[this.consume().text]):this.peek().identifier?e=this.identifier():this.peek().constant?e=this.constant():this.throwError("not a primary expression",this.peek());t=this.expect("(","[",".");)"("===t.text?(e={type:li.CallExpression,callee:e,arguments:this.parseArguments()},this.consume(")")):"["===t.text?(e={type:li.MemberExpression,object:e,property:this.expression(),computed:!0},this.consume("]")):"."===t.text?e={type:li.MemberExpression,object:e,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return e},filter:function(e){for(var t=[e],n={type:li.CallExpression,callee:this.identifier(),arguments:t,filter:!0};this.expect(":");)t.push(this.expression());return n},parseArguments:function(){var e=[];if(")"!==this.peekToken().text)do{e.push(this.expression())}while(this.expect(","));return e},identifier:function(){var e=this.consume();return e.identifier||this.throwError("is not a valid identifier",e),{type:li.Identifier,name:e.text}},constant:function(){return{type:li.Literal,value:this.consume().value}},arrayDeclaration:function(){var e=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;e.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:li.ArrayExpression,elements:e}},object:function(){var e,t=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;e={type:li.Property,kind:"init"},this.peek().constant?e.key=this.constant():this.peek().identifier?e.key=this.identifier():this.throwError("invalid key",this.peek()),this.consume(":"),e.value=this.expression(),t.push(e)}while(this.expect(","));return this.consume("}"),{type:li.ObjectExpression,properties:t}},throwError:function(e,t){throw Yn("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",t.text,e,t.index+1,this.text,this.text.substring(t.index))},consume:function(e){if(0===this.tokens.length)throw Yn("ueoe","Unexpected end of expression: {0}",this.text);var t=this.expect(e);return t||this.throwError("is unexpected, expecting ["+e+"]",this.peek()),t},peekToken:function(){if(0===this.tokens.length)throw Yn("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(e,t,n,i){return this.peekAhead(0,e,t,n,i)},peekAhead:function(e,t,n,i,o){if(this.tokens.length>e){var r=this.tokens[e],a=r.text;if(a===t||a===n||a===i||a===o||!t&&!n&&!i&&!o)return r}return!1},expect:function(e,t,n,i){var o=this.peek(e,t,n,i);return!!o&&(this.tokens.shift(),o)},constants:{true:{type:li.Literal,value:!0},false:{type:li.Literal,value:!1},null:{type:li.Literal,value:null},undefined:{type:li.Literal,value:n},this:{type:li.ThisExpression}}},_i.prototype={compile:function(e,t){var i=this,o=this.astBuilder.ast(e);this.state={nextId:0,filters:{},expensiveChecks:t,fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},pi(o,i.$filter);var r,a="";if(this.stage="assign",r=mi(o)){this.state.computing="assign";var s=this.nextId();this.recurse(r,s),this.return_(s),a="fn.assign="+this.generateFunction("assign","s,v,l")}var c=hi(o.body);i.stage="inputs",w(c,(function(e,t){var n="fn"+t;i.state[n]={vars:[],body:[],own:{}},i.state.computing=n;var o=i.nextId();i.recurse(e,o),i.return_(o),i.state.inputs.push(n),e.watchId=t})),this.state.computing="fn",this.stage="main",this.recurse(o);var l='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+a+this.watchFns()+"return fn;",u=new Function("$filter","ensureSafeMemberName","ensureSafeObject","ensureSafeFunction","getStringValue","ensureSafeAssignContext","ifDefined","plus","text",l)(this.$filter,Jn,ei,oi,Qn,ri,ui,di,e);return this.state=this.stage=n,u.literal=vi(o),u.constant=yi(o),u},USE:"use",STRICT:"strict",watchFns:function(){var e=[],t=this.state.inputs,n=this;return w(t,(function(t){e.push("var "+t+"="+n.generateFunction(t,"s"))})),t.length&&e.push("fn.inputs=["+t.join(",")+"];"),e.join("")},generateFunction:function(e,t){return"function("+t+"){"+this.varsPrefix(e)+this.body(e)+"};"},filterPrefix:function(){var e=[],t=this;return w(this.state.filters,(function(n,i){e.push(n+"=$filter("+t.escape(i)+")")})),e.length?"var "+e.join(",")+";":""},varsPrefix:function(e){return this.state[e].vars.length?"var "+this.state[e].vars.join(",")+";":""},body:function(e){return this.state[e].body.join("")},recurse:function(e,t,i,o,r,a){var s,c,l,u,d=this;if(o=o||A,!a&&j(e.watchId))return t=t||this.nextId(),void this.if_("i",this.lazyAssign(t,this.computedMember("i",e.watchId)),this.lazyRecurse(e,t,i,o,r,!0));switch(e.type){case li.Program:w(e.body,(function(t,i){d.recurse(t.expression,n,n,(function(e){c=e})),i!==e.body.length-1?d.current().body.push(c,";"):d.return_(c)}));break;case li.Literal:u=this.escape(e.value),this.assign(t,u),o(u);break;case li.UnaryExpression:this.recurse(e.argument,n,n,(function(e){c=e})),u=e.operator+"("+this.ifDefined(c,0)+")",this.assign(t,u),o(u);break;case li.BinaryExpression:this.recurse(e.left,n,n,(function(e){s=e})),this.recurse(e.right,n,n,(function(e){c=e})),u="+"===e.operator?this.plus(s,c):"-"===e.operator?this.ifDefined(s,0)+e.operator+this.ifDefined(c,0):"("+s+")"+e.operator+"("+c+")",this.assign(t,u),o(u);break;case li.LogicalExpression:t=t||this.nextId(),d.recurse(e.left,t),d.if_("&&"===e.operator?t:d.not(t),d.lazyRecurse(e.right,t)),o(t);break;case li.ConditionalExpression:t=t||this.nextId(),d.recurse(e.test,t),d.if_(t,d.lazyRecurse(e.alternate,t),d.lazyRecurse(e.consequent,t)),o(t);break;case li.Identifier:t=t||this.nextId(),i&&(i.context="inputs"===d.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",e.name)+"?l:s"),i.computed=!1,i.name=e.name),Jn(e.name),d.if_("inputs"===d.stage||d.not(d.getHasOwnProperty("l",e.name)),(function(){d.if_("inputs"===d.stage||"s",(function(){r&&1!==r&&d.if_(d.not(d.nonComputedMember("s",e.name)),d.lazyAssign(d.nonComputedMember("s",e.name),"{}")),d.assign(t,d.nonComputedMember("s",e.name))}))}),t&&d.lazyAssign(t,d.nonComputedMember("l",e.name))),(d.state.expensiveChecks||wi(e.name))&&d.addEnsureSafeObject(t),o(t);break;case li.MemberExpression:s=i&&(i.context=this.nextId())||this.nextId(),t=t||this.nextId(),d.recurse(e.object,s,n,(function(){d.if_(d.notNull(s),(function(){r&&1!==r&&d.addEnsureSafeAssignContext(s),e.computed?(c=d.nextId(),d.recurse(e.property,c),d.getStringValue(c),d.addEnsureSafeMemberName(c),r&&1!==r&&d.if_(d.not(d.computedMember(s,c)),d.lazyAssign(d.computedMember(s,c),"{}")),u=d.ensureSafeObject(d.computedMember(s,c)),d.assign(t,u),i&&(i.computed=!0,i.name=c)):(Jn(e.property.name),r&&1!==r&&d.if_(d.not(d.nonComputedMember(s,e.property.name)),d.lazyAssign(d.nonComputedMember(s,e.property.name),"{}")),u=d.nonComputedMember(s,e.property.name),(d.state.expensiveChecks||wi(e.property.name))&&(u=d.ensureSafeObject(u)),d.assign(t,u),i&&(i.computed=!1,i.name=e.property.name))}),(function(){d.assign(t,"undefined")})),o(t)}),!!r);break;case li.CallExpression:t=t||this.nextId(),e.filter?(c=d.filter(e.callee.name),l=[],w(e.arguments,(function(e){var t=d.nextId();d.recurse(e,t),l.push(t)})),u=c+"("+l.join(",")+")",d.assign(t,u),o(t)):(c=d.nextId(),s={},l=[],d.recurse(e.callee,c,s,(function(){d.if_(d.notNull(c),(function(){d.addEnsureSafeFunction(c),w(e.arguments,(function(e){d.recurse(e,d.nextId(),n,(function(e){l.push(d.ensureSafeObject(e))}))})),s.name?(d.state.expensiveChecks||d.addEnsureSafeObject(s.context),u=d.member(s.context,s.name,s.computed)+"("+l.join(",")+")"):u=c+"("+l.join(",")+")",u=d.ensureSafeObject(u),d.assign(t,u)}),(function(){d.assign(t,"undefined")})),o(t)})));break;case li.AssignmentExpression:if(c=this.nextId(),s={},!gi(e.left))throw Yn("lval","Trying to assign a value to a non l-value");this.recurse(e.left,n,s,(function(){d.if_(d.notNull(s.context),(function(){d.recurse(e.right,c),d.addEnsureSafeObject(d.member(s.context,s.name,s.computed)),d.addEnsureSafeAssignContext(s.context),u=d.member(s.context,s.name,s.computed)+e.operator+c,d.assign(t,u),o(t||u)}))}),1);break;case li.ArrayExpression:l=[],w(e.elements,(function(e){d.recurse(e,d.nextId(),n,(function(e){l.push(e)}))})),u="["+l.join(",")+"]",this.assign(t,u),o(u);break;case li.ObjectExpression:l=[],w(e.properties,(function(e){d.recurse(e.value,d.nextId(),n,(function(t){l.push(d.escape(e.key.type===li.Identifier?e.key.name:""+e.key.value)+":"+t)}))})),u="{"+l.join(",")+"}",this.assign(t,u),o(u);break;case li.ThisExpression:this.assign(t,"s"),o("s");break;case li.NGValueParameter:this.assign(t,"v"),o("v")}},getHasOwnProperty:function(e,t){var n=e+"."+t,i=this.current().own;return i.hasOwnProperty(n)||(i[n]=this.nextId(!1,e+"&&("+this.escape(t)+" in "+e+")")),i[n]},assign:function(e,t){if(e)return this.current().body.push(e,"=",t,";"),e},filter:function(e){return this.state.filters.hasOwnProperty(e)||(this.state.filters[e]=this.nextId(!0)),this.state.filters[e]},ifDefined:function(e,t){return"ifDefined("+e+","+this.escape(t)+")"},plus:function(e,t){return"plus("+e+","+t+")"},return_:function(e){this.current().body.push("return ",e,";")},if_:function(e,t,n){if(!0===e)t();else{var i=this.current().body;i.push("if(",e,"){"),t(),i.push("}"),n&&(i.push("else{"),n(),i.push("}"))}},not:function(e){return"!("+e+")"},notNull:function(e){return e+"!=null"},nonComputedMember:function(e,t){return e+"."+t},computedMember:function(e,t){return e+"["+t+"]"},member:function(e,t,n){return n?this.computedMember(e,t):this.nonComputedMember(e,t)},addEnsureSafeObject:function(e){this.current().body.push(this.ensureSafeObject(e),";")},addEnsureSafeMemberName:function(e){this.current().body.push(this.ensureSafeMemberName(e),";")},addEnsureSafeFunction:function(e){this.current().body.push(this.ensureSafeFunction(e),";")},addEnsureSafeAssignContext:function(e){this.current().body.push(this.ensureSafeAssignContext(e),";")},ensureSafeObject:function(e){return"ensureSafeObject("+e+",text)"},ensureSafeMemberName:function(e){return"ensureSafeMemberName("+e+",text)"},ensureSafeFunction:function(e){return"ensureSafeFunction("+e+",text)"},getStringValue:function(e){this.assign(e,"getStringValue("+e+",text)")},ensureSafeAssignContext:function(e){return"ensureSafeAssignContext("+e+",text)"},lazyRecurse:function(e,t,n,i,o,r){var a=this;return function(){a.recurse(e,t,n,i,o,r)}},lazyAssign:function(e,t){var n=this;return function(){n.assign(e,t)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)},escape:function(e){if(V(e))return"'"+e.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(U(e))return e.toString();if(!0===e)return"true";if(!1===e)return"false";if(null===e)return"null";if("undefined"===typeof e)return"undefined";throw Yn("esc","IMPOSSIBLE")},nextId:function(e,t){var n="v"+this.state.nextId++;return e||this.current().vars.push(n+(t?"="+t:"")),n},current:function(){return this.state[this.state.computing]}},bi.prototype={compile:function(e,t){var n,i,o=this,r=this.astBuilder.ast(e);this.expression=e,this.expensiveChecks=t,pi(r,o.$filter),(n=mi(r))&&(i=this.recurse(n));var a,s=hi(r.body);s&&(a=[],w(s,(function(e,t){var n=o.recurse(e);e.input=n,a.push(n),e.watchId=t})));var c=[];w(r.body,(function(e){c.push(o.recurse(e.expression))}));var l=0===r.body.length?function(){}:1===r.body.length?c[0]:function(e,t){var n;return w(c,(function(i){n=i(e,t)})),n};return i&&(l.assign=function(e,t,n){return i(e,n,t)}),a&&(l.inputs=a),l.literal=vi(r),l.constant=yi(r),l},recurse:function(e,t,i){var o,r,a,s=this;if(e.input)return this.inputs(e.input,e.watchId);switch(e.type){case li.Literal:return this.value(e.value,t);case li.UnaryExpression:return r=this.recurse(e.argument),this["unary"+e.operator](r,t);case li.BinaryExpression:case li.LogicalExpression:return o=this.recurse(e.left),r=this.recurse(e.right),this["binary"+e.operator](o,r,t);case li.ConditionalExpression:return this["ternary?:"](this.recurse(e.test),this.recurse(e.alternate),this.recurse(e.consequent),t);case li.Identifier:return Jn(e.name,s.expression),s.identifier(e.name,s.expensiveChecks||wi(e.name),t,i,s.expression);case li.MemberExpression:return o=this.recurse(e.object,!1,!!i),e.computed||(Jn(e.property.name,s.expression),r=e.property.name),e.computed&&(r=this.recurse(e.property)),e.computed?this.computedMember(o,r,t,i,s.expression):this.nonComputedMember(o,r,s.expensiveChecks,t,i,s.expression);case li.CallExpression:return a=[],w(e.arguments,(function(e){a.push(s.recurse(e))})),e.filter&&(r=this.$filter(e.callee.name)),e.filter||(r=this.recurse(e.callee,!0)),e.filter?function(e,i,o,s){for(var c=[],l=0;l<a.length;++l)c.push(a[l](e,i,o,s));var u=r.apply(n,c,s);return t?{context:n,name:n,value:u}:u}:function(e,n,i,o){var c,l=r(e,n,i,o);if(null!=l.value){ei(l.context,s.expression),oi(l.value,s.expression);for(var u=[],d=0;d<a.length;++d)u.push(ei(a[d](e,n,i,o),s.expression));c=ei(l.value.apply(l.context,u),s.expression)}return t?{value:c}:c};case li.AssignmentExpression:return o=this.recurse(e.left,!0,1),r=this.recurse(e.right),function(e,n,i,a){var c=o(e,n,i,a),l=r(e,n,i,a);return ei(c.value,s.expression),ri(c.context),c.context[c.name]=l,t?{value:l}:l};case li.ArrayExpression:return a=[],w(e.elements,(function(e){a.push(s.recurse(e))})),function(e,n,i,o){for(var r=[],s=0;s<a.length;++s)r.push(a[s](e,n,i,o));return t?{value:r}:r};case li.ObjectExpression:return a=[],w(e.properties,(function(e){a.push({key:e.key.type===li.Identifier?e.key.name:""+e.key.value,value:s.recurse(e.value)})})),function(e,n,i,o){for(var r={},s=0;s<a.length;++s)r[a[s].key]=a[s].value(e,n,i,o);return t?{value:r}:r};case li.ThisExpression:return function(e){return t?{value:e}:e};case li.NGValueParameter:return function(e,n,i,o){return t?{value:i}:i}}},"unary+":function(e,t){return function(n,i,o,r){var a=e(n,i,o,r);return a=j(a)?+a:0,t?{value:a}:a}},"unary-":function(e,t){return function(n,i,o,r){var a=e(n,i,o,r);return a=j(a)?-a:0,t?{value:a}:a}},"unary!":function(e,t){return function(n,i,o,r){var a=!e(n,i,o,r);return t?{value:a}:a}},"binary+":function(e,t,n){return function(i,o,r,a){var s=di(e(i,o,r,a),t(i,o,r,a));return n?{value:s}:s}},"binary-":function(e,t,n){return function(i,o,r,a){var s=e(i,o,r,a),c=t(i,o,r,a),l=(j(s)?s:0)-(j(c)?c:0);return n?{value:l}:l}},"binary*":function(e,t,n){return function(i,o,r,a){var s=e(i,o,r,a)*t(i,o,r,a);return n?{value:s}:s}},"binary/":function(e,t,n){return function(i,o,r,a){var s=e(i,o,r,a)/t(i,o,r,a);return n?{value:s}:s}},"binary%":function(e,t,n){return function(i,o,r,a){var s=e(i,o,r,a)%t(i,o,r,a);return n?{value:s}:s}},"binary===":function(e,t,n){return function(i,o,r,a){var s=e(i,o,r,a)===t(i,o,r,a);return n?{value:s}:s}},"binary!==":function(e,t,n){return function(i,o,r,a){var s=e(i,o,r,a)!==t(i,o,r,a);return n?{value:s}:s}},"binary==":function(e,t,n){return function(i,o,r,a){var s=e(i,o,r,a)==t(i,o,r,a);return n?{value:s}:s}},"binary!=":function(e,t,n){return function(i,o,r,a){var s=e(i,o,r,a)!=t(i,o,r,a);return n?{value:s}:s}},"binary<":function(e,t,n){return function(i,o,r,a){var s=e(i,o,r,a)<t(i,o,r,a);return n?{value:s}:s}},"binary>":function(e,t,n){return function(i,o,r,a){var s=e(i,o,r,a)>t(i,o,r,a);return n?{value:s}:s}},"binary<=":function(e,t,n){return function(i,o,r,a){var s=e(i,o,r,a)<=t(i,o,r,a);return n?{value:s}:s}},"binary>=":function(e,t,n){return function(i,o,r,a){var s=e(i,o,r,a)>=t(i,o,r,a);return n?{value:s}:s}},"binary&&":function(e,t,n){return function(i,o,r,a){var s=e(i,o,r,a)&&t(i,o,r,a);return n?{value:s}:s}},"binary||":function(e,t,n){return function(i,o,r,a){var s=e(i,o,r,a)||t(i,o,r,a);return n?{value:s}:s}},"ternary?:":function(e,t,n,i){return function(o,r,a,s){var c=e(o,r,a,s)?t(o,r,a,s):n(o,r,a,s);return i?{value:c}:c}},value:function(e,t){return function(){return t?{context:n,name:n,value:e}:e}},identifier:function(e,t,i,o,r){return function(a,s,c,l){var u=s&&e in s?s:a;o&&1!==o&&u&&!u[e]&&(u[e]={});var d=u?u[e]:n;return t&&ei(d,r),i?{context:u,name:e,value:d}:d}},computedMember:function(e,t,n,i,o){return function(r,a,s,c){var l,u,d=e(r,a,s,c);return null!=d&&(Jn(l=Qn(l=t(r,a,s,c)),o),i&&1!==i&&(ri(d),d&&!d[l]&&(d[l]={})),ei(u=d[l],o)),n?{context:d,name:l,value:u}:u}},nonComputedMember:function(e,t,i,o,r,a){return function(s,c,l,u){var d=e(s,c,l,u);r&&1!==r&&(ri(d),d&&!d[t]&&(d[t]={}));var f=null!=d?d[t]:n;return(i||wi(t))&&ei(f,a),o?{context:d,name:t,value:f}:f}},inputs:function(e,t){return function(n,i,o,r){return r?r[t]:e(n,i,o)}}};var Si=function(e,t,n){this.lexer=e,this.$filter=t,this.options=n,this.ast=new li(this.lexer),this.astCompiler=n.csp?new bi(this.ast,t):new _i(this.ast,t)};function wi(e){return"constructor"==e}Si.prototype={constructor:Si,parse:function(e){return this.astCompiler.compile(e,this.options.expensiveChecks)}};var $i=Object.prototype.valueOf;function Ci(e){return z(e.valueOf)?e.valueOf():$i.call(e)}function Fi(){var e=Re(),t=Re();this.$get=["$filter",function(i){var o=se().noUnsafeEval,r={csp:o,expensiveChecks:!1},a={csp:o,expensiveChecks:!0},s=!1;return c.$$runningExpensiveChecks=function(){return s},c;function c(n,o,c){var u,m,v;switch(c=c||s,typeof n){case"string":n=n.trim();var y=c?t:e;if(!(u=y[v=n])){":"===n.charAt(0)&&":"===n.charAt(1)&&(m=!0,n=n.substring(2));var _=c?a:r,b=new ci(_);(u=new Si(b,i,_).parse(n)).constant?u.$$watchDelegate=h:m?u.$$watchDelegate=u.literal?p:f:u.inputs&&(u.$$watchDelegate=d),c&&(u=l(u)),y[v]=u}return g(u,o);case"function":return g(n,o);default:return g(A,o)}}function l(e){if(!e)return e;n.$$watchDelegate=e.$$watchDelegate,n.assign=l(e.assign),n.constant=e.constant,n.literal=e.literal;for(var t=0;e.inputs&&t<e.inputs.length;++t)e.inputs[t]=l(e.inputs[t]);return n.inputs=e.inputs,n;function n(t,n,i,o){var r=s;s=!0;try{return e(t,n,i,o)}finally{s=r}}}function u(e,t){return null==e||null==t?e===t:("object"!==typeof e||"object"!==typeof(e=Ci(e)))&&(e===t||e!==e&&t!==t)}function d(e,t,i,o,r){var a,s=o.inputs;if(1===s.length){var c=u;return s=s[0],e.$watch((function(e){var t=s(e);return u(t,c)||(a=o(e,n,n,[t]),c=t&&Ci(t)),a}),t,i,r)}for(var l=[],d=[],f=0,p=s.length;f<p;f++)l[f]=u,d[f]=null;return e.$watch((function(e){for(var t=!1,i=0,r=s.length;i<r;i++){var c=s[i](e);(t||(t=!u(c,l[i])))&&(d[i]=c,l[i]=c&&Ci(c))}return t&&(a=o(e,n,n,d)),a}),t,i,r)}function f(e,t,n,i){var o,r;return o=e.$watch((function(e){return i(e)}),(function(e,n,i){r=e,z(t)&&t.apply(this,arguments),j(e)&&i.$$postDigest((function(){j(r)&&o()}))}),n)}function p(e,t,n,i){var o,r;return o=e.$watch((function(e){return i(e)}),(function(e,n,i){r=e,z(t)&&t.call(this,e,n,i),a(e)&&i.$$postDigest((function(){a(r)&&o()}))}),n);function a(e){var t=!0;return w(e,(function(e){j(e)||(t=!1)})),t}}function h(e,t,n,i){var o;return o=e.$watch((function(e){return i(e)}),(function(e,n,i){z(t)&&t.apply(this,arguments),o()}),n)}function g(e,t){if(!t)return e;var n=e.$$watchDelegate,i=!1,o=n!==p&&n!==f?function(n,o,r,a){var s=i&&a?a[0]:e(n,o,r,a);return t(s,n,o)}:function(n,i,o,r){var a=e(n,i,o,r),s=t(a,n,i);return j(a)?s:a};return e.$$watchDelegate&&e.$$watchDelegate!==d?o.$$watchDelegate=e.$$watchDelegate:t.$stateful||(o.$$watchDelegate=d,i=!e.inputs,o.inputs=e.inputs?e.inputs:[e]),o}}]}function Ei(){this.$get=["$rootScope","$exceptionHandler",function(e,t){return ki((function(t){e.$evalAsync(t)}),t)}]}function xi(){this.$get=["$browser","$exceptionHandler",function(e,t){return ki((function(t){e.defer(t)}),t)}]}function ki(e,t){var o=i("$q",TypeError);function r(){this.$$state={status:0}}function a(e,t){return function(n){t.call(e,n)}}function s(i){!i.processScheduled&&i.pending&&(i.processScheduled=!0,e((function(){!function(e){var i,o,r;r=e.pending,e.processScheduled=!1,e.pending=n;for(var a=0,s=r.length;a<s;++a){o=r[a][0],i=r[a][e.status];try{z(i)?o.resolve(i(e.value)):1===e.status?o.resolve(e.value):o.reject(e.value)}catch(c){o.reject(c),t(c)}}}(i)})))}function c(){this.promise=new r,this.resolve=a(this,this.resolve),this.reject=a(this,this.reject),this.notify=a(this,this.notify)}k(r.prototype,{then:function(e,t,n){if(I(e)&&I(t)&&I(n))return this;var i=new c;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([i,e,t,n]),this.$$state.status>0&&s(this.$$state),i.promise},catch:function(e){return this.then(null,e)},finally:function(e,t){return this.then((function(t){return u(t,!0,e)}),(function(t){return u(t,!1,e)}),t)}}),k(c.prototype,{resolve:function(e){this.promise.$$state.status||(e===this.promise?this.$$reject(o("qcycle","Expected promise to be resolved with value other than itself '{0}'",e)):this.$$resolve(e))},$$resolve:function(e){var n,i;i=function(e,t,n){var i=!1;function o(t){return function(n){i||(i=!0,t.call(e,n))}}return[o(t),o(n)]}(this,this.$$resolve,this.$$reject);try{(R(e)||z(e))&&(n=e&&e.then),z(n)?(this.promise.$$state.status=-1,n.call(e,i[0],i[1],this.notify)):(this.promise.$$state.value=e,this.promise.$$state.status=1,s(this.promise.$$state))}catch(o){i[1](o),t(o)}},reject:function(e){this.promise.$$state.status||this.$$reject(e)},$$reject:function(e){this.promise.$$state.value=e,this.promise.$$state.status=2,s(this.promise.$$state)},notify:function(n){var i=this.promise.$$state.pending;this.promise.$$state.status<=0&&i&&i.length&&e((function(){for(var e,o,r=0,a=i.length;r<a;r++){o=i[r][0],e=i[r][3];try{o.notify(z(e)?e(n):n)}catch(s){t(s)}}}))}});var l=function(e,t){var n=new c;return t?n.resolve(e):n.reject(e),n.promise},u=function(e,t,n){var i=null;try{z(n)&&(i=n())}catch(o){return l(o,!1)}return X(i)?i.then((function(){return l(e,t)}),(function(e){return l(e,!1)})):l(e,t)},d=function(e,t,n,i){var o=new c;return o.resolve(e),o.promise.then(t,n,i)},f=d;var p=function e(t){if(!z(t))throw o("norslvr","Expected resolverFn, got '{0}'",t);if(!(this instanceof e))return new e(t);var n=new c;return t((function(e){n.resolve(e)}),(function(e){n.reject(e)})),n.promise};return p.defer=function(){return new c},p.reject=function(e){var t=new c;return t.reject(e),t.promise},p.when=d,p.resolve=f,p.all=function(e){var t=new c,n=0,i=W(e)?[]:{};return w(e,(function(e,o){n++,d(e).then((function(e){i.hasOwnProperty(o)||(i[o]=e,--n||t.resolve(i))}),(function(e){i.hasOwnProperty(o)||t.reject(e)}))})),0===n&&t.resolve(i),t.promise},p}function Ti(){this.$get=["$window","$timeout",function(e,t){var n=e.requestAnimationFrame||e.webkitRequestAnimationFrame,i=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,o=!!n,r=o?function(e){var t=n(e);return function(){i(t)}}:function(e){var n=t(e,16.66,!1);return function(){t.cancel(n)}};return r.supported=o,r}]}function Pi(){var e=10,t=i("$rootScope"),n=null,o=null;this.digestTtl=function(t){return arguments.length&&(e=t),e},this.$get=["$injector","$exceptionHandler","$parse","$browser",function(i,r,a,c){function u(e){e.currentScope.$$destroyed=!0}function d(e){9===l&&(e.$$childHead&&d(e.$$childHead),e.$$nextSibling&&d(e.$$nextSibling)),e.$parent=e.$$nextSibling=e.$$prevSibling=e.$$childHead=e.$$childTail=e.$root=e.$$watchers=null}function f(){this.$id=F(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}f.prototype={constructor:f,$new:function(e,t){var n;return t=t||this,e?(n=new f).$root=this.$root:(this.$$ChildScope||(this.$$ChildScope=function(e){function t(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=F(),this.$$ChildScope=null}return t.prototype=e,t}(this)),n=new this.$$ChildScope),n.$parent=t,n.$$prevSibling=t.$$childTail,t.$$childHead?(t.$$childTail.$$nextSibling=n,t.$$childTail=n):t.$$childHead=t.$$childTail=n,(e||t!=this)&&n.$on("$destroy",u),n},$watch:function(e,t,i,o){var r=a(e);if(r.$$watchDelegate)return r.$$watchDelegate(this,t,i,r,e);var s=this,c=s.$$watchers,l={fn:t,last:$,get:r,exp:o||e,eq:!!i};return n=null,z(t)||(l.fn=A),c||(c=s.$$watchers=[]),c.unshift(l),_(this,1),function(){ie(c,l)>=0&&_(s,-1),n=null}},$watchGroup:function(e,t){var n=new Array(e.length),i=new Array(e.length),o=[],r=this,a=!1,s=!0;if(!e.length){var c=!0;return r.$evalAsync((function(){c&&t(i,i,r)})),function(){c=!1}}if(1===e.length)return this.$watch(e[0],(function(e,o,r){i[0]=e,n[0]=o,t(i,e===o?i:n,r)}));function l(){a=!1,s?(s=!1,t(i,i,r)):t(i,n,r)}return w(e,(function(e,t){var s=r.$watch(e,(function(e,o){i[t]=e,n[t]=o,a||(a=!0,r.$evalAsync(l))}));o.push(s)})),function(){for(;o.length;)o.shift()()}},$watchCollection:function(e,t){g.$stateful=!0;var n,i,o,r=this,c=t.length>1,l=0,u=a(e,g),d=[],f={},p=!0,h=0;function g(e){var t,o,r,a;if(!I(n=e)){if(R(n))if(S(n)){i!==d&&(h=(i=d).length=0,l++),t=n.length,h!==t&&(l++,i.length=h=t);for(var c=0;c<t;c++)a=i[c],r=n[c],a!==a&&r!==r||a===r||(l++,i[c]=r)}else{for(o in i!==f&&(i=f={},h=0,l++),t=0,n)s.call(n,o)&&(t++,r=n[o],a=i[o],o in i?a!==a&&r!==r||a===r||(l++,i[o]=r):(h++,i[o]=r,l++));if(h>t)for(o in l++,i)s.call(n,o)||(h--,delete i[o])}else i!==n&&(i=n,l++);return l}}return this.$watch(u,(function(){if(p?(p=!1,t(n,n,r)):t(n,o,r),c)if(R(n))if(S(n)){o=new Array(n.length);for(var e=0;e<n.length;e++)o[e]=n[e]}else for(var i in o={},n)s.call(n,i)&&(o[i]=n[i]);else o=n}))},$digest:function(){var i,a,s,l,u,d,f,m,_,b,S=e,w=this,F=[];v("$digest"),c.$$checkUrlChange(),this===p&&null!==o&&(c.defer.cancel(o),C()),n=null;do{for(d=!1,m=w;h.length;){try{(b=h.shift()).scope.$eval(b.expression,b.locals)}catch(E){r(E)}n=null}e:do{if(l=m.$$watchers)for(u=l.length;u--;)try{if(i=l[u])if((a=(0,i.get)(m))===(s=i.last)||(i.eq?ae(a,s):"number"===typeof a&&"number"===typeof s&&isNaN(a)&&isNaN(s))){if(i===n){d=!1;break e}}else d=!0,n=i,i.last=i.eq?oe(a,null):a,(0,i.fn)(a,s===$?a:s,m),S<5&&(F[_=4-S]||(F[_]=[]),F[_].push({msg:z(i.exp)?"fn: "+(i.exp.name||i.exp.toString()):i.exp,newVal:a,oldVal:s}))}catch(E){r(E)}if(!(f=m.$$watchersCount&&m.$$childHead||m!==w&&m.$$nextSibling))for(;m!==w&&!(f=m.$$nextSibling);)m=m.$parent}while(m=f);if((d||h.length)&&!S--)throw y(),t("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",e,F)}while(d||h.length);for(y();g.length;)try{g.shift()()}catch(E){r(E)}},$destroy:function(){if(!this.$$destroyed){var e=this.$parent;for(var t in this.$broadcast("$destroy"),this.$$destroyed=!0,this===p&&c.$$applicationDestroyed(),_(this,-this.$$watchersCount),this.$$listenerCount)b(this,this.$$listenerCount[t],t);e&&e.$$childHead==this&&(e.$$childHead=this.$$nextSibling),e&&e.$$childTail==this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=A,this.$on=this.$watch=this.$watchGroup=function(){return A},this.$$listeners={},this.$$nextSibling=null,d(this)}},$eval:function(e,t){return a(e)(this,t)},$evalAsync:function(e,t){p.$$phase||h.length||c.defer((function(){h.length&&p.$digest()})),h.push({scope:this,expression:a(e),locals:t})},$$postDigest:function(e){g.push(e)},$apply:function(e){try{v("$apply");try{return this.$eval(e)}finally{y()}}catch(t){r(t)}finally{try{p.$digest()}catch(t){throw r(t),t}}},$applyAsync:function(e){var t=this;e&&m.push((function(){t.$eval(e)})),e=a(e),null===o&&(o=c.defer((function(){p.$apply(C)})))},$on:function(e,t){var n=this.$$listeners[e];n||(this.$$listeners[e]=n=[]),n.push(t);var i=this;do{i.$$listenerCount[e]||(i.$$listenerCount[e]=0),i.$$listenerCount[e]++}while(i=i.$parent);var o=this;return function(){var i=n.indexOf(t);-1!==i&&(n[i]=null,b(o,1,e))}},$emit:function(e,t){var n,i,o,a=[],s=this,c=!1,l={name:e,targetScope:s,stopPropagation:function(){c=!0},preventDefault:function(){l.defaultPrevented=!0},defaultPrevented:!1},u=le([l],arguments,1);do{for(n=s.$$listeners[e]||a,l.currentScope=s,i=0,o=n.length;i<o;i++)if(n[i])try{n[i].apply(null,u)}catch(d){r(d)}else n.splice(i,1),i--,o--;if(c)return l.currentScope=null,l;s=s.$parent}while(s);return l.currentScope=null,l},$broadcast:function(e,t){var n=this,i=n,o=n,a={name:e,targetScope:n,preventDefault:function(){a.defaultPrevented=!0},defaultPrevented:!1};if(!n.$$listenerCount[e])return a;for(var s,c,l,u=le([a],arguments,1);i=o;){for(a.currentScope=i,c=0,l=(s=i.$$listeners[e]||[]).length;c<l;c++)if(s[c])try{s[c].apply(null,u)}catch(d){r(d)}else s.splice(c,1),c--,l--;if(!(o=i.$$listenerCount[e]&&i.$$childHead||i!==n&&i.$$nextSibling))for(;i!==n&&!(o=i.$$nextSibling);)i=i.$parent}return a.currentScope=null,a}};var p=new f,h=p.$$asyncQueue=[],g=p.$$postDigestQueue=[],m=p.$$applyAsyncQueue=[];return p;function v(e){if(p.$$phase)throw t("inprog","{0} already in progress",p.$$phase);p.$$phase=e}function y(){p.$$phase=null}function _(e,t){do{e.$$watchersCount+=t}while(e=e.$parent)}function b(e,t,n){do{e.$$listenerCount[n]-=t,0===e.$$listenerCount[n]&&delete e.$$listenerCount[n]}while(e=e.$parent)}function $(){}function C(){for(;m.length;)try{m.shift()()}catch(e){r(e)}o=null}}]}function Mi(){var e=/^\s*(https?|ftp|mailto|tel|file):/,t=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(t){return j(t)?(e=t,this):e},this.imgSrcSanitizationWhitelist=function(e){return j(e)?(t=e,this):t},this.$get=function(){return function(n,i){var o,r=i?t:e;return""===(o=Wi(n).href)||o.match(r)?n:"unsafe:"+o}}}var Ai=i("$sce"),Di={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"};function Li(e){var t=[];return j(e)&&w(e,(function(e){t.push(function(e){if("self"===e)return e;if(V(e)){if(e.indexOf("***")>-1)throw Ai("iwcard","Illegal sequence *** in string matcher.  String: {0}",e);return e=ee(e).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+e+"$")}if(H(e))return new RegExp("^"+e.source+"$");throw Ai("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}(e))})),t}function Ni(){this.SCE_CONTEXTS=Di;var e=["self"],t=[];this.resourceUrlWhitelist=function(t){return arguments.length&&(e=Li(t)),e},this.resourceUrlBlacklist=function(e){return arguments.length&&(t=Li(e)),t},this.$get=["$injector",function(n){var i=function(e){throw Ai("unsafe","Attempting to use an unsafe value in a safe context.")};function o(e,t){return"self"===e?zi(t):!!e.exec(t.href)}function r(e){var t=function(e){this.$$unwrapTrustedValue=function(){return e}};return e&&(t.prototype=new e),t.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},t}n.has("$sanitize")&&(i=n.get("$sanitize"));var a=r(),s={};return s[Di.HTML]=r(a),s[Di.CSS]=r(a),s[Di.URL]=r(a),s[Di.JS]=r(a),s[Di.RESOURCE_URL]=r(s[Di.URL]),{trustAs:function(e,t){var n=s.hasOwnProperty(e)?s[e]:null;if(!n)throw Ai("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",e,t);if(null===t||I(t)||""===t)return t;if("string"!==typeof t)throw Ai("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",e);return new n(t)},getTrusted:function(n,r){if(null===r||I(r)||""===r)return r;var a=s.hasOwnProperty(n)?s[n]:null;if(a&&r instanceof a)return r.$$unwrapTrustedValue();if(n===Di.RESOURCE_URL){if(function(n){var i,r,a=Wi(n.toString()),s=!1;for(i=0,r=e.length;i<r;i++)if(o(e[i],a)){s=!0;break}if(s)for(i=0,r=t.length;i<r;i++)if(o(t[i],a)){s=!1;break}return s}(r))return r;throw Ai("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",r.toString())}if(n===Di.HTML)return i(r);throw Ai("unsafe","Attempting to use an unsafe value in a safe context.")},valueOf:function(e){return e instanceof a?e.$$unwrapTrustedValue():e}}}]}function Ii(){var e=!0;this.enabled=function(t){return arguments.length&&(e=!!t),e},this.$get=["$parse","$sceDelegate",function(t,n){if(e&&l<8)throw Ai("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var i=re(Di);i.isEnabled=function(){return e},i.trustAs=n.trustAs,i.getTrusted=n.getTrusted,i.valueOf=n.valueOf,e||(i.trustAs=i.getTrusted=function(e,t){return t},i.valueOf=D),i.parseAs=function(e,n){var o=t(n);return o.literal&&o.constant?o:t(n,(function(t){return i.getTrusted(e,t)}))};var o=i.parseAs,r=i.getTrusted,s=i.trustAs;return w(Di,(function(e,t){var n=a(t);i[Xe("parse_as_"+n)]=function(t){return o(e,t)},i[Xe("get_trusted_"+n)]=function(t){return r(e,t)},i[Xe("trust_as_"+n)]=function(t){return s(e,t)}})),i}]}function ji(){this.$get=["$window","$document",function(e,t){var n,i,o={},r=P((/android (\d+)/.exec(a((e.navigator||{}).userAgent))||[])[1]),s=/Boxee/i.test((e.navigator||{}).userAgent),c=t[0]||{},u=/^(Moz|webkit|ms)(?=[A-Z])/,d=c.body&&c.body.style,f=!1,p=!1;if(d){for(var h in d)if(i=u.exec(h)){n=(n=i[0]).substr(0,1).toUpperCase()+n.substr(1);break}n||(n="WebkitOpacity"in d&&"webkit"),f=!(!("transition"in d)&&!(n+"Transition"in d)),p=!(!("animation"in d)&&!(n+"Animation"in d)),!r||f&&p||(f=V(d.webkitTransition),p=V(d.webkitAnimation))}return{history:!(!e.history||!e.history.pushState||r<4||s),hasEvent:function(e){if("input"===e&&l<=11)return!1;if(I(o[e])){var t=c.createElement("div");o[e]="on"+e in t}return o[e]},csp:se(),vendorPrefix:n,transitions:f,animations:p,android:r}}]}en=i("$compile");function Ri(){this.$get=["$templateCache","$http","$q","$sce",function(e,t,n,i){function o(r,a){o.totalPendingRequests++,V(r)&&!I(e.get(r))||(r=i.getTrustedResourceUrl(r));var s=t.defaults&&t.defaults.transformResponse;W(s)?s=s.filter((function(e){return e!==$n})):s===$n&&(s=null);var c={cache:e,transformResponse:s};return t.get(r,c).finally((function(){o.totalPendingRequests--})).then((function(t){return e.put(r,t.data),t.data}),(function(e){if(!a)throw en("tpload","Failed to load template: {0} (HTTP status: {1} {2})",r,e.status,e.statusText);return n.reject(e)}))}return o.totalPendingRequests=0,o}]}function Oi(){this.$get=["$rootScope","$browser","$location",function(e,t,n){var i={findBindings:function(e,t,n){var i=e.getElementsByClassName("ng-binding"),o=[];return w(i,(function(e){var i=_.element(e).data("$binding");i&&w(i,(function(i){n?new RegExp("(^|\\s)"+ee(t)+"(\\s|\\||$)").test(i)&&o.push(e):-1!=i.indexOf(t)&&o.push(e)}))})),o},findModels:function(e,t,n){for(var i=["ng-","data-ng-","ng\\:"],o=0;o<i.length;++o){var r="["+i[o]+"model"+(n?"=":"*=")+'"'+t+'"]',a=e.querySelectorAll(r);if(a.length)return a}},getLocation:function(){return n.url()},setLocation:function(t){t!==n.url()&&(n.url(t),e.$digest())},whenStable:function(e){t.notifyWhenNoOutstandingRequests(e)}};return i}]}function Vi(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(e,t,n,i,o){var r={};function a(a,s,c){z(a)||(c=s,s=a,a=A);var l,u=ue(arguments,3),d=j(c)&&!c,f=(d?i:n).defer(),p=f.promise;return l=t.defer((function(){try{f.resolve(a.apply(null,u))}catch(t){f.reject(t),o(t)}finally{delete r[p.$$timeoutId]}d||e.$apply()}),s),p.$$timeoutId=l,r[l]=f,p}return a.cancel=function(e){return!(!e||!(e.$$timeoutId in r))&&(r[e.$$timeoutId].reject("canceled"),delete r[e.$$timeoutId],t.defer.cancel(e.$$timeoutId))},a}]}var Ui=t.createElement("a"),Bi=Wi(e.location.href);function Wi(e){var t=e;return l&&(Ui.setAttribute("href",t),t=Ui.href),Ui.setAttribute("href",t),{href:Ui.href,protocol:Ui.protocol?Ui.protocol.replace(/:$/,""):"",host:Ui.host,search:Ui.search?Ui.search.replace(/^\?/,""):"",hash:Ui.hash?Ui.hash.replace(/^#/,""):"",hostname:Ui.hostname,port:Ui.port,pathname:"/"===Ui.pathname.charAt(0)?Ui.pathname:"/"+Ui.pathname}}function zi(e){var t=V(e)?Wi(e):e;return t.protocol===Bi.protocol&&t.host===Bi.host}function Hi(){this.$get=L(e)}function qi(e){var t=e[0]||{},n={},i="";function o(e){try{return decodeURIComponent(e)}catch(t){return e}}return function(){var e,r,a,s,c,l=t.cookie||"";if(l!==i)for(e=(i=l).split("; "),n={},a=0;a<e.length;a++)(s=(r=e[a]).indexOf("="))>0&&(c=o(r.substring(0,s)),I(n[c])&&(n[c]=o(r.substring(s+1))));return n}}function Gi(){this.$get=qi}function Zi(e){var t="Filter";function n(i,o){if(R(i)){var r={};return w(i,(function(e,t){r[t]=n(t,e)})),r}return e.factory(i+t,o)}this.register=n,this.$get=["$injector",function(e){return function(n){return e.get(n+t)}}],n("currency",Ji),n("date",uo),n("filter",Ki),n("json",fo),n("limitTo",go),n("lowercase",po),n("number",Qi),n("orderBy",mo),n("uppercase",ho)}function Ki(){return function(e,t,n){if(!S(e)){if(null==e)return e;throw i("filter")("notarray","Expected array but received: {0}",e)}var o,r;switch(Yi(t)){case"function":o=t;break;case"boolean":case"null":case"number":case"string":r=!0;case"object":o=function(e,t,n){var i=R(e)&&"$"in e;!0===t?t=ae:z(t)||(t=function(e,t){return!I(e)&&(null===e||null===t?e===t:!(R(t)||R(e)&&!N(e))&&(e=a(""+e),t=a(""+t),-1!==e.indexOf(t)))});return function(o){return i&&!R(o)?Xi(o,e.$,t,!1):Xi(o,e,t,n)}}(t,n,r);break;default:return e}return Array.prototype.filter.call(e,o)}}function Xi(e,t,n,i,o){var r=Yi(e),a=Yi(t);if("string"===a&&"!"===t.charAt(0))return!Xi(e,t.substring(1),n,i);if(W(e))return e.some((function(e){return Xi(e,t,n,i)}));switch(r){case"object":var s;if(i){for(s in e)if("$"!==s.charAt(0)&&Xi(e[s],t,n,!0))return!0;return!o&&Xi(e,t,n,!1)}if("object"===a){for(s in t){var c=t[s];if(!z(c)&&!I(c)){var l="$"===s;if(!Xi(l?e:e[s],c,n,l,l))return!1}}return!0}return n(e,t);case"function":return!1;default:return n(e,t)}}function Yi(e){return null===e?"null":typeof e}qi.$inject=["$document"],Zi.$inject=["$provide"];function Ji(e){var t=e.NUMBER_FORMATS;return function(e,n,i){return I(n)&&(n=t.CURRENCY_SYM),I(i)&&(i=t.PATTERNS[1].maxFrac),null==e?e:eo(e,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,i).replace(/\u00A4/g,n)}}function Qi(e){var t=e.NUMBER_FORMATS;return function(e,n){return null==e?e:eo(e,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,n)}}function eo(e,t,n,i,o){if(!V(e)&&!U(e)||isNaN(e))return"";var r,a=!isFinite(e),s=!1,c=Math.abs(e)+"",l="";if(a)l="\u221e";else{r=function(e){var t,n,i,o,r,a=0;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(i=e.search(/e/i))>0?(n<0&&(n=i),n+=+e.slice(i+1),e=e.substring(0,i)):n<0&&(n=e.length),i=0;"0"==e.charAt(i);i++);if(i==(r=e.length))t=[0],n=1;else{for(r--;"0"==e.charAt(r);)r--;for(n-=i,t=[],o=0;i<=r;i++,o++)t[o]=+e.charAt(i)}return n>22&&(t=t.splice(0,21),a=n-1,n=1),{d:t,e:a,i:n}}(c),function(e,t,n,i){var o=e.d,r=o.length-e.i,a=(t=I(t)?Math.min(Math.max(n,r),i):+t)+e.i,s=o[a];if(a>0)o.splice(a);else{e.i=1,o.length=a=t+1;for(var c=0;c<a;c++)o[c]=0}for(s>=5&&o[a-1]++;r<t;r++)o.push(0);var l=o.reduceRight((function(e,t,n,i){return t+=e,i[n]=t%10,Math.floor(t/10)}),0);l&&(o.unshift(l),e.i++)}(r,o,t.minFrac,t.maxFrac);var u=r.d,d=r.i,f=r.e,p=[];for(s=u.reduce((function(e,t){return e&&!t}),!0);d<0;)u.unshift(0),d++;d>0?p=u.splice(d,u.length):(p=u,u=[0]);var h=[];for(u.length>=t.lgSize&&h.unshift(u.splice(-t.lgSize,u.length).join(""));u.length>t.gSize;)h.unshift(u.splice(-t.gSize,u.length).join(""));u.length&&h.unshift(u.join("")),l=h.join(n),p.length&&(l+=i+p.join("")),f&&(l+="e+"+f)}return e<0&&!s?t.negPre+l+t.negSuf:t.posPre+l+t.posSuf}function to(e,t,n){var i="";for(e<0&&(i="-",e=-e),e=""+e;e.length<t;)e="0"+e;return n&&(e=e.substr(e.length-t)),i+e}function no(e,t,n,i){return n=n||0,function(o){var r=o["get"+e]();return(n>0||r>-n)&&(r+=n),0===r&&-12==n&&(r=12),to(r,t,i)}}function io(e,t){return function(n,i){var o=n["get"+e]();return i[c(t?"SHORT"+e:e)][o]}}function oo(e){var t=new Date(e,0,1).getDay();return new Date(e,0,(t<=4?5:12)-t)}function ro(e){return function(t){var n,i=oo(t.getFullYear()),o=+(n=t,new Date(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay())))-+i;return to(1+Math.round(o/6048e5),e)}}function ao(e,t){return e.getFullYear()<=0?t.ERAS[0]:t.ERAS[1]}Ji.$inject=["$locale"],Qi.$inject=["$locale"];var so={yyyy:no("FullYear",4),yy:no("FullYear",2,0,!0),y:no("FullYear",1),MMMM:io("Month"),MMM:io("Month",!0),MM:no("Month",2,1),M:no("Month",1,1),dd:no("Date",2),d:no("Date",1),HH:no("Hours",2),H:no("Hours",1),hh:no("Hours",2,-12),h:no("Hours",1,-12),mm:no("Minutes",2),m:no("Minutes",1),ss:no("Seconds",2),s:no("Seconds",1),sss:no("Milliseconds",3),EEEE:io("Day"),EEE:io("Day",!0),a:function(e,t){return e.getHours()<12?t.AMPMS[0]:t.AMPMS[1]},Z:function(e,t,n){var i=-1*n,o=i>=0?"+":"";return o+=to(Math[i>0?"floor":"ceil"](i/60),2)+to(Math.abs(i%60),2)},ww:ro(2),w:ro(1),G:ao,GG:ao,GGG:ao,GGGG:function(e,t){return e.getFullYear()<=0?t.ERANAMES[0]:t.ERANAMES[1]}},co=/((?:[^yMdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,lo=/^\-?\d+$/;function uo(e){var t=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,i,o){var r,a,s="",c=[];if(i=i||"mediumDate",i=e.DATETIME_FORMATS[i]||i,V(n)&&(n=lo.test(n)?P(n):function(e){var n;if(n=e.match(t)){var i=new Date(0),o=0,r=0,a=n[8]?i.setUTCFullYear:i.setFullYear,s=n[8]?i.setUTCHours:i.setHours;n[9]&&(o=P(n[9]+n[10]),r=P(n[9]+n[11])),a.call(i,P(n[1]),P(n[2])-1,P(n[3]));var c=P(n[4]||0)-o,l=P(n[5]||0)-r,u=P(n[6]||0),d=Math.round(1e3*parseFloat("0."+(n[7]||0)));return s.call(i,c,l,u,d),i}return e}(n)),U(n)&&(n=new Date(n)),!B(n)||!isFinite(n.getTime()))return n;for(;i;)(a=co.exec(i))?i=(c=le(c,a,1)).pop():(c.push(i),i=null);var l=n.getTimezoneOffset();return o&&(l=me(o,l),n=ve(n,o,!0)),w(c,(function(t){s+=(r=so[t])?r(n,e.DATETIME_FORMATS,l):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")})),s}}function fo(){return function(e,t){return I(t)&&(t=2),pe(e,t)}}uo.$inject=["$locale"];var po=L(a),ho=L(c);function go(){return function(e,t,n){return t=Math.abs(Number(t))===1/0?Number(t):P(t),isNaN(t)?e:(U(e)&&(e=e.toString()),W(e)||V(e)?(n=(n=!n||isNaN(n)?0:P(n))<0?Math.max(0,e.length+n):n,t>=0?e.slice(n,n+t):0===n?e.slice(t,e.length):e.slice(Math.max(0,n+t),n)):e)}}function mo(e){return function(i,o,r){if(!S(i))return i;W(o)||(o=[o]),0===o.length&&(o=["+"]);var a=function(t,n){return n=n?-1:1,t.map((function(t){var i=1,o=D;if(z(t))o=t;else if(V(t)&&("+"!=t.charAt(0)&&"-"!=t.charAt(0)||(i="-"==t.charAt(0)?-1:1,t=t.substring(1)),""!==t&&(o=e(t)).constant)){var r=o();o=function(e){return e[r]}}return{get:o,descending:i*n}}))}(o,r);a.push({get:function(){return{}},descending:r?-1:1});var s=Array.prototype.map.call(i,(function(e,n){return{value:e,predicateValues:a.map((function(i){return function(e,n){var i=typeof e;null===e?(i="string",e="null"):"string"===i?e=e.toLowerCase():"object"===i&&(e=function(e,n){if("function"===typeof e.valueOf&&t(e=e.valueOf()))return e;if(N(e)&&t(e=e.toString()))return e;return n}(e,n));return{value:e,type:i}}(i.get(e),n)}))}}));return s.sort((function(e,t){for(var i=0,o=0,r=a.length;o<r&&!(i=n(e.predicateValues[o],t.predicateValues[o])*a[o].descending);++o);return i})),i=s.map((function(e){return e.value}))};function t(e){switch(typeof e){case"number":case"boolean":case"string":return!0;default:return!1}}function n(e,t){var n=0;return e.type===t.type?e.value!==t.value&&(n=e.value<t.value?-1:1):n=e.type<t.type?-1:1,n}}function vo(e){return z(e)&&(e={link:e}),e.restrict=e.restrict||"AC",L(e)}mo.$inject=["$parse"];var yo=L({restrict:"E",compile:function(e,t){if(!t.href&&!t.xlinkHref)return function(e,t){if("a"===t[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===m.call(t.prop("href"))?"xlink:href":"href";t.on("click",(function(e){t.attr(n)||e.preventDefault()}))}}}}),_o={};w($t,(function(e,t){if("multiple"!=e){var n=on("ng-"+t),i=o;"checked"===e&&(i=function(e,t,i){i.ngModel!==i[n]&&o(e,0,i)}),_o[n]=function(){return{restrict:"A",priority:100,link:i}}}function o(e,i,o){e.$watch(o[n],(function(e){o.$set(t,!!e)}))}})),w(Ft,(function(e,t){_o[t]=function(){return{priority:100,link:function(e,n,i){if("ngPattern"===t&&"/"==i.ngPattern.charAt(0)){var r=i.ngPattern.match(o);if(r)return void i.$set("ngPattern",new RegExp(r[1],r[2]))}e.$watch(i[t],(function(e){i.$set(t,e)}))}}}})),w(["src","srcset","href"],(function(e){var t=on("ng-"+e);_o[t]=function(){return{priority:99,link:function(n,i,o){var r=e,a=e;"href"===e&&"[object SVGAnimatedString]"===m.call(i.prop("href"))&&(a="xlinkHref",o.$attr[a]="xlink:href",r=null),o.$observe(t,(function(t){t?(o.$set(a,t),l&&r&&i.prop(r,o[a])):"href"===e&&o.$set(a,null)}))}}}}));var bo={$addControl:A,$$renameControl:function(e,t){e.$name=t},$removeControl:A,$setValidity:A,$setDirty:A,$setPristine:A,$setSubmitted:A},So="ng-submitted";function wo(e,t,i,o,r){var a=this,s=[];a.$error={},a.$$success={},a.$pending=n,a.$name=r(t.name||t.ngForm||"")(i),a.$dirty=!1,a.$pristine=!0,a.$valid=!0,a.$invalid=!1,a.$submitted=!1,a.$$parentForm=bo,a.$rollbackViewValue=function(){w(s,(function(e){e.$rollbackViewValue()}))},a.$commitViewValue=function(){w(s,(function(e){e.$commitViewValue()}))},a.$addControl=function(e){Ne(e.$name,"input"),s.push(e),e.$name&&(a[e.$name]=e),e.$$parentForm=a},a.$$renameControl=function(e,t){var n=e.$name;a[n]===e&&delete a[n],a[t]=e,e.$name=t},a.$removeControl=function(e){e.$name&&a[e.$name]===e&&delete a[e.$name],w(a.$pending,(function(t,n){a.$setValidity(n,null,e)})),w(a.$error,(function(t,n){a.$setValidity(n,null,e)})),w(a.$$success,(function(t,n){a.$setValidity(n,null,e)})),ie(s,e),e.$$parentForm=bo},Sr({ctrl:this,$element:e,set:function(e,t,n){var i=e[t];i?-1===i.indexOf(n)&&i.push(n):e[t]=[n]},unset:function(e,t,n){var i=e[t];i&&(ie(i,n),0===i.length&&delete e[t])},$animate:o}),a.$setDirty=function(){o.removeClass(e,dr),o.addClass(e,fr),a.$dirty=!0,a.$pristine=!1,a.$$parentForm.$setDirty()},a.$setPristine=function(){o.setClass(e,dr,fr+" "+So),a.$dirty=!1,a.$pristine=!0,a.$submitted=!1,w(s,(function(e){e.$setPristine()}))},a.$setUntouched=function(){w(s,(function(e){e.$setUntouched()}))},a.$setSubmitted=function(){o.addClass(e,So),a.$submitted=!0,a.$$parentForm.$setSubmitted()}}wo.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var $o=function(e){return["$timeout","$parse",function(t,i){return{name:"form",restrict:e?"EAC":"E",require:["form","^^?form"],controller:wo,compile:function(i,r){i.addClass(dr).addClass(lr);var a=r.name?"name":!(!e||!r.ngForm)&&"ngForm";return{pre:function(e,i,r,s){var c=s[0];if(!("action"in r)){var l=function(t){e.$apply((function(){c.$commitViewValue(),c.$setSubmitted()})),t.preventDefault()};ze(i[0],"submit",l),i.on("$destroy",(function(){t((function(){He(i[0],"submit",l)}),0,!1)}))}(s[1]||c.$$parentForm).$addControl(c);var u=a?o(c.$name):A;a&&(u(e,c),r.$observe(a,(function(t){c.$name!==t&&(u(e,n),c.$$parentForm.$$renameControl(c,t),(u=o(c.$name))(e,c))}))),i.on("$destroy",(function(){c.$$parentForm.$removeControl(c),u(e,n),k(c,bo)}))}}}};function o(e){return""===e?i('this[""]').assign:i(e).assign||A}}]},Co=$o(),Fo=$o(!0),Eo=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/,xo=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:/?#]+|\[[a-f\d:]+\])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,ko=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,To=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,Po=/^(\d{4})-(\d{2})-(\d{2})$/,Mo=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Ao=/^(\d{4})-W(\d\d)$/,Do=/^(\d{4})-(\d\d)$/,Lo=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,No=Re();w("date,datetime-local,month,time,week".split(","),(function(e){No[e]=!0}));var Io={text:function(e,t,n,i,o,r){Ro(e,t,n,i,o,r),jo(i)},date:Vo("date",Po,Oo(Po,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":Vo("datetimelocal",Mo,Oo(Mo,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:Vo("time",Lo,Oo(Lo,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:Vo("week",Ao,(function(e,t){if(B(e))return e;if(V(e)){Ao.lastIndex=0;var n=Ao.exec(e);if(n){var i=+n[1],o=+n[2],r=0,a=0,s=0,c=0,l=oo(i),u=7*(o-1);return t&&(r=t.getHours(),a=t.getMinutes(),s=t.getSeconds(),c=t.getMilliseconds()),new Date(i,0,l.getDate()+u,r,a,s,c)}}return NaN}),"yyyy-Www"),month:Vo("month",Do,Oo(Do,["yyyy","MM"]),"yyyy-MM"),number:function(e,t,i,o,r,a){if(Uo(e,t,i,o),Ro(e,t,i,o,r,a),o.$$parserName="number",o.$parsers.push((function(e){return o.$isEmpty(e)?null:To.test(e)?parseFloat(e):n})),o.$formatters.push((function(e){if(!o.$isEmpty(e)){if(!U(e))throw mr("numfmt","Expected `{0}` to be a number",e);e=e.toString()}return e})),j(i.min)||i.ngMin){var s;o.$validators.min=function(e){return o.$isEmpty(e)||I(s)||e>=s},i.$observe("min",(function(e){j(e)&&!U(e)&&(e=parseFloat(e,10)),s=U(e)&&!isNaN(e)?e:n,o.$validate()}))}if(j(i.max)||i.ngMax){var c;o.$validators.max=function(e){return o.$isEmpty(e)||I(c)||e<=c},i.$observe("max",(function(e){j(e)&&!U(e)&&(e=parseFloat(e,10)),c=U(e)&&!isNaN(e)?e:n,o.$validate()}))}},url:function(e,t,n,i,o,r){Ro(e,t,n,i,o,r),jo(i),i.$$parserName="url",i.$validators.url=function(e,t){var n=e||t;return i.$isEmpty(n)||xo.test(n)}},email:function(e,t,n,i,o,r){Ro(e,t,n,i,o,r),jo(i),i.$$parserName="email",i.$validators.email=function(e,t){var n=e||t;return i.$isEmpty(n)||ko.test(n)}},radio:function(e,t,n,i){I(n.name)&&t.attr("name",F());t.on("click",(function(e){t[0].checked&&i.$setViewValue(n.value,e&&e.type)})),i.$render=function(){var e=n.value;t[0].checked=e==i.$viewValue},n.$observe("value",i.$render)},checkbox:function(e,t,n,i,o,r,a,s){var c=Bo(s,e,"ngTrueValue",n.ngTrueValue,!0),l=Bo(s,e,"ngFalseValue",n.ngFalseValue,!1);t.on("click",(function(e){i.$setViewValue(t[0].checked,e&&e.type)})),i.$render=function(){t[0].checked=i.$viewValue},i.$isEmpty=function(e){return!1===e},i.$formatters.push((function(e){return ae(e,c)})),i.$parsers.push((function(e){return e?c:l}))},hidden:A,button:A,submit:A,reset:A,file:A};function jo(e){e.$formatters.push((function(t){return e.$isEmpty(t)?t:t.toString()}))}function Ro(e,t,n,i,o,r){var s,c=a(t[0].type);if(!o.android){var l=!1;t.on("compositionstart",(function(e){l=!0})),t.on("compositionend",(function(){l=!1,u()}))}var u=function(e){if(s&&(r.defer.cancel(s),s=null),!l){var o=t.val(),a=e&&e.type;"password"===c||n.ngTrim&&"false"===n.ngTrim||(o=Q(o)),(i.$viewValue!==o||""===o&&i.$$hasNativeValidators)&&i.$setViewValue(o,a)}};if(o.hasEvent("input"))t.on("input",u);else{var d=function(e,t,n){s||(s=r.defer((function(){s=null,t&&t.value===n||u(e)})))};t.on("keydown",(function(e){var t=e.keyCode;91===t||15<t&&t<19||37<=t&&t<=40||d(e,this,this.value)})),o.hasEvent("paste")&&t.on("paste cut",d)}t.on("change",u),No[c]&&i.$$hasNativeValidators&&c===n.type&&t.on("keydown wheel mousedown",(function(e){if(!s){var t=this.validity,n=t.badInput,i=t.typeMismatch;s=r.defer((function(){s=null,t.badInput===n&&t.typeMismatch===i||u(e)}))}})),i.$render=function(){var e=i.$isEmpty(i.$viewValue)?"":i.$viewValue;t.val()!==e&&t.val(e)}}function Oo(e,t){return function(n,i){var o,r;if(B(n))return n;if(V(n)){if('"'==n.charAt(0)&&'"'==n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),Eo.test(n))return new Date(n);if(e.lastIndex=0,o=e.exec(n))return o.shift(),r=i?{yyyy:i.getFullYear(),MM:i.getMonth()+1,dd:i.getDate(),HH:i.getHours(),mm:i.getMinutes(),ss:i.getSeconds(),sss:i.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},w(o,(function(e,n){n<t.length&&(r[t[n]]=+e)})),new Date(r.yyyy,r.MM-1,r.dd,r.HH,r.mm,r.ss||0,1e3*r.sss||0)}return NaN}}function Vo(e,t,i,o){return function(r,a,s,c,l,u,d){Uo(r,a,s,c),Ro(0,a,s,c,l,u);var f,p,h,g=c&&c.$options&&c.$options.timezone;(c.$$parserName=e,c.$parsers.push((function(e){if(c.$isEmpty(e))return null;if(t.test(e)){var o=i(e,f);return g&&(o=ve(o,g)),o}return n})),c.$formatters.push((function(e){if(e&&!B(e))throw mr("datefmt","Expected `{0}` to be a date",e);return m(e)?((f=e)&&g&&(f=ve(f,g,!0)),d("date")(e,o,g)):(f=null,"")})),j(s.min)||s.ngMin)&&(c.$validators.min=function(e){return!m(e)||I(p)||i(e)>=p},s.$observe("min",(function(e){p=v(e),c.$validate()})));(j(s.max)||s.ngMax)&&(c.$validators.max=function(e){return!m(e)||I(h)||i(e)<=h},s.$observe("max",(function(e){h=v(e),c.$validate()})));function m(e){return e&&!(e.getTime&&e.getTime()!==e.getTime())}function v(e){return j(e)&&!B(e)?i(e)||n:e}}}function Uo(e,t,i,o){var a=t[0];(o.$$hasNativeValidators=R(a.validity))&&o.$parsers.push((function(e){var i=t.prop(r)||{};return i.badInput&&!i.typeMismatch?n:e}))}function Bo(e,t,n,i,o){var r;if(j(i)){if(!(r=e(i)).constant)throw mr("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",n,i);return r(t)}return o}var Wo=["$browser","$sniffer","$filter","$parse",function(e,t,n,i){return{restrict:"E",require:["?ngModel"],link:{pre:function(o,r,s,c){c[0]&&(Io[a(s.type)]||Io.text)(o,r,s,c[0],t,e,n,i)}}}}],zo=/^(true|false|\d+)$/,Ho=function(){return{restrict:"A",priority:100,compile:function(e,t){return zo.test(t.ngValue)?function(e,t,n){n.$set("value",e.$eval(n.ngValue))}:function(e,t,n){e.$watch(n.ngValue,(function(e){n.$set("value",e)}))}}}},qo=["$compile",function(e){return{restrict:"AC",compile:function(t){return e.$$addBindingClass(t),function(t,n,i){e.$$addBindingInfo(n,i.ngBind),n=n[0],t.$watch(i.ngBind,(function(e){n.textContent=I(e)?"":e}))}}}}],Go=["$interpolate","$compile",function(e,t){return{compile:function(n){return t.$$addBindingClass(n),function(n,i,o){var r=e(i.attr(o.$attr.ngBindTemplate));t.$$addBindingInfo(i,r.expressions),i=i[0],o.$observe("ngBindTemplate",(function(e){i.textContent=I(e)?"":e}))}}}}],Zo=["$sce","$parse","$compile",function(e,t,n){return{restrict:"A",compile:function(i,o){var r=t(o.ngBindHtml),a=t(o.ngBindHtml,(function(t){return e.valueOf(t)}));return n.$$addBindingClass(i),function(t,i,o){n.$$addBindingInfo(i,o.ngBindHtml),t.$watch(a,(function(){var n=r(t);i.html(e.getTrustedHtml(n)||"")}))}}}}],Ko=L({restrict:"A",require:"ngModel",link:function(e,t,n,i){i.$viewChangeListeners.push((function(){e.$eval(n.ngChange)}))}});function Xo(e,t){return e="ngClass"+e,["$animate",function(n){return{restrict:"AC",link:function(r,a,s){var c;function l(e){var t=u(e,1);s.$addClass(t)}function u(e,t){var n=a.data("$classCounts")||Re(),i=[];return w(e,(function(e){(t>0||n[e])&&(n[e]=(n[e]||0)+t,n[e]===+(t>0)&&i.push(e))})),a.data("$classCounts",n),i.join(" ")}function d(e){if(!0===t||r.$index%2===t){var s=o(e||[]);if(c){if(!ae(e,c)){!function(e,t){var o=i(t,e),r=i(e,t);o=u(o,1),r=u(r,-1),o&&o.length&&n.addClass(a,o),r&&r.length&&n.removeClass(a,r)}(o(c),s)}}else l(s)}c=W(e)?e.map((function(e){return re(e)})):re(e)}r.$watch(s[e],d,!0),s.$observe("class",(function(t){d(r.$eval(s[e]))})),"ngClass"!==e&&r.$watch("$index",(function(n,i){var a=1&n;if(a!==(1&i)){var c=o(r.$eval(s[e]));a===t?l(c):function(e){var t=u(e,-1);s.$removeClass(t)}(c)}}))}};function i(e,t){var n=[];e:for(var i=0;i<e.length;i++){for(var o=e[i],r=0;r<t.length;r++)if(o==t[r])continue e;n.push(o)}return n}function o(e){var t=[];return W(e)?(w(e,(function(e){t=t.concat(o(e))})),t):V(e)?e.split(" "):R(e)?(w(e,(function(e,n){e&&(t=t.concat(n.split(" ")))})),t):e}}]}var Yo=Xo("",!0),Jo=Xo("Odd",0),Qo=Xo("Even",1),er=vo({compile:function(e,t){t.$set("ngCloak",n),e.removeClass("ng-cloak")}}),tr=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],nr={},ir={blur:!0,focus:!0};w("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),(function(e){var t=on("ng-"+e);nr[t]=["$parse","$rootScope",function(n,i){return{restrict:"A",compile:function(o,r){var a=n(r[t],null,!0);return function(t,n){n.on(e,(function(n){var o=function(){a(t,{$event:n})};ir[e]&&i.$$phase?t.$evalAsync(o):t.$apply(o)}))}}}}]}));var or=["$animate",function(e){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,i,o,r,a){var s,c,l;n.$watch(o.ngIf,(function(n){n?c||a((function(n,r){c=r,n[n.length++]=t.createComment(" end ngIf: "+o.ngIf+" "),s={clone:n},e.enter(n,i.parent(),i)})):(l&&(l.remove(),l=null),c&&(c.$destroy(),c=null),s&&(l=je(s.clone),e.leave(l).then((function(){l=null})),s=null))}))}}}],rr=["$templateRequest","$anchorScroll","$animate",function(e,t,n){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:_.noop,compile:function(i,o){var r=o.ngInclude||o.src,a=o.onload||"",s=o.autoscroll;return function(i,o,c,l,u){var d,f,p,h=0,g=function(){f&&(f.remove(),f=null),d&&(d.$destroy(),d=null),p&&(n.leave(p).then((function(){f=null})),f=p,p=null)};i.$watch(r,(function(r){var c=function(){!j(s)||s&&!i.$eval(s)||t()},f=++h;r?(e(r,!0).then((function(e){if(!i.$$destroyed&&f===h){var t=i.$new();l.template=e;var s=u(t,(function(e){g(),n.enter(e,null,o).then(c)}));p=s,(d=t).$emit("$includeContentLoaded",r),i.$eval(a)}}),(function(){i.$$destroyed||f===h&&(g(),i.$emit("$includeContentError",r))})),i.$emit("$includeContentRequested",r)):(g(),l.template=null)}))}}}}],ar=["$compile",function(e){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,i,o,r){if(/SVG/.test(i[0].toString()))return i.empty(),void e(ot(r.template,t).childNodes)(n,(function(e){i.append(e)}),{futureParentElement:i});i.html(r.template),e(i.contents())(n)}}}],sr=vo({priority:450,compile:function(){return{pre:function(e,t,n){e.$eval(n.ngInit)}}}}),cr=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(e,t,i,o){var r=t.attr(i.$attr.ngList)||", ",a="false"!==i.ngTrim,s=a?Q(r):r;o.$parsers.push((function(e){if(!I(e)){var t=[];return e&&w(e.split(s),(function(e){e&&t.push(a?Q(e):e)})),t}})),o.$formatters.push((function(e){return W(e)?e.join(r):n})),o.$isEmpty=function(e){return!e||!e.length}}}},lr="ng-valid",ur="ng-invalid",dr="ng-pristine",fr="ng-dirty",pr="ng-untouched",hr="ng-touched",gr="ng-pending",mr=i("ngModel"),vr=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(e,t,i,o,r,a,s,c,l,u){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=n,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=n,this.$name=u(i.name||"",!1)(e),this.$$parentForm=bo;var d,f=r(i.ngModel),p=f.assign,h=f,g=p,m=null,v=this;this.$$setOptions=function(e){if(v.$options=e,e&&e.getterSetter){var t=r(i.ngModel+"()"),n=r(i.ngModel+"($$$p)");h=function(e){var n=f(e);return z(n)&&(n=t(e)),n},g=function(e,t){z(f(e))?n(e,{$$$p:v.$modelValue}):p(e,v.$modelValue)}}else if(!f.assign)throw mr("nonassign","Expression '{0}' is non-assignable. Element: {1}",i.ngModel,ye(o))},this.$render=A,this.$isEmpty=function(e){return I(e)||""===e||null===e||e!==e};var y=0;Sr({ctrl:this,$element:o,set:function(e,t){e[t]=!0},unset:function(e,t){delete e[t]},$animate:a}),this.$setPristine=function(){v.$dirty=!1,v.$pristine=!0,a.removeClass(o,fr),a.addClass(o,dr)},this.$setDirty=function(){v.$dirty=!0,v.$pristine=!1,a.removeClass(o,dr),a.addClass(o,fr),v.$$parentForm.$setDirty()},this.$setUntouched=function(){v.$touched=!1,v.$untouched=!0,a.setClass(o,pr,hr)},this.$setTouched=function(){v.$touched=!0,v.$untouched=!1,a.setClass(o,hr,pr)},this.$rollbackViewValue=function(){s.cancel(m),v.$viewValue=v.$$lastCommittedViewValue,v.$render()},this.$validate=function(){if(!U(v.$modelValue)||!isNaN(v.$modelValue)){var e=v.$$lastCommittedViewValue,t=v.$$rawModelValue,i=v.$valid,o=v.$modelValue,r=v.$options&&v.$options.allowInvalid;v.$$runValidators(t,e,(function(e){r||i===e||(v.$modelValue=e?t:n,v.$modelValue!==o&&v.$$writeModelToScope())}))}},this.$$runValidators=function(e,t,i){var o,r,a=++y;(function(){var e=v.$$parserName||"parse";if(!I(d))return d||(w(v.$validators,(function(e,t){s(t,null)})),w(v.$asyncValidators,(function(e,t){s(t,null)}))),s(e,d),d;s(e,null);return!0})()?!function(){var n=!0;if(w(v.$validators,(function(i,o){var r=i(e,t);n=n&&r,s(o,r)})),!n)return w(v.$asyncValidators,(function(e,t){s(t,null)})),!1;return!0}()?c(!1):(o=[],r=!0,w(v.$asyncValidators,(function(i,a){var c=i(e,t);if(!X(c))throw mr("nopromise","Expected asynchronous validator to return a promise but got '{0}' instead.",c);s(a,n),o.push(c.then((function(){s(a,!0)}),(function(e){r=!1,s(a,!1)})))})),o.length?l.all(o).then((function(){c(r)}),A):c(!0)):c(!1);function s(e,t){a===y&&v.$setValidity(e,t)}function c(e){a===y&&i(e)}},this.$commitViewValue=function(){var e=v.$viewValue;s.cancel(m),(v.$$lastCommittedViewValue!==e||""===e&&v.$$hasNativeValidators)&&(v.$$lastCommittedViewValue=e,v.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){var t=v.$$lastCommittedViewValue;if(d=!I(t)||n)for(var i=0;i<v.$parsers.length;i++)if(I(t=v.$parsers[i](t))){d=!1;break}U(v.$modelValue)&&isNaN(v.$modelValue)&&(v.$modelValue=h(e));var o=v.$modelValue,r=v.$options&&v.$options.allowInvalid;function a(){v.$modelValue!==o&&v.$$writeModelToScope()}v.$$rawModelValue=t,r&&(v.$modelValue=t,a()),v.$$runValidators(t,v.$$lastCommittedViewValue,(function(e){r||(v.$modelValue=e?t:n,a())}))},this.$$writeModelToScope=function(){g(e,v.$modelValue),w(v.$viewChangeListeners,(function(e){try{e()}catch(n){t(n)}}))},this.$setViewValue=function(e,t){v.$viewValue=e,v.$options&&!v.$options.updateOnDefault||v.$$debounceViewValueCommit(t)},this.$$debounceViewValueCommit=function(t){var n,i=0,o=v.$options;o&&j(o.debounce)&&(U(n=o.debounce)?i=n:U(n[t])?i=n[t]:U(n.default)&&(i=n.default)),s.cancel(m),i?m=s((function(){v.$commitViewValue()}),i):c.$$phase?v.$commitViewValue():e.$apply((function(){v.$commitViewValue()}))},e.$watch((function(){var t=h(e);if(t!==v.$modelValue&&(v.$modelValue===v.$modelValue||t===t)){v.$modelValue=v.$$rawModelValue=t,d=n;for(var i=v.$formatters,o=i.length,r=t;o--;)r=i[o](r);v.$viewValue!==r&&(v.$viewValue=v.$$lastCommittedViewValue=r,v.$render(),v.$$runValidators(t,r,A))}return t}))}],yr=["$rootScope",function(e){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:vr,priority:1,compile:function(t){return t.addClass(dr).addClass(pr).addClass(lr),{pre:function(e,t,n,i){var o=i[0],r=i[1]||o.$$parentForm;o.$$setOptions(i[2]&&i[2].$options),r.$addControl(o),n.$observe("name",(function(e){o.$name!==e&&o.$$parentForm.$$renameControl(o,e)})),e.$on("$destroy",(function(){o.$$parentForm.$removeControl(o)}))},post:function(t,n,i,o){var r=o[0];r.$options&&r.$options.updateOn&&n.on(r.$options.updateOn,(function(e){r.$$debounceViewValueCommit(e&&e.type)})),n.on("blur",(function(n){r.$touched||(e.$$phase?t.$evalAsync(r.$setTouched):t.$apply(r.$setTouched))}))}}}}}],_r=/(\s+|^)default(\s+|$)/,br=function(){return{restrict:"A",controller:["$scope","$attrs",function(e,t){var n=this;this.$options=oe(e.$eval(t.ngModelOptions)),j(this.$options.updateOn)?(this.$options.updateOnDefault=!1,this.$options.updateOn=Q(this.$options.updateOn.replace(_r,(function(){return n.$options.updateOnDefault=!0," "})))):this.$options.updateOnDefault=!0}]}};function Sr(e){var t=e.ctrl,i=e.$element,o={},r=e.set,a=e.unset,s=e.$animate;function c(e,t){t&&!o[e]?(s.addClass(i,e),o[e]=!0):!t&&o[e]&&(s.removeClass(i,e),o[e]=!1)}function l(e,t){e=e?"-"+Pe(e,"-"):"",c(lr+e,!0===t),c(ur+e,!1===t)}o["ng-invalid"]=!(o[lr]=i.hasClass(lr)),t.$setValidity=function(e,i,o){I(i)?function(e,n,i){t[e]||(t[e]={});r(t[e],n,i)}("$pending",e,o):function(e,i,o){t[e]&&a(t[e],i,o);wr(t[e])&&(t[e]=n)}("$pending",e,o);K(i)?i?(a(t.$error,e,o),r(t.$$success,e,o)):(r(t.$error,e,o),a(t.$$success,e,o)):(a(t.$error,e,o),a(t.$$success,e,o));t.$pending?(c(gr,!0),t.$valid=t.$invalid=n,l("",null)):(c(gr,!1),t.$valid=wr(t.$error),t.$invalid=!t.$valid,l("",t.$valid));var s;s=t.$pending&&t.$pending[e]?n:!t.$error[e]&&(!!t.$$success[e]||null);l(e,s),t.$$parentForm.$setValidity(e,s,t)}}function wr(e){if(e)for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}var $r=vo({terminal:!0,priority:1e3}),Cr=i("ngOptions"),Fr=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,Er=["$compile","$parse",function(e,n){var i=t.createElement("option"),o=t.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","?ngModel"],link:{pre:function(e,t,n,i){i[0].registerOption=A},post:function(t,r,s,c){var l=c[1];if(l){for(var d,f=c[0],p=s.multiple,h=0,g=r.children(),m=g.length;h<m;h++)if(""===g[h].value){d=g.eq(h);break}var v,y=!!d,b=u(i.cloneNode(!1));b.val("?");var $=function(e,t,i){var o=e.match(Fr);if(!o)throw Cr("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",e,ye(t));var r=o[5]||o[7],a=o[6],s=/ as /.test(o[0])&&o[1],c=o[9],l=n(o[2]?o[1]:r),u=s&&n(s)||l,d=c&&n(c),f=c?function(e,t){return d(i,t)}:function(e){return Pt(e)},p=function(e,t){return f(e,b(e,t))},h=n(o[2]||o[1]),g=n(o[3]||""),m=n(o[4]||""),v=n(o[8]),y={},b=a?function(e,t){return y[a]=t,y[r]=e,y}:function(e){return y[r]=e,y};function w(e,t,n,i,o){this.selectValue=e,this.viewValue=t,this.label=n,this.group=i,this.disabled=o}function $(e){var t;if(!a&&S(e))t=e;else for(var n in t=[],e)e.hasOwnProperty(n)&&"$"!==n.charAt(0)&&t.push(n);return t}return{trackBy:c,getTrackByValue:p,getWatchables:n(v,(function(e){for(var t=[],n=$(e=e||[]),r=n.length,a=0;a<r;a++){var s=e===n?a:n[a],c=(e[s],b(e[s],s)),l=f(e[s],c);if(t.push(l),o[2]||o[1]){var u=h(i,c);t.push(u)}if(o[4]){var d=m(i,c);t.push(d)}}return t})),getOptions:function(){for(var e=[],t={},n=v(i)||[],o=$(n),r=o.length,a=0;a<r;a++){var s=n===o?a:o[a],l=n[s],d=b(l,s),y=u(i,d),S=f(y,d),C=new w(S,y,h(i,d),g(i,d),m(i,d));e.push(C),t[S]=C}return{items:e,selectValueMap:t,getOptionFromViewValue:function(e){return t[p(e)]},getViewValueFromOption:function(e){return c?_.copy(e.viewValue):e.viewValue}}}}}(s.ngOptions,r,t),C=function(){y||d.remove()},F=function(){b.remove()};p?(l.$isEmpty=function(e){return!e||0===e.length},f.writeValue=function(e){v.items.forEach((function(e){e.element.selected=!1})),e&&e.forEach((function(e){var t=v.getOptionFromViewValue(e);t&&!t.disabled&&(t.element.selected=!0)}))},f.readValue=function(){var e=r.val()||[],t=[];return w(e,(function(e){var n=v.selectValueMap[e];n&&!n.disabled&&t.push(v.getViewValueFromOption(n))})),t},$.trackBy&&t.$watchCollection((function(){if(W(l.$viewValue))return l.$viewValue.map((function(e){return $.getTrackByValue(e)}))}),(function(){l.$render()}))):(f.writeValue=function(e){var t=v.getOptionFromViewValue(e);t&&!t.disabled?(r[0].value!==t.selectValue&&(F(),C(),r[0].value=t.selectValue,t.element.selected=!0),t.element.setAttribute("selected","selected")):null===e||y?(F(),y||r.prepend(d),r.val(""),d.prop("selected",!0),d.attr("selected",!0)):(C(),r.prepend(b),r.val("?"),b.prop("selected",!0),b.attr("selected",!0))},f.readValue=function(){var e=v.selectValueMap[r.val()];return e&&!e.disabled?(C(),F(),v.getViewValueFromOption(e)):null},$.trackBy&&t.$watch((function(){return $.getTrackByValue(l.$viewValue)}),(function(){l.$render()}))),y?(d.remove(),e(d)(t),d.removeClass("ng-scope")):d=u(i.cloneNode(!1)),T(),t.$watchCollection($.getWatchables,T)}function E(e,t){e.element=t,t.disabled=e.disabled,e.label!==t.label&&(t.label=e.label,t.textContent=e.label),e.value!==t.value&&(t.value=e.selectValue)}function x(e,t,n,i){var o;return t&&a(t.nodeName)===n?o=t:(o=i.cloneNode(!1),t?e.insertBefore(o,t):e.appendChild(o)),o}function k(e){for(var t;e;)t=e.nextSibling,St(e),e=t}function T(){var e=v&&f.readValue();v=$.getOptions();var t={},n=r[0].firstChild;if(y&&r.prepend(d),n=function(e){var t=d&&d[0],n=b&&b[0];if(t||n)for(;e&&(e===t||e===n||8===e.nodeType||"option"===ne(e)&&""===e.value);)e=e.nextSibling;return e}(n),v.items.forEach((function(e){var a,s,c;e.group?((a=t[e.group])||(s=x(r[0],n,"optgroup",o),n=s.nextSibling,s.label=e.group,a=t[e.group]={groupElement:s,currentOptionElement:s.firstChild}),E(e,c=x(a.groupElement,a.currentOptionElement,"option",i)),a.currentOptionElement=c.nextSibling):(E(e,c=x(r[0],n,"option",i)),n=c.nextSibling)})),Object.keys(t).forEach((function(e){k(t[e].currentOptionElement)})),k(n),l.$render(),!l.$isEmpty(e)){var a=f.readValue();($.trackBy||p?ae(e,a):e===a)||(l.$setViewValue(a),l.$render())}}}}}}],xr=["$locale","$interpolate","$log",function(e,t,n){var i=/{}/g,o=/^when(Minus)?(.+)$/;return{link:function(r,s,c){var l,u=c.count,d=c.$attr.when&&s.attr(c.$attr.when),f=c.offset||0,p=r.$eval(d)||{},h={},g=t.startSymbol(),m=t.endSymbol(),v=g+u+"-"+f+m,y=_.noop;function b(e){s.text(e||"")}w(c,(function(e,t){var n=o.exec(t);if(n){var i=(n[1]?"-":"")+a(n[2]);p[i]=s.attr(c.$attr[t])}})),w(p,(function(e,n){h[n]=t(e.replace(i,v))})),r.$watch(u,(function(t){var i=parseFloat(t),o=isNaN(i);if(o||i in p||(i=e.pluralCat(i-f)),i!==l&&!(o&&U(l)&&isNaN(l))){y();var a=h[i];I(a)?(null!=t&&n.debug("ngPluralize: no rule defined for '"+i+"' in "+d),y=A,b()):y=r.$watch(a,b),l=i}}))}}}],kr=["$parse","$animate",function(e,o){var r="$$NG_REMOVED",a=i("ngRepeat"),c=function(e,t,n,i,o,r,a){e[n]=i,o&&(e[o]=r),e.$index=t,e.$first=0===t,e.$last=t===a-1,e.$middle=!(e.$first||e.$last),e.$odd=!(e.$even=0===(1&t))},l=function(e){return e.clone[0]},u=function(e){return e.clone[e.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(i,d){var f=d.ngRepeat,p=t.createComment(" end ngRepeat: "+f+" "),h=f.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!h)throw a("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",f);var g=h[1],m=h[2],v=h[3],y=h[4];if(!(h=g.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/)))throw a("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",g);var _,b,$,C,F=h[3]||h[1],E=h[2];if(v&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(v)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(v)))throw a("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",v);var x={$id:Pt};return y?_=e(y):($=function(e,t){return Pt(t)},C=function(e){return e}),function(e,t,i,d,h){_&&(b=function(t,n,i){return E&&(x[E]=t),x[F]=n,x.$index=i,_(e,x)});var g=Re();e.$watchCollection(m,(function(i){var d,m,y,_,x,k,T,P,M,A,D,L,N=t[0],I=Re();if(v&&(e[v]=i),S(i))M=i,P=b||$;else for(var j in P=b||C,M=[],i)s.call(i,j)&&"$"!==j.charAt(0)&&M.push(j);for(_=M.length,D=new Array(_),d=0;d<_;d++)if(x=i===M?d:M[d],k=i[x],T=P(x,k,d),g[T])A=g[T],delete g[T],I[T]=A,D[d]=A;else{if(I[T])throw w(D,(function(e){e&&e.scope&&(g[e.id]=e)})),a("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",f,T,k);D[d]={id:T,scope:n,clone:n},I[T]=!0}for(var R in g){if(L=je((A=g[R]).clone),o.leave(L),L[0].parentNode)for(d=0,m=L.length;d<m;d++)L[d][r]=!0;A.scope.$destroy()}for(d=0;d<_;d++)if(x=i===M?d:M[d],k=i[x],(A=D[d]).scope){y=N;do{y=y.nextSibling}while(y&&y[r]);l(A)!=y&&o.move(je(A.clone),null,N),N=u(A),c(A.scope,d,F,k,E,x,_)}else h((function(e,t){A.scope=t;var n=p.cloneNode(!1);e[e.length++]=n,o.enter(e,null,N),N=n,A.clone=e,I[A.id]=A,c(A.scope,d,F,k,E,x,_)}));g=I}))}}}}],Tr="ng-hide",Pr="ng-hide-animate",Mr=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,i){t.$watch(i.ngShow,(function(t){e[t?"removeClass":"addClass"](n,Tr,{tempClasses:Pr})}))}}}],Ar=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,i){t.$watch(i.ngHide,(function(t){e[t?"addClass":"removeClass"](n,Tr,{tempClasses:Pr})}))}}}],Dr=vo((function(e,t,n){e.$watch(n.ngStyle,(function(e,n){n&&e!==n&&w(n,(function(e,n){t.css(n,"")})),e&&t.css(e)}),!0)})),Lr=["$animate",function(e){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,i,o,r){var a=o.ngSwitch||o.on,s=[],c=[],l=[],u=[],d=function(e,t){return function(){e.splice(t,1)}};n.$watch(a,(function(n){var i,o;for(i=0,o=l.length;i<o;++i)e.cancel(l[i]);for(l.length=0,i=0,o=u.length;i<o;++i){var a=je(c[i].clone);u[i].$destroy(),(l[i]=e.leave(a)).then(d(l,i))}c.length=0,u.length=0,(s=r.cases["!"+n]||r.cases["?"])&&w(s,(function(n){n.transclude((function(i,o){u.push(o);var r=n.element;i[i.length++]=t.createComment(" end ngSwitchWhen: ");var a={clone:i};c.push(a),e.enter(i,r.parent(),r)}))}))}))}}}],Nr=vo({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,i,o){i.cases["!"+n.ngSwitchWhen]=i.cases["!"+n.ngSwitchWhen]||[],i.cases["!"+n.ngSwitchWhen].push({transclude:o,element:t})}}),Ir=vo({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,i,o){i.cases["?"]=i.cases["?"]||[],i.cases["?"].push({transclude:o,element:t})}}),jr=vo({restrict:"EAC",link:function(e,t,n,o,r){if(!r)throw i("ngTransclude")("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",ye(t));r((function(e){t.empty(),t.append(e)}))}}),Rr=["$templateCache",function(e){return{restrict:"E",terminal:!0,compile:function(t,n){if("text/ng-template"==n.type){var i=n.id,o=t[0].text;e.put(i,o)}}}}],Or={$setViewValue:A,$render:A};var Vr=["$element","$scope","$attrs",function(e,i,o){var r=this,a=new Mt;r.ngModelCtrl=Or,r.unknownOption=u(t.createElement("option")),r.renderUnknownOption=function(t){var n="? "+Pt(t)+" ?";r.unknownOption.val(n),e.prepend(r.unknownOption),e.val(n)},i.$on("$destroy",(function(){r.renderUnknownOption=A})),r.removeUnknownOption=function(){r.unknownOption.parent()&&r.unknownOption.remove()},r.readValue=function(){return r.removeUnknownOption(),e.val()},r.writeValue=function(t){r.hasOption(t)?(r.removeUnknownOption(),e.val(t),""===t&&r.emptyOption.prop("selected",!0)):null==t&&r.emptyOption?(r.removeUnknownOption(),e.val("")):r.renderUnknownOption(t)},r.addOption=function(e,t){if(8!==t[0].nodeType){Ne(e,'"option value"'),""===e&&(r.emptyOption=t);var n,i=a.get(e)||0;a.put(e,i+1),r.ngModelCtrl.$render(),(n=t)[0].hasAttribute("selected")&&(n[0].selected=!0)}},r.removeOption=function(e){var t=a.get(e);t&&(1===t?(a.remove(e),""===e&&(r.emptyOption=n)):a.put(e,t-1))},r.hasOption=function(e){return!!a.get(e)},r.registerOption=function(e,t,n,i,o){var a;i?n.$observe("value",(function(e){j(a)&&r.removeOption(a),a=e,r.addOption(e,t)})):o?e.$watch(o,(function(e,i){n.$set("value",e),i!==e&&r.removeOption(i),r.addOption(e,t)})):r.addOption(n.value,t);t.on("$destroy",(function(){r.removeOption(n.value),r.ngModelCtrl.$render()}))}}],Ur=function(){return{restrict:"E",require:["select","?ngModel"],controller:Vr,priority:1,link:{pre:function(e,t,n,i){var o=i[1];if(!o)return;var r=i[0];if(r.ngModelCtrl=o,t.on("change",(function(){e.$apply((function(){o.$setViewValue(r.readValue())}))})),n.multiple){r.readValue=function(){var e=[];return w(t.find("option"),(function(t){t.selected&&e.push(t.value)})),e},r.writeValue=function(e){var n=new Mt(e);w(t.find("option"),(function(e){e.selected=j(n.get(e.value))}))};var a,s=NaN;e.$watch((function(){s!==o.$viewValue||ae(a,o.$viewValue)||(a=re(o.$viewValue),o.$render()),s=o.$viewValue})),o.$isEmpty=function(e){return!e||0===e.length}}},post:function(e,t,n,i){var o=i[1];if(!o)return;var r=i[0];o.$render=function(){r.writeValue(o.$viewValue)}}}}},Br=["$interpolate",function(e){return{restrict:"E",priority:100,compile:function(t,n){if(j(n.value))var i=e(n.value,!0);else{var o=e(t.text(),!0);o||n.$set("value",t.text())}return function(e,t,n){var r="$selectController",a=t.parent(),s=a.data(r)||a.parent().data(r);s&&s.registerOption(e,t,n,i,o)}}}}],Wr=L({restrict:"E",terminal:!1}),zr=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,i){i&&(n.required=!0,i.$validators.required=function(e,t){return!n.required||!i.$isEmpty(t)},n.$observe("required",(function(){i.$validate()})))}}},Hr=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,o,r){if(r){var a,s=o.ngPattern||o.pattern;o.$observe("pattern",(function(e){if(V(e)&&e.length>0&&(e=new RegExp("^"+e+"$")),e&&!e.test)throw i("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",s,e,ye(t));a=e||n,r.$validate()})),r.$validators.pattern=function(e,t){return r.$isEmpty(t)||I(a)||a.test(t)}}}}},qr=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,i){if(i){var o=-1;n.$observe("maxlength",(function(e){var t=P(e);o=isNaN(t)?-1:t,i.$validate()})),i.$validators.maxlength=function(e,t){return o<0||i.$isEmpty(t)||t.length<=o}}}}},Gr=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,i){if(i){var o=0;n.$observe("minlength",(function(e){o=P(e)||0,i.$validate()})),i.$validators.minlength=function(e,t){return i.$isEmpty(t)||t.length>=o}}}}};e.angular.bootstrap?e.console&&console.log("WARNING: Tried to load angular more than once."):(!function(){var t;if(!Ae){var i=ce();(d=I(i)?e.jQuery:i?e[i]:n)&&d.fn.on?(u=d,k(d.fn,{scope:wt.scope,isolateScope:wt.isolateScope,controller:wt.controller,injector:wt.injector,inheritedData:wt.inheritedData}),t=d.cleanData,d.cleanData=function(e){var n;if(Me)Me=!1;else for(var i,o=0;null!=(i=e[o]);o++)(n=d._data(i,"events"))&&n.$destroy&&d(i).triggerHandler("$destroy");t(e)}):u=st,_.element=u,Ae=!0}}(),function(t){k(t,{bootstrap:Ee,copy:oe,extend:k,merge:T,equals:ae,element:u,forEach:w,injector:Rt,noop:A,bind:de,toJson:pe,fromJson:he,identity:D,isUndefined:I,isDefined:j,isString:V,isFunction:z,isObject:R,isNumber:U,isElement:te,isArray:W,version:Ue,isDate:B,lowercase:a,uppercase:c,callbacks:{counter:0},getTestability:ke,$$minErr:i,$$csp:se,reloadWithDebugInfo:xe}),f=function(e){var t=i("$injector"),n=i("ng");function o(e,t,n){return e[t]||(e[t]=n())}var r=o(e,"angular",Object);return r.$$minErr=r.$$minErr||i,o(r,"module",(function(){var e={};return function(i,r,a){return function(e,t){if("hasOwnProperty"===e)throw n("badname","hasOwnProperty is not a valid {0} name","module")}(i),r&&e.hasOwnProperty(i)&&(e[i]=null),o(e,i,(function(){if(!r)throw t("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",i);var e=[],n=[],o=[],s=l("$injector","invoke","push",n),c={_invokeQueue:e,_configBlocks:n,_runBlocks:o,requires:r,name:i,provider:u("$provide","provider"),factory:u("$provide","factory"),service:u("$provide","service"),value:l("$provide","value"),constant:l("$provide","constant","unshift"),decorator:u("$provide","decorator"),animation:u("$animateProvider","register"),filter:u("$filterProvider","register"),controller:u("$controllerProvider","register"),directive:u("$compileProvider","directive"),config:s,run:function(e){return o.push(e),this}};return a&&s(a),c;function l(t,n,i,o){return o||(o=e),function(){return o[i||"push"]([t,n,arguments]),c}}function u(t,n){return function(o,r){return r&&z(r)&&(r.$$moduleName=i),e.push([t,n,arguments]),c}}}))}}))}(e),f("ng",["ngLocale"],["$provide",function(e){e.provider({$$sanitizeUri:Mi}),e.provider("$compile",tn).directive({a:yo,input:Wo,textarea:Wo,form:Co,script:Rr,select:Ur,style:Wr,option:Br,ngBind:qo,ngBindHtml:Zo,ngBindTemplate:Go,ngClass:Yo,ngClassEven:Qo,ngClassOdd:Jo,ngCloak:er,ngController:tr,ngForm:Fo,ngHide:Ar,ngIf:or,ngInclude:rr,ngInit:sr,ngNonBindable:$r,ngPluralize:xr,ngRepeat:kr,ngShow:Mr,ngStyle:Dr,ngSwitch:Lr,ngSwitchWhen:Nr,ngSwitchDefault:Ir,ngOptions:Er,ngTransclude:jr,ngModel:yr,ngList:cr,ngChange:Ko,pattern:Hr,ngPattern:Hr,required:zr,ngRequired:zr,minlength:Gr,ngMinlength:Gr,maxlength:qr,ngMaxlength:qr,ngValue:Ho,ngModelOptions:br}).directive({ngInclude:ar}).directive(_o).directive(nr),e.provider({$anchorScroll:Ot,$animate:qt,$animateCss:Kt,$$animateJs:zt,$$animateQueue:Ht,$$AnimateRunner:Zt,$$animateAsyncRun:Gt,$browser:Yt,$cacheFactory:Jt,$controller:ln,$document:un,$exceptionHandler:dn,$filter:Zi,$$forceReflow:fn,$interpolate:An,$interval:Dn,$http:kn,$httpParamSerializer:Sn,$httpParamSerializerJQLike:wn,$httpBackend:Pn,$xhrFactory:Tn,$location:Kn,$log:Xn,$parse:Fi,$rootScope:Pi,$q:Ei,$$q:xi,$sce:Ii,$sceDelegate:Ni,$sniffer:ji,$templateCache:Qt,$templateRequest:Ri,$$testability:Oi,$timeout:Vi,$window:Hi,$$rAF:Ti,$$jqLite:Tt,$$HashMap:At,$$cookieReader:Gi})}])}(_),_.module("ngLocale",[],["$provide",function(e){var t="one",i="other";e.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],STANDALONEMONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a",short:"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-\xa4",negSuf:"",posPre:"\xa4",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(e,o){var r=0|e,a=function(e,t){var i=t;n===i&&(i=Math.min(function(e){var t=(e+="").indexOf(".");return-1==t?0:e.length-t-1}(e),3));var o=Math.pow(10,i);return{v:i,f:(e*o|0)%o}}(e,o);return 1==r&&0==a.v?t:i}})}]),u(t).ready((function(){Fe(t,Ee)})))}(window,document),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>')},18:function(e,t,n){n(175),e.exports=angular},189:function(e,t,n){e.exports=function(){function e(e){if(this.data={},this.size=0,"string"===typeof e)for(var t=0;t<e.length;t+=1){var n=e.charCodeAt(t);if(55296===(63488&n)&&t<e.length){var i=e.charCodeAt(t+1);56320===(64512&i)?this.add(((1023&n)<<10)+(1023&i)+65536):this.add(n),t+=1}else this.add(n)}else if("number"===typeof e)this.add(e);else if(Array.isArray(e))for(e=this.expandRange(e),t=0;t<e.length;t+=1)this.add(e[t])}return e.Range,e.prototype.getSize=function(){return this.size},e.prototype.expandRange=function(e){for(var t=[],n=0;n<e.length;n+=1)if(Array.isArray(e[n]))for(var i=e[n][0];i<e[n][1]+1;i+=1)t.push(i);else t.push(e[n]);return t},e.prototype.compressRange=function(e){for(var t=[],n=0;n<e.length;n+=1){var i=n>0?e[n-1]:null,o=n<e.length-1?e[n+1]:null,r=e[n];(r-1===i&&null!==i||r+1===o&&null!==o)&&(r-1===i&&null!==i||r+1!==o&&null!==o)?r-1!==i&&null!==i||r+1===o&&null!==o||(r-t[t.length-1]>1?t[t.length-1]=[t[t.length-1],r]:t.push(r)):t.push(r)}return t},e.prototype.toArray=function(){var e=[];for(var t in this.data)this.data.hasOwnProperty(t)&&!0===this.data[t]&&e.push(parseInt(t,10));return e.sort((function(e,t){return e-t})),e},e.prototype.toRange=function(){return this.compressRange(this.toArray())},e.prototype.isEmpty=function(){return 0===this.size},e.prototype.add=function(e){for(var t=0;t<arguments.length;t+=1){var n=arguments[t];!0!==this.data[n]&&(this.data[n]=!0,this.size+=1)}},e.prototype.remove=function(e){for(var t=0;t<arguments.length;t+=1){var n=arguments[t];!0===this.data[n]&&(this.data[n]=!1,this.size-=1)}},e.prototype.contains=function(e){return!0===this.data[e]},e.prototype.equals=function(e){var t=this.toArray();if(this.getSize()===e.getSize()){for(var n=0;n<t.length;n+=1)if(!e.contains(t[n]))return!1;return!0}return!1},e.prototype.union=function(t){return new e(this.toArray().concat(t.toArray()))},e.prototype.intersect=function(t){for(var n=new e,i=this.toArray(),o=0;o<i.length;o+=1)t.contains(i[o])&&n.add(i[o]);return n},e.prototype.difference=function(t){for(var n=new e,i=this.toArray(),o=0;o<i.length;o+=1)t.contains(i[o])||n.add(i[o]);return n},e.prototype.subset=function(e){for(var t=this.toArray(),n=0;n<t.length;n+=1)if(!e.contains(t[n]))return!1;return!0},e.prototype.extractHighSurrogate=function(e){return Math.floor((e-65536)/1024)+55296},e.prototype.extractLowSurrogate=function(e){return(e-65536)%1024+56320},e.prototype.encodeCodePoint=function(e){return e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57?String.fromCharCode(e):e<=65535?"\\u"+(e+65536).toString(16).substr(-4).toUpperCase():this.encodeCodePoint(this.extractHighSurrogate(e))+this.encodeCodePoint(this.extractLowSurrogate(e))},e.prototype.toRegExp=function(){for(var t=this.toArray(),n=new e,i=new e,o={},r={},a=[],s=0;s<t.length;s+=1)if(t[s]>=884736&&t[s]<=56319)i.add(t[s]);else if(t[s]<=65535)n.add(t[s]);else{var c=this.extractHighSurrogate(t[s]),l=this.extractLowSurrogate(t[s]);o.hasOwnProperty(c)||(o[c]=new e),o[c].add(l)}for(var c in o){var u=o[c].toRangeString();r.hasOwnProperty(u)||(r[u]=new e),r[u].add(parseInt(c,10))}for(var d in n.isEmpty()||a.push(n.toRangeString()),r){var f=r[d];a.push(f.toRangeString()+d)}return i.isEmpty()||a.push(i.toRangeString()),a.join("|")},e.prototype.toRangeString=function(){var e=!1,t=this.toRange().map((function(t){return Array.isArray(t)?(e=!0,this.encodeCodePoint(t[0])+"-"+this.encodeCodePoint(t[1])):this.encodeCodePoint(t)}),this);return 0===t.length?"":1!==t.length||e?"["+t.join("")+"]":t[0]},e.prototype.toHexString=function(){return this.toArray().map((function(e){return"U+"+e.toString(16).toUpperCase()})).join(",")},e.prototype.toHexRangeString=function(){return this.toRange().map((function(e){return Array.isArray(e)?"U+"+e[0].toString(16).toUpperCase()+"-"+e[1].toString(16).toUpperCase():"U+"+e.toString(16).toUpperCase()})).join(",")},e.prototype.toString=function(){return this.toArray().map(this.encodeCodePoint.bind(this)).join("")},e.parseUnicodeRange=function(t){for(var n=t.split(/\s*,\s*/),i=new e,o=0;o<n.length;o++){var r=/^(u\+([0-9a-f?]{1,6})(?:-([0-9a-f]{1,6}))?)$/i.exec(n[o]),a=null,s=null;if(r)if(-1!==r[2].indexOf("?")?(a=parseInt(r[2].replace("?","0"),16),s=parseInt(r[2].replace("?","f"),16)):(a=parseInt(r[2],16),s=r[3]?parseInt(r[3],16):a),a!==s)for(var c=a;c<=s;c++)i.add(c);else i.add(a)}return i},e}()},190:function(e,t,n){var i=n(6),o=["normal","italic","oblique"],r={normal:["normal","italic","oblique"],italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"]};function a(e){if(e){var t=100*parseInt(e.slice(1));return isNaN(t)?null:t}return null}function s(e){return e?i.detect(o,(function(t){return t.slice(0,1)==e.slice(0,1)})):null}function c(e,t){return i.filter(t,(function(t){return a(t)==e}))}function l(e,t){if(!e||!t.length)return null;var n=a(e),o=s(e),c={};i.each(t,(function(e){var t=a(e),n=s(e);c[t]||(c[t]={}),c[t][n]=e}),this);for(var l=n,u=n>=500?1:-1,d=1;d<20&&!c[l];)l+=d*u*100,u*=-1,d+=1;for(var f=r[o]||[],p=0,h=f.length;p<h;p++){var g=c[l][f[p]];if(g)return g}return null}function u(e,t){var n=a(e),r=a(t);if(n&&r){if(n!=r)return n-r;var c=s(e),l=s(t);if(c&&l)return i.indexOf(o,c)-i.indexOf(o,l)}return 0}e.exports={compareFvds:u,findClosestFvd:l,findClosestToBasicFour:function(e){var t=[];return i.each(["n4","n7"],(function(n){var i=l(n,e);if(i){var o=a(i);t=t.concat(c(o,e))}})),i.uniq(t)},findFvdsWithWeight:c,getFontStyleFromFvd:s,getFontWeightFromFvd:a,sortFvds:function(e){return e.slice(0).sort(u)}}},191:function(e,t){function n(e,t){this._isDynamic=e,this._projectEmbedDetails=t}n.$inject=["isDynamic","projectEmbedDetails"],n.prototype.getIsDynamic=function(){return this._isDynamic},n.prototype.getProjectEmbedDetails=function(){return this._projectEmbedDetails},e.exports=n},197:function(e,t){function n(e,t){var n=this;n.$window=e,n.I18nService=t,n.I18nService.getLocaleInfo().then((function(e){n.locales=e.allLocales,n.selectedLocale=e.selectedLocale}))}n.$inject=["$window","I18nService"],n.prototype.handleLocaleChangeClick=function(e){this._setLocale(e)},n.prototype.handleLocaleSwitcherChange=function(){this._setLocale(this.selectedLocale)},n.prototype._setLocale=function(e){var t=this;t.I18nService.setLocale(e).then((function(){t.$window.location.reload(!0)}))},e.exports=n},198:function(e,t,n){var i=n(88);e.exports=function(){return{addOnReadyHandler:function(e){i.addOnReadyHandler(e)}}}},199:function(e,t){e.exports=function(){var e,t,n,i=0,o=0,r=-1;return{decrementSyncUsage:function(e){o-=e},getAdobeProfileId:function(){return t},getActivityState:function(){return e},getDaysSinceSyncActivity:function(){return r},getPlan:function(){return n||"unknown"},getSyncOverageAmount:function(){return Math.max(o-i,0)},getSyncUsage:function(e){return o+(e||0)},getSyncUsagePercentage:function(e){return i>0?Math.floor((o+(e||0))/i*100):0},getSyncLimit:function(){return i},incrementSyncUsage:function(e){o+=e},isInOverage:function(e){return o+(e||0)>i},setActivityState:function(t){e=t},setAdobeProfileId:function(e){t=e},setDaysSinceSyncActivity:function(e){r=e},setPlan:function(e){n=e},setSyncLimit:function(e){i=e}}}},201:function(e,t,n){o.$inject=["$window"];var i=n(189);function o(e){e.Typekit&&(e.Typekit.user="tk",e.Typekit.token="UWiewzNGqfaXgl50sfTX597VqiNVO+VsJvzyIM5SabTjZinSwqaidRKypEX3LMfHdBUibNmD+PCRx/5yCXr4NA==");var t={};return{updateFonts:function(e){var n=new i(e).toArray().map((function(e){return"U+"+e.toString(16)})).join(",");Object.keys(t).forEach((function(e){t[e].update(n).catch((function(){}))}))},loadFont:function(n,i,o){if(e.Typekit){if(t[n])return t[n].load();var r=t[n]=new e.Typekit.Font(n,i,o);return r.load().then((function(){e.Typekit.fonts.add(r)})).catch((function(){}))}}}}e.exports=o},205:function(e,t,n){n(206),e.exports="ngCookies"},206:function(e,t){!function(e,t,n){"use strict";function i(e,n,i){var o=i.baseHref(),r=e[0];return function(e,i,a){r.cookie=function(e,i,r){var a,s;s=(r=r||{}).expires,a=t.isDefined(r.path)?r.path:o,t.isUndefined(i)&&(s="Thu, 01 Jan 1970 00:00:00 GMT",i=""),t.isString(s)&&(s=new Date(s));var c=encodeURIComponent(e)+"="+encodeURIComponent(i);c+=a?";path="+a:"",c+=r.domain?";domain="+r.domain:"",c+=s?";expires="+s.toUTCString():"";var l=(c+=r.secure?";secure":"").length+1;return l>4096&&n.warn("Cookie '"+e+"' possibly not set or overflowed because it was too large ("+l+" > 4096 bytes)!"),c}(e,i,a)}}t.module("ngCookies",["ng"]).provider("$cookies",[function(){var e=this.defaults={};function n(n){return n?t.extend({},e,n):e}this.$get=["$$cookieReader","$$cookieWriter",function(e,i){return{get:function(t){return e()[t]},getObject:function(e){var n=this.get(e);return n?t.fromJson(n):n},getAll:function(){return e()},put:function(e,t,o){i(e,t,n(o))},putObject:function(e,n,i){this.put(e,t.toJson(n),i)},remove:function(e,t){i(e,undefined,n(t))}}}]}]),t.module("ngCookies").factory("$cookieStore",["$cookies",function(e){return{get:function(t){return e.getObject(t)},put:function(t,n){e.putObject(t,n)},remove:function(t){e.remove(t)}}}]),i.$inject=["$document","$log","$browser"],t.module("ngCookies").provider("$$cookieWriter",(function(){this.$get=i}))}(window,window.angular)},207:function(e,t){function n(e,t){!function(e){var t=document.querySelector("meta[name=csrf-token]");t&&(e.defaults.headers.common["X-CSRF-Token"]=t.getAttribute("content"));e.defaults.headers.common.Accept="application/json"}(e),function(e){e.resourceUrlWhitelist(["self","http://afwebcdn*.fonts.adobe.com/**","https://afwebcdn*.fonts.adobe.com/**"])}(t)}n.$inject=["$httpProvider","$sceDelegateProvider"],e.exports=n},208:function(e,t){i.$inject=["$rootElement","$window","DataService","FirstMileService","NewrelicService","OmnitureService","PostLoginActionProcessorService","SuspendedAccountService","UrlService"];var n=["Android","BlackBerry","IEMobile","Opera Mini","iPad","iPhone","iPod","webOS"];function i(e,t,i,o,r,a,s,c,l){i.loadDataFromTemplate(e),o.handlePageLoad(),r.init(),a.init(),s.handlePageLoad(),c.handlePageLoad(),("ontouchstart"in t||t.DocumentTouch&&t.document instanceof t.DocumentTouch||new RegExp(n.join("|"),"i").test(t.navigator.userAgent))&&e.addClass("touch-device"),l.removeSearchParam("code")}e.exports=i},209:function(e,t,n){o.$inject=["$window","DataService","FirstMileService","NotificationService","UserPrefsService"];var i=n(6);function o(e,t,n,i,o){this.DataService=t,this.FirstMileService=n,this.NotificationService=i,this.UserPrefsService=o,this.$window=e,this._preloadData()}e.exports=o,o.prototype.hasMessages=function(){return this.NotificationService.getMessages().length>0},o.prototype.handleNeutralTopNotificationClose=function(e){"standalone_subscription"===e.scriptIdentifier&&this.UserPrefsService.updatePrefs({hideStandaloneSubscriptionNotification:!0}),this.NotificationService.remove(e)},o.prototype.handleFeedbackClose=function(e){var t={};"tag"===e.category&&(t.hideTagFeedbackNotification=!0),this.NotificationService.remove(e),i.isEmpty(t)||this.UserPrefsService.updatePrefs(t)},o.prototype.latestNotices=function(){return this.NotificationService.getMessages(this.NotificationService.TYPES.NOTICE)},o.prototype.latestErrors=function(){return this.NotificationService.getMessages(this.NotificationService.TYPES.ERROR)},o.prototype.handleActionClick=function(e){this.$window.location=e},o.prototype.handleCloseClick=function(e){this.NotificationService.remove(e)},o.prototype.getMessages=function(){return this.NotificationService.getMessages()},o.prototype.getToastClass=function(e){return"neutral"===e.type?"spectrum-Toast--neutral":"font_game_banner"===e.type?"font-game-toast":void 0},o.prototype._preloadData=function(){var e=this;e.DataService.get("/notification/error").then((function(t){i.isString(t)&&(t={message:t}),e.NotificationService.error(t.message,t.options)})),e.DataService.get("/notification/notice").then((function(t){i.isString(t)&&(t={message:t}),e.NotificationService.notice(t.message,t.options)})),e.DataService.get("/notification/info").then((function(t){i.isString(t)&&(t={message:t}),e.NotificationService.notice(t.message,t.options)})),e.DataService.get("/notification/success").then((function(t){i.isString(t)&&(t={message:t}),e.NotificationService.success(t.message,t.options)})),e.DataService.get("/notification/warn").then((function(t){i.isString(t)&&(t={message:t}),e.NotificationService.warn(t.message,t.options)})),e.DataService.get("/notification/first_mile").then((function(t){if("activate"===t)return e.FirstMileService.showFontActivationDialog()})),e.DataService.get("/notification/font_game_banner").then((function(t){i.isString(t)&&(t={message:t}),e.NotificationService.font_game_banner(t.message,t.options)})),e.DataService.get("/notification/standalone_subscription").then((function(t){i.isString(t)&&(t={message:t}),e.NotificationService.neutral(t.message,t.options)}))}},210:function(e,t,n){var i=n(211),o="unknown";document.documentMode&&(o="ie"),e.exports={svgNS:"http://www.w3.org/2000/svg",xmlNS:"http://www.w3.org/XML/1998/namespace",xmlnsNS:"http://www.w3.org/2000/xmlns/",xlinkNS:"http://www.w3.org/1999/xlink",evNS:"http://www.w3.org/2001/xml-events",getBoundingClientRectNormalized:function(e){if(e.clientWidth&&e.clientHeight)return{width:e.clientWidth,height:e.clientHeight};if(e.getBoundingClientRect())return e.getBoundingClientRect();throw new Error("Cannot get BoundingClientRect for SVG.")},getOrCreateViewport:function(e,t){var n=null;if(!(n=i.isElement(t)?t:e.querySelector(t))){var o=Array.prototype.slice.call(e.childNodes||e.children).filter((function(e){return"defs"!==e.nodeName&&"#text"!==e.nodeName}));1===o.length&&"g"===o[0].nodeName&&null===o[0].getAttribute("transform")&&(n=o[0])}if(!n){var r="viewport-"+(new Date).toISOString().replace(/\D/g,"");(n=document.createElementNS(this.svgNS,"g")).setAttribute("id",r);var a=e.childNodes||e.children;if(a&&a.length>0)for(var s=a.length;s>0;s--)"defs"!==a[a.length-s].nodeName&&n.appendChild(a[a.length-s]);e.appendChild(n)}var c=[];return n.getAttribute("class")&&(c=n.getAttribute("class").split(" ")),~c.indexOf("svg-pan-zoom_viewport")||(c.push("svg-pan-zoom_viewport"),n.setAttribute("class",c.join(" "))),n},setupSvgAttributes:function(e){if(e.setAttribute("xmlns",this.svgNS),e.setAttributeNS(this.xmlnsNS,"xmlns:xlink",this.xlinkNS),e.setAttributeNS(this.xmlnsNS,"xmlns:ev",this.evNS),null!==e.parentNode){var t=e.getAttribute("style")||"";-1===t.toLowerCase().indexOf("overflow")&&e.setAttribute("style","overflow: hidden; "+t)}},internetExplorerRedisplayInterval:300,refreshDefsGlobal:i.throttle((function(){for(var e=document.querySelectorAll("defs"),t=e.length,n=0;n<t;n++){var i=e[n];i.parentNode.insertBefore(i,i)}}),this?this.internetExplorerRedisplayInterval:null),setCTM:function(e,t,n){var i=this,r="matrix("+t.a+","+t.b+","+t.c+","+t.d+","+t.e+","+t.f+")";e.setAttributeNS(null,"transform",r),"transform"in e.style?e.style.transform=r:"-ms-transform"in e.style?e.style["-ms-transform"]=r:"-webkit-transform"in e.style&&(e.style["-webkit-transform"]=r),"ie"===o&&n&&(n.parentNode.insertBefore(n,n),window.setTimeout((function(){i.refreshDefsGlobal()}),i.internetExplorerRedisplayInterval))},getEventPoint:function(e,t){var n=t.createSVGPoint();return i.mouseAndTouchNormalize(e,t),n.x=e.clientX,n.y=e.clientY,n},getSvgCenterPoint:function(e,t,n){return this.createSVGPoint(e,t/2,n/2)},createSVGPoint:function(e,t,n){var i=e.createSVGPoint();return i.x=t,i.y=n,i}}},211:function(e,t){function n(e){return function(t){window.setTimeout(t,e)}}e.exports={extend:function(e,t){for(var n in e=e||{},t)this.isObject(t[n])?e[n]=this.extend(e[n],t[n]):e[n]=t[n];return e},isElement:function(e){return e instanceof HTMLElement||e instanceof SVGElement||e instanceof SVGSVGElement||e&&"object"===typeof e&&null!==e&&1===e.nodeType&&"string"===typeof e.nodeName},isObject:function(e){return"[object Object]"===Object.prototype.toString.call(e)},isNumber:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},getSvg:function(e){var t,n;if(this.isElement(e))t=e;else{if(!("string"===typeof e||e instanceof String))throw new Error("Provided selector is not an HTML object nor String");if(!(t=document.querySelector(e)))throw new Error("Provided selector did not find any elements. Selector: "+e)}if("svg"===t.tagName.toLowerCase())n=t;else if("object"===t.tagName.toLowerCase())n=t.contentDocument.documentElement;else{if("embed"!==t.tagName.toLowerCase())throw"img"===t.tagName.toLowerCase()?new Error('Cannot script an SVG in an "img" element. Please use an "object" element or an in-line SVG.'):new Error("Cannot get SVG.");n=t.getSVGDocument().documentElement}return n},proxy:function(e,t){return function(){return e.apply(t,arguments)}},getType:function(e){return Object.prototype.toString.apply(e).replace(/^\[object\s/,"").replace(/\]$/,"")},mouseAndTouchNormalize:function(e,t){if(void 0===e.clientX||null===e.clientX)if(e.clientX=0,e.clientY=0,void 0!==e.touches&&e.touches.length){if(void 0!==e.touches[0].clientX)e.clientX=e.touches[0].clientX,e.clientY=e.touches[0].clientY;else if(void 0!==e.touches[0].pageX){var n=t.getBoundingClientRect();e.clientX=e.touches[0].pageX-n.left,e.clientY=e.touches[0].pageY-n.top}}else void 0!==e.originalEvent&&void 0!==e.originalEvent.clientX&&(e.clientX=e.originalEvent.clientX,e.clientY=e.originalEvent.clientY)},isDblClick:function(e,t){if(2===e.detail)return!0;if(void 0!==t&&null!==t){var n=e.timeStamp-t.timeStamp,i=Math.sqrt(Math.pow(e.clientX-t.clientX,2)+Math.pow(e.clientY-t.clientY,2));return n<250&&i<10}return!1},now:Date.now||function(){return(new Date).getTime()},throttle:function(e,t,n){var i,o,r,a=this,s=null,c=0;n||(n={});var l=function(){c=!1===n.leading?0:a.now(),s=null,r=e.apply(i,o),s||(i=o=null)};return function(){var u=a.now();c||!1!==n.leading||(c=u);var d=t-(u-c);return i=this,o=arguments,d<=0||d>t?(clearTimeout(s),s=null,c=u,r=e.apply(i,o),s||(i=o=null)):s||!1===n.trailing||(s=setTimeout(l,d)),r}},createRequestAnimationFrame:function(e){var t=null;return"auto"!==e&&e<60&&e>1&&(t=Math.floor(1e3/e)),null===t?window.requestAnimationFrame||n(33):n(t)}}},212:function(e,t,n){o.$inject=["$compile","$document","$q","$rootScope","$templateRequest","$timeout","$window","DataService"];var i=n(18);function o(e,t,n,o,r,a,s,c){var l,u,d,f="tk-dialog-open",p="tk-dialog-content",h='<div class="tk-dialog"><div class="tk-dialog-scrim"></div></div>',g=t.find("body");return{close:m,show:function(t,b){b=b||{},l&&m();return n((function(n){r(t).then((function(t){n(function(t,n){c.loadDataFromTemplate(i.element(t)),u=e(t)(function(){var e=o.$new();return e.close=m,e}()).addClass(p),l=function(e,t){return i.element(h).addClass(t.extraWrapperClass).append(e)}(u,n),d=u.scope(),g.append(l).addClass(f),n.closeOnDrag&&i.element(s).on("dragenter",_);n.skipBodyListeners||a((function(){g.on("click",v),g.on("keyup",y)}),0);n.closeDisabled&&(this.closeDisabled=!0);return u.controller()||u.scope()}(t,b))}))}))}};function m(){l&&!this.closeDisabled&&(d.$destroy(),l.remove(),g.removeClass(f),g.off("click",v),g.off("keyup",y))}function v(e){b(e.target)||m()}function y(e){27!=e.keyCode||b(e.target)||m()}function _(e){b(e.target)||m()}function b(e){return e==u[0]||!!e.parentNode&&b(e.parentNode)}}e.exports=o},213:function(e,t){o.$inject=["$cookies","$q","DataService","DialogService","I18nService","UserPrefsService"];var n="adobe-fonts-saw-korean-browse-fonts-dialog",i="ko_KR";function o(e,t,o,r,a,s){return{handlePageLoad:function(){var t=this;a.getLocaleInfo().then((function(o){(function(t){if(e.get(n))return!1;return t===i})(o.selectedLocale)&&t.showKoreanBrowseFontsDialog()}))},shouldShowFontActivationDialog:function(){return s.getUserPrefs().then((function(e){return!e.hideFontActivationModal}))},shouldShowTypekitOnboardDialog:c,showExpiredFontsDialog:function(){r.show("/angular_templates/dialogs/expired_fonts_first_mile.html").then((function(e){e.close=function(){s.updatePrefs({hideExpiredFontsModal:!0}),r.close()}}))},showFontActivationDialog:function(){r.show("/angular_templates/dialogs/font_activation_first_mile.html").then((function(e){e.handleOKButton=function(){e.optOutOfModal&&s.updatePrefs({hideFontActivationModal:!0}),r.close()}}))},showTypekitOnboardDialogIfNecessary:function(){return t((function(e){c().then((function(t){t?r.show("/angular_templates/dialogs/typekit_onboard_modal.html").then((function(t){t.handleOKButton=function(){s.updatePrefs({hideTypekitOnboardModal:!0}),r.close(),e()}})):e()}))}))},showKoreanBrowseFontsDialog:function(){r.show("/angular_templates/dialogs/korean_browse_fonts_modal.html").then((function(t){t.handleOKButton=function(){t.optOutOfModal&&e.put(n,!0,{expires:new Date((new Date).setFullYear((new Date).getFullYear()+1))}),r.close()}}))}};function c(){return s.getUserPrefs().then((function(e){return!e.hideTypekitOnboardModal}))}}e.exports=o},214:function(e,t,n){a.$inject=["$timeout","$sce"];var i=n(6),o=n(18),r={ERROR:"error",NEUTRAL:"neutral",NOTICE:"info",SUCCESS:"success",FEEDBACK:"feedback",FONT_GAME_BANNER:"font_game_banner",WARN:"warn"};function a(e,t){var n=new s(e,t);return n.TYPES=r,n}function s(e,t){this._messages=[],this._nextNotificationId=0,this.$timeout=e,this.$sce=t}e.exports=a,s.prototype.error=function(e,t){this.add(e,r.ERROR,t)},s.prototype.add=function(e,t,n){var r=this,a=n||{};if(!i.find(r._messages,(function(t){return r.$sce.getTrustedHtml(t.text)==e}))){var s=r._createMessage(e,t,n);if(r._messages.push(s),a.skipTimeout)return;var c=s.actionLink?5e3:4e3;r.$timeout(o.bind(r,(function(){r.remove(s)})),a.timeout||c)}},s.prototype.addFeedbackNotification=function(e,t){this.add(e,r.FEEDBACK,t)},s.prototype.getMessages=function(e){var t=this._messages.slice(0,3);return e?i.filter(t,(function(t){return t.type==e})):t},s.prototype.neutral=function(e,t){this.add(e,r.NEUTRAL,t)},s.prototype.notice=function(e,t){this.add(e,r.NOTICE,t)},s.prototype.remove=function(e){this._messages=i.reject(this._messages,(function(t){return t==e}))},s.prototype.removeFeedbackNotification=function(){var e=this;i.each(e.getMessages(r.FEEDBACK),(function(t){e.remove(t)}))},s.prototype.success=function(e,t){this.add(e,r.SUCCESS,t)},s.prototype.font_game_banner=function(e,t){this.add(e,r.FONT_GAME_BANNER,t)},s.prototype.warn=function(e,t){this.add(e,r.WARN,t)},s.prototype.toggleErrorMessage=function(e,t){t?this.error(e):this.notice(e)},s.prototype._createMessage=function(e,t,n){var i,o;return t||(t=r.NOTICE),(n=n||{}).actionLink&&n.actionLabel&&(i=n.actionLink,o=n.actionLabel),{id:this._nextNotificationId++,text:this.$sce.trustAsHtml(e),actionLink:i,actionLabel:o,category:n.category,scriptIdentifier:n.scriptIdentifier,tooltipText:n.tooltipText,type:t}}},215:function(e,t){function n(e,t){return{handlePageLoad:function(){e.get("suspended-account-data").then((function(e){e.hasSuspendedAccount&&t.show("/angular_templates/dialogs/account_suspended.html",{closeDisabled:!0})}))}}}n.$inject=["DataService","DialogService"],e.exports=n},216:function(e,t,n){r.$inject=["$http","$q","DataService"];var i,o=n(6);function r(e,t,n){return{clearCache:function(){i=null},getUserPrefs:r,updatePrefs:o.throttle((function(t){return r().then((function(e){i=o.extend(e,t)})),e.put("/account/prefs.json",a(t))}),500)};function r(){return t((function(e){i?e(i):n.get("user-pref-data").then((function(t){i=function(e){var t={},n=o.pick(e,"browse_families_sample_text","browse_families_sample_size","browse_families_view_type","browse_families_browse_mode","browse_filter_drawer_state","hide_typekit_onboard_modal","hide_font_activation_modal","hide_expired_fonts_modal","hide_images","hide_tag_feedback_dialog","hide_tag_feedback_notification","show_paid_fonts","show_basic_library");(n.browse_families_sample_text||n.browse_families_sample_size)&&(t.exampleText={value:n.browse_families_sample_text,size:n.browse_families_sample_size});n.browse_filter_drawer_state&&(t.isFilterListHiddenByUser="close"===n.browse_filter_drawer_state);n.browse_families_view_type&&(t.selectedViewType=n.browse_families_view_type);n.browse_families_browse_mode&&(t.browseMode=n.browse_families_browse_mode);n.hide_typekit_onboard_modal&&(t.hideTypekitOnboardModal="true"===n.hide_typekit_onboard_modal);n.hide_font_activation_modal&&(t.hideFontActivationModal="true"===n.hide_font_activation_modal);n.hide_expired_fonts_modal&&(t.hideExpiredFontsModal="true"===n.hide_expired_fonts_modal);n.hide_images&&(t.hideImages="true"===n.hide_images);n.hide_tag_feedback_dialog&&(t.hideTagFeedbackDialog="true"===n.hide_tag_feedback_dialog);n.hide_tag_feedback_notification&&(t.hideTagFeedbackNotification="true"===n.hide_tag_feedback_notification);n.show_paid_fonts&&(t.showPaidFonts="true"===n.show_paid_fonts);n.show_basic_library&&(t.showBasicLibrary="true"===n.show_basic_library);return t}(t),e(i)}))}))}}function a(e){var t={};return e.exampleText&&(t.browse_families_sample_text=e.exampleText.value,t.browse_families_sample_size=e.exampleText.size),e.selectedViewType&&(t.browse_families_view_type=e.selectedViewType),e.isFilterListHiddenByUser?t.browse_filter_drawer_state="close":t.browse_filter_drawer_state="open",e.browseMode&&(t.browse_families_browse_mode=e.browseMode,e.exampleText||(t.browse_families_sample_text="",t.browse_families_sample_size="null")),e.hideTypekitOnboardModal&&(t.hide_typekit_onboard_modal=!0),e.hideFontActivationModal&&(t.hide_font_activation_modal=!0),e.hideExpiredFontsModal&&(t.hide_expired_fonts_modal=!0),e.hideStandaloneSubscriptionNotification&&(t.hide_standalone_subscription_notification=!0),e.hideTagFeedbackDialog&&(t.hide_tag_feedback_dialog=!0),e.hideTagFeedbackNotification&&(t.hide_tag_feedback_notification=!0),t.hide_images=e.hideImages,t.show_basic_library=e.showBasicLibrary,t.show_paid_fonts=e.showPaidFonts,{prefs:t}}e.exports=r},217:function(e,t,n){c.$inject=["$http","AuthenticationService","DialogService","FirstMileService"];var i=n(135).isFlagEnabled,o=n(218),r=n(219),a=n(220),s=n(151);function c(e,t,c,l){var u,d,f;return{init:b,addFamilyToWebProject:p,addFamilyToWebProjectWithAuthentication:function(e,n,i){t.handleAuthenticationWithPostLoginAction(s.ADD_TO_WEB_PROJECT,{familySlug:e,variationSlug:n}).then((function(){p(e,n,i)}))},getAddFontsToWebProjectModel:m,getEmbedCodeModel:function(){return f.getEmbedCodeModel()},getFamilyAndProjectsInfo:v,getProjectSelectorModel:g,getStyleSelectorModel:h,getWebfontProjectStylesModel:function(){return f.getWebfontProjectStylesModel()},groupByTypekitFontFamilies:y,showAddFontsToWebProjectDialog:_,updateProjectDetails:function(t){e.get("/web_project/families_in_project.json",{params:{project_id:t.id}}).then((function(e){var t=e.data.typekit_font_families;m().updateExistingFamiliesInProject(t)}))}};function p(t,n,i){(function(t,n){var i="/web_project/add_to_web_project_data/"+t;n&&(i+="?variation="+n);return e.get(i).then((function(e){return e.data}))})(t,n).then((function(e){e.errors||_(e.family.slug,e.family.fonts,e.textSamples,e.defaultExampleText,i)}))}function h(){return d}function g(){return u}function m(){return f}function v(t){return e.get("/web_project/family_and_projects_info.json",{params:{family_slug:t}}).then((function(e){return e.data}))}function y(e){var t={},n=[];e.forEach((function(e){t[e.family.web_id]||(t[e.family.web_id]={web_id:e.family.web_id,web_name:e.family.web_name,variations:[]},n.push(e.family.web_id)),t[e.family.web_id].variations.push(e)}));var i=n.map((function(e){return t[e]}));return{familyIds:n,orderedFamilies:i}}function _(e,t,o,r,a){l.showTypekitOnboardDialogIfNecessary().then((function(){b(e,t,o,r),i("EnableNewAddToWebProjectDialog")?Promise.all([n.e(0),n.e(5),n.e(42),n.e(46)]).then(n.bind(null,379)).then((function(e){(0,e.openAddToWebProjectDialog)({families:h().getSortedFamilies(),projectSelectorModelPromise:g().getProjectSelectorModelPromise(),editorSaveState:a})})):c.show("/angular_templates/dialogs/add_fonts_to_web_project.html",{skipBodyListeners:!0,recenterOnResize:!0,extraWrapperClass:"add-fonts-to-web-project-dialog-wrapper"})}))}function b(t,n,i,s){var l=y(n),p=v(t);d=new o(l.orderedFamilies,i,s);var h=p.then((function(e){return{projects:e.projects,is_family_CJK:e.is_family_CJK}}));u=new r(h),f=new a(e,c,p,u,d)}}e.exports=c},218:function(e,t,n){r.$inject=["families","textSamples","exampleText"];var i=n(190),o=n(18);function r(e,t,n){this._families=o.copy(e),this._textSamples=t,this._exampleText=n,this.sortFamiliesAndVariations(),this.initDisplayVariations(),this.initCheckedState()}r.prototype.getSelectedVariations=function(){var e=this,t=[];return e.isAnyVariationSelected()&&Object.keys(e._checkedState.families).forEach((function(n){if(e._checkedState.families[n].checkedVariationCount>0){var i=Object.keys(e._checkedState.families[n].variations).map((function(e){return Number(e)})).filter((function(t){return e._checkedState.families[n].variations[t]}));t.push({opaque_id:n,font_variations:i})}})),t},r.prototype.isAnyVariationSelected=function(){return 0!==this._checkedState.checkedVariationCount},r.prototype.getSortedFamilies=function(){return this._families},r.prototype.getExampleText=function(){return this._exampleText},r.prototype.getShowMoreCount=function(e){return e.variations.length-this.getDisplayVariations(e).length},r.prototype.getDisplayVariations=function(e){return this._displayVariations[e.web_id]},r.prototype.setDisplayVariations=function(e,t){this._displayVariations[e]=t},r.prototype.isVariationSelected=function(e){return this._checkedState.families[e.family.web_id].variations[e.id]},r.prototype.getSelectedVariationCount=function(e){return this._checkedState.families[e].checkedVariationCount},r.prototype.getTotalVariationCount=function(e){return this._checkedState.families[e].totalVariationCount},r.prototype.toggleCheckbox=function(e){var t=e.family.web_id;this._checkedState.families[t].variations[e.id]=!this._checkedState.families[t].variations[e.id];var n=this._checkedState.families[t].variations[e.id]?1:-1;this._checkedState.families[t].checkedVariationCount+=n,this._checkedState.checkedVariationCount+=n},r.prototype.getVariationDisplayData=function(e){var t=this._textSamples[e.default_language].unicode_range,n=this._textSamples[e.default_language].feature_settings,i=this._textSamples[e.default_language].kana_only;return i||(i=!1),{cssName:e.family.web_id+"-"+e.font.web.fvd,fvd:e.font.web.fvd,isDynamic:!1,opaqueId:e.family.web_id,unicodeRange:t,featureSettings:n,kanaOnly:i}},r.prototype.sortVariations=function(e){e.sort((function(e,t){return i.compareFvds(e.font.web.fvd,t.font.web.fvd)}))},r.prototype.sortFamiliesAndVariations=function(){var e=this;e._families.forEach((function(t){e.sortVariations(t.variations)}))},r.prototype.initDisplayVariations=function(){var e=this;e._displayVariations={},e._families.forEach((function(t){var n=t.variations.map((function(e){return e.font.web.fvd})),o=i.findClosestToBasicFour(n);e._displayVariations[t.web_id]=t.variations.filter((function(e){return-1!==o.indexOf(e.font.web.fvd)})),e.sortVariations(e._displayVariations[t.web_id])}))},r.prototype.initCheckedState=function(){var e=this;e._checkedState={checkedVariationCount:0,totalVariationCount:0,families:{}},e._families.forEach((function(t){e._checkedState.totalVariationCount+=t.variations.length,e._checkedState.families[t.web_id]={checkedVariationCount:0,totalVariationCount:t.variations.length,variations:{}},t.variations.forEach((function(n){e._checkedState.families[t.web_id].variations[n.id]=!1,-1!==e.getDisplayVariations(t).indexOf(n)&&(e._checkedState.families[t.web_id].variations[n.id]=!0,e._checkedState.families[t.web_id].checkedVariationCount+=1)})),e._checkedState.checkedVariationCount+=e._checkedState.families[t.web_id].checkedVariationCount}))},e.exports=r},219:function(e,t,n){o.$inject=["projectSelectorModelPromise"];var i=n(18);function o(e){var t=this;t.scrollCount=0,t.projectSelectorModelPromise=e,t.selectedProjectName="",t.selectedProjectID=null,t.searchResults=[],t.showError=!1,t.selectorDisabled=!0,t.inputDisabled=!0,t.dropdownVisible=!1,e.then((function(e){t.projects=e.projects,t.isFamilyCJK=e.is_family_CJK,t.projects&&t.projects.length>0?t.selectorDisabled=!1:t.inputDisabled=!1}))}o.prototype.isDropdownVisible=function(){return this.dropdownVisible},o.prototype.getProjectSelectorModelPromise=function(){return this.projectSelectorModelPromise},o.prototype.isSelectorDisabled=function(){return this.selectorDisabled},o.prototype.isInputDisabled=function(){return this.inputDisabled},o.prototype.isProjectSelected=function(){return!(null===this.getSelectedProjectID())},o.prototype.resetProjectSelection=function(){self.selectedProjectName="",self.selectedProjectID=null},o.prototype.getPlaceholder=function(e,t){return this.selectorDisabled?e:t},o.prototype.getSelectedProjectID=function(){return this.selectedProjectID},o.prototype.getSearchResults=function(){return this.searchResults},o.prototype.getProjectName=function(){return this.projectName},o.prototype.getExistingProject=function(e){if(e)return this.projects.filter((function(t){return t.id===e.id}))[0]},o.prototype.getExistingProjectByProjectName=function(e){var t;if(this.projects){var n=this.projects.filter((function(t){return t.name===e}));return 1==n.length&&(t=n[0]),t}},o.prototype.onProjectNameChange=function(e){this.showError=!1,this.dropdownVisible=!1,this.selectedProjectID=null,this.projectName=e,this.searchResults=[],this.projectName.length>50&&(this.projectName=this.projectName.substring(0,50)),this.projects.forEach(function(e){e.name.toUpperCase()===this.projectName.toUpperCase()&&(this.showError=!0)}.bind(this))},o.prototype.onProjectSelection=function(e,t){this.selectedProjectID=e,this.projectName=t},o.prototype.isCurrentProjectNameValid=function(){var e=this.getExistingProjectByProjectName(this.projectName);return Boolean(this.projectName)&&this.isProjectValid(e)&&!this.showError},o.prototype.isProjectValid=function(e){var t=this.getExistingProject(e);return!t||(!(this.isFamilyCJK&&!t.is_dynamic)||(this.selectedProjectID=null,!1))},o.prototype.isResultListAvailable=function(){return this.searchResults&&this.searchResults.length>0},o.prototype.onSelectorButtonClick=function(){this.dropdownVisible=!this.dropdownVisible,this.isResultListAvailable()||!this.projects?this.searchResults=[]:this.searchResults=this.getFormattedSearchResults(this.projects.slice(0,100))},o.prototype.getFormattedSearchResults=function(e){if(!e||0==e.length)return[];var t=i.copy(e);return t.forEach((function(e){var n=t.filter((function(t){return t.name===e.name}));1==n.length&&n.splice(n.indexOf(e),1),n.forEach((function(e){e.name=e.name+" ("+e.id+")"}))})),t},o.prototype.onSelectProjectClick=function(e){this.isProjectValid(e)&&(this.searchResults=[],this.selectedProjectID=e.id,this.projectName=e.name,this.dropdownVisible=!1,this.inputDisabled=!0)},o.prototype.enableInputBox=function(){this.inputDisabled=!1},o.prototype.isInvalid=function(){return this.showError},o.prototype.onNextScroll=function(){this.searchResults.push.apply(this.searchResults,this.getFormattedSearchResults(this.projects.slice(100+10*this.scrollCount,100+10*(this.scrollCount+1)))),this.scrollCount=this.scrollCount+1},e.exports=o},220:function(e,t,n){r.$inject=["$http","DialogService","deferredFamilyAndProjectsInfo","projectSelectorModel","styleSelectorModel"];var i=n(191),o=n(221);function r(e,t,n,i,o){var r=this;r.$http=e,r.DialogService=t,r._projectById=[],r._projectSelectorModel=i,r._styleSelectorModel=o,r._isFamilyCJK=!1,r._saveAttempted=!1,r._saved=!1,r._addedFontsCount=0,r._addedToProjectName="",r._addedToProjectEditorLink="",r._embedCodeModel=null,r._webfontProjectStylesModel=null,r._stylesData=null,r.existingFamiliesInProject=[],r._populateFamilyAndProjectsInfo(n)}r.prototype.getSelectedProjectID=function(){return this._projectSelectorModel.getSelectedProjectID()},r.prototype.getSelectedProjectName=function(){var e=this._projectById[this._projectSelectorModel.getSelectedProjectID()];if(e)return e.name},r.prototype.doFamiliesExistInProject=function(){return!!(this._projectById[this._projectSelectorModel.getSelectedProjectID()]&&this.getExistingFamiliesInProject().length>0)},r.prototype.getExistingFamiliesInProject=function(){return this.existingFamiliesInProject},r.prototype.updateExistingFamiliesInProject=function(e){this.existingFamiliesInProject=e&&e.length>0?e:[]},r.prototype.isFamilyCJK=function(){return this._isFamilyCJK},r.prototype.closeDialog=function(){this.DialogService.close()},r.prototype.didSaveSucceed=function(){return this._saved},r.prototype.isSaveValid=function(){return Boolean(this._styleSelectorModel.isAnyVariationSelected()&&(this._projectSelectorModel.getSelectedProjectID()||this._projectSelectorModel.isCurrentProjectNameValid()))},r.prototype.didAttemptSave=function(){return this._saveAttempted},r.prototype.save=function(){var e=this;if(!e._saveAttempted){e._saveAttempted=!0;var t=e._styleSelectorModel.getSelectedVariations();e._projectSelectorModel.getSelectedProjectID()?e._addSelectedToExistingProject(t,e._projectSelectorModel.getSelectedProjectID()).then((function(t){e._handleSaveSuccess(t)})):e._projectSelectorModel.isCurrentProjectNameValid()&&e._addSelectedToNewProject(t,e._projectSelectorModel.getProjectName()).then((function(t){e._handleSaveSuccess(t)}))}},r.prototype.getEmbedCodeModel=function(){return this._embedCodeModel},r.prototype.getWebfontProjectStylesModel=function(){return this._webfontProjectStylesModel},r.prototype.getAddedFontsCount=function(){return this._addedFontsCount},r.prototype.getAddedToProjectName=function(){return this._addedToProjectName},r.prototype.getAddedToProjectEditorLink=function(){return this._addedToProjectEditorLink},r.prototype._getProjectById=function(e){var t={};return e.forEach((function(e){t[e.id]=e})),t},r.prototype._populateFamilyAndProjectsInfo=function(e){var t=this;e.then((function(e){t._projectById=t._getProjectById(e.projects),t._isFamilyCJK=e.is_family_CJK}))},r.prototype._addSelectedToExistingProject=function(e,t){var n={id:t,families:e};return this.$http.post("/kits/update",n).then((function(e){return e.data}))},r.prototype._addSelectedToNewProject=function(e,t){var n={kit:{name:t},families:e};return this.$http.post("/kits",n).then((function(e){return e.data}))},r.prototype._handleSaveSuccess=function(e){this._embedCodeModel=new i(e.embed_code.is_dynamic,e.embed_code.project_embed_details),this._webfontProjectStylesModel=new o(e.styles),this._addedFontsCount=e.added_fonts_count,this._addedToProjectName=e.added_to_project_info.name,this._addedToProjectEditorLink=e.added_to_project_info.editor_link,this._saved=!0},e.exports=r},221:function(e,t){function n(e){this.fontVariationsDetails=e,this._preloadData()}n.$inject=["stylesModelData"],n.prototype._preloadData=function(){var e=this;e.fontVariationsDetails.forEach((function(t){e.setCSSFontStackDisplay(t),e.setStyleDisplay(t),e.setWeightDisplay(t),e.setCompleteFontVariationStyle(t)}))},n.prototype.setCSSFontStackDisplay=function(e){var t=e.family.css_font_stack.replace(/["]/g,"");e.fontFamilyDisplay=t.substr(0,t.indexOf(",")+1)||t,e.cssFontStackDisplay=t.replace(e.fontFamilyDisplay,"")+";"},n.prototype.setStyleDisplay=function(e){e.styleDisplay=e.style+";"},n.prototype.setWeightDisplay=function(e){e.weightDisplay=e.font.web.weight+";"},n.prototype.setCompleteFontVariationStyle=function(e){e.completeFontVariationStyle="font-family: "+e.fontFamilyDisplay+e.cssFontStackDisplay+"\nfont-weight: "+e.weightDisplay+"\nfont-style: "+e.styleDisplay},n.prototype.getFontVariations=function(){return this.fontVariationsDetails},e.exports=n},222:function(e,t,n){function i(e,t){return{init:function(){e.get("omniture_config").then((function(e){t.marketingtech={adobe:{launch:{property:"global",environment:e.environment}}},e.isLaunchCodeDisabled||n(223)}))}}}i.$inject=["DataService","$window"],e.exports=i},223:function(e,t,n){(function(e){!function(){"use strict";var t,n,i=document,o=Object.defineProperty,r="replace",a=function(e){return e[r](/%2523access_token%253D.*?%2526/gim,"%2526")[r](/%23access_token%3D.*?%26/gim,"%26")[r](/#access_token=.*?&/gim,"&")[r](/information=[^\&]+/,"")[r](/puser=[^\&]+/,"")[r](/fnuser=[^\&]+/,"")[r](/lnuser=[^\&]+/,"")};try{var s="referrer",c=i[s],l=a(c);l!==c&&o(i,s,{configurable:!0,value:l})}catch(t){}t=window,n=function(){function t(e,t){p.add(e,t),f||(f=b(p.drain))}function n(e){var t,n=v(e);return null==e||n!=g&&n!=h||(t=e.then),v(t)==h&&t}function i(){for(var e=0;e<this.chain.length;e++)o(this,1===this.state?this.chain[e].success:this.chain[e].failure,this.chain[e]);this.chain.length=0}function o(e,t,i){var o,r;try{!1===t?i.reject(e.msg):(o=!0===t?e.msg:t.call(void 0,e.msg))===i.promise?i.reject(y("Promise-chain cycle")):(r=n(o))?r.call(o,i.resolve,i.reject):i.resolve(o)}catch(e){i.reject(e)}}function r(e){var o,s=this;if(!s.triggered){s.triggered=!0,s.def&&(s=s.def);try{(o=n(e))?t((function(){var t=new c(s);try{o.call(e,(function(){r.apply(t,arguments)}),(function(){a.apply(t,arguments)}))}catch(n){a.call(t,n)}})):(s.msg=e,s.state=1,s.chain.length>0&&t(i,s))}catch(t){a.call(new c(s),t)}}}function a(e){var n=this;n.triggered||(n.triggered=!0,n.def&&(n=n.def),n.msg=e,n.state=2,n.chain.length>0&&t(i,n))}function s(e,t,n,i){for(var o=0;o<t.length;o++)!function(o){e.resolve(t[o]).then((function(e){n(o,e)}),i)}(o)}function c(e){this.def=e,this.triggered=!1}function l(e){this.promise=e,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function u(e){if(v(e)!=h)throw y(m);if(0!==this.__NPO__)throw y("Not a promise");this.__NPO__=1;var n=new l(this);this.then=function(e,o){var r={success:v(e)!=h||e,failure:v(o)==h&&o};return r.promise=new this.constructor((function(e,t){if(v(e)!=h||v(t)!=h)throw y(m);r.resolve=e,r.reject=t})),n.chain.push(r),0!==n.state&&t(i,n),r.promise},this.catch=function(e){return this.then(void 0,e)};try{e.call(void 0,(function(e){r.call(n,e)}),(function(e){a.call(n,e)}))}catch(t){a.call(n,t)}}var d,f,p,h="function",g="object",m="Not a "+h,v=function(e){return typeof e},y=TypeError,_=Object.prototype.toString,b="undefined"!=typeof e?function(t){return e(t)}:setTimeout;d=function(e,t,n,i){return Object.defineProperty(e,t,{value:n,writable:!0,configurable:!1!==i})},p=function(){function e(e,t){this.fn=e,this.self=t,this.next=void 0}var t,n,i;return{add:function(o,r){i=new e(o,r),n?n.next=i:t=i,n=i,i=void 0},drain:function(){var e=t;for(t=n=f=void 0;e;)e.fn.call(e.self),e=e.next}}}();var S=d({},"constructor",u,!1);return u.prototype=S,d(S,"__NPO__",0,!1),d(u,"resolve",(function(e){return e&&v(e)==g&&1===e.__NPO__?e:new this((function(t,n){if(v(t)!=h||v(n)!=h)throw y(m);t(e)}))})),d(u,"reject",(function(e){return new this((function(t,n){if(v(t)!=h||v(n)!=h)throw y(m);n(e)}))})),d(u,"all",(function(e){var t=this;return"[object Array]"!=_.call(e)?t.reject(y("Not an array")):0===e.length?t.resolve([]):new t((function(n,i){if(v(n)!=h||v(i)!=h)throw y(m);var o=e.length,r=Array(o),a=0;s(t,e,(function(e,t){r[e]=t,++a===o&&n(r)}),i)}))})),d(u,"race",(function(e){var t=this;return"[object Array]"!=_.call(e)?t.reject(y("Not an array")):new t((function(n,i){if(v(n)!=h||v(i)!=h)throw y(m);s(t,e,(function(e,t){n(t)}),i)}))})),u},"undefined"==typeof Promise&&(t.Promise=n());var u=window,d=u.console.log;function f(e){throw Error(e)}var p,h,g,m,v,y,_,b,S,w=u.__satelliteEmbedCode,$=u.marketingtech,C="digitalData",F=C+".",E="object",x="array",k="function",T="sub-object not ",P=T+E,M=T+x,A=/^(.+?)((?:\[(?:n|\d+)\])+?)$/,D=/n|\d+/g,L=Array.isArray,N=0,I=$&&$.digitalData&&$.digitalData.debug;if(b=function(e){return typeof e},S=function(e,t){return e.hasOwnProperty(t)},(g=(h=function(e,t){var n,i=this;if(o(i,"_id",{value:++N}),I&&d(i._id+": CREATED"),o(i,"_pending",{value:{}}),o(i,"_listeners",{value:{}}),e&&i._set(C,e),t)for(n in t)S(t,n)&&i._set(n,t[n])}).prototype)._merge=m=function(e,t,n,i){var o,r,a,s,c;for(o in i=i||"",t)S(t,o)&&(r=e[o],void 0!==(a=t[o])&&null!==a&&(void 0===r||null===r?e[o]=a:(s=L(r)?x:b(r),c=L(a)?x:b(a),s===E||c===E?s===c&&(e[o]=m(r,a,n,i+"  ")):n||(s!==x&&(r=[r]),c===x?r=r.concat(a):r.push(a),e[o]=r))));return e},g._flatten=v=function(e,t,n,i){var o,r,a,s,c,l,u={},d={};for(e=e||this,e=JSON.parse(JSON.stringify(e)),o=0,r=(s=L(e)?e:Object.keys(e)).length;o<r;o++)c=L(e)?o:s[o],a=t?(L(e),t+"."+c):c+"",l=e[c],b(l)===E&&null!==l?u=m(u,v(l,a,n,i),!0):b(l)!==k&&(i?b(i)===E?L(i)?-1!==i.indexOf(a)&&(u[a]=l):i[a]&&(u[a]=l):b(i)===k?i(a)&&(u[a]=l):u[a]=l:u[a]=l);if(!L(e)||!n)return u;for(o=0,r=s.length;o<r;o++)l=e[c=o],b(l)===E&&(d=m(d,l));return u=m(u,v(d,a=t?t+".__collapsed":"__collapsed",n,i),!0),u=m(u,v(y(d,"|","|","|"),a,n,i),!0),u=m(u,v(d,a=t?t+".__joined":"__joined",n,i),!0),m(u,v(y(d,","),a,n,i),!0)},g._collapse=y=function(e,t,n,i){var o,r,a,s={};for(o in t=t||",",n=n||"",i=i||"",e)S(e,o)&&(r=e[o],a=L(r)?x:b(r),s[o]=a===x?n+r.join(t)+i:a===E?y(r,t,n,i):r);return s},g._recurse=_=function(e,t,n,i){var o,r,a,s,c,l;if(e&&b(e)===E)for(o=0,r=(s=L(e)?e:Object.keys(e)).length;o<r;o++)L(e)?(a=o,c=t+"[n]"):c=t+"."+(a=s[o]),l=e[a],n&&n({path:c,property:a,value:l},{path:t,value:e}),l&&b(l)===E&&_(l,c,n,i),i&&i({path:c,property:a,value:l},{path:t,value:e})},g._get=function(e){var t,n,i,o,r,a,s,c,l,u,f=this,p=f;if(I&&d(f._id+': GET "'+e+'"'),!e||e===C)return f;for(0!==e.indexOf(C)&&(e=F+e),(t=e.split(".")).shift(),r=0,a=t.length;r<a;r++){if(l=r===a-1,o=(n=t[r]).match(A)){if(n=o[1],o=o[2].match(D),p=p[n],!L(p))return;for(s=0,c=o.length;s<c;s++)if(u=s===c-1,p=p[i="n"===(i=o[s])?p.length-1:parseInt(i)],!u&&!L(p))return}else p=p[n];if(!p||l)return p}},g._set=function(e,t){var n,i,o,r,a,s,c,l,u,p,h,g,m,v,y,w=this,$=w,x=[],T=w._pending;if(I&&d(w._id+': SET "'+e+'" '+JSON.stringify(t)),e||(e=C),0!==e.indexOf(C)&&(e=F+e),e!==C||t!==w){if(T[e]&&(T[e].cancelled=!0,delete T[e]),null!=t&&(b(t)===E||b(t)===k)&&b(t.then)===k){if((i=t.then((function(t){return i.cancelled||w._set(e,t),t}),(function(){i.cancelled||delete T[e]}))).cancelled=!1,T[e]=i,!S(t,"unresolved"))return;n=t,t=t.unresolved,delete n.unresolved}if(e===C){if(b(t)!==E)return;for(c in _(w,C,(function(e){T[e.path]&&(T[e.path].cancelled=!0,delete T[e.path]),x.push(e.path)})),w)S(t,c)&&t[c]&&t[c]!==w[c]&&delete w[c];for(c in t)S(t,c)&&(w[c]=t[c])}else for((p=e.split(".")).shift(),o=0,r=p.length;o<r;o++)if(l=o===r-1,m=(h=p[o]).match(A))for(h=m[1],m=m[2].match(D),$=$[h]=$[h]||[],L($)||f(M),a=0,s=m.length;a<s;a++)u=a===s-1,g="n"===(g=m[a])?$.length:parseInt(g),u?l?$[g]=t:($=$[g]=$[g]||{},b($)!==E&&f(P)):($=$[g]=$[g]||[],L($)||f(M));else l?$[h]=t:($=$[h]=$[h]||{},b($)!==E&&f(P));if(e===C)x.push(e);else for(v=[],o=0,r=(p=e.split(".")).length;o<r;o++)(m=(h=p[o]).match(A))&&(h=m[1],h+=m=m[2].replace(D,"n")),v.push(h),x.push(v.join("."));for(_(t,e,(function(e){T[e.path]&&(T[e.path].cancelled=!0,delete T[e.path]),-1===x.indexOf(e.path)&&x.push(e.path)})),o=x.length-1;o>=0;o--)y=x[o],w._trigger(y)}},g._unset=g._delete=function(e){return I&&d(this._id+': DELETE "'+e+'"'),this._set(e,void 0)},g._on=function(e,t){var n;if(""===e)e=C;else if(!e)return!1;0!==e.indexOf(C)&&(e=F+e),(n=this._listeners[e])||(n=this._listeners[e]=[]),n.push(t)},g._off=function(e,t){var n,i;if(""===e)e=C;else if(!e)return!1;return 0!==e.indexOf(C)&&(e=F+e),!!(i=this._listeners[e])&&-1!==(n=i.indexOf(t))&&(i.splice(n,1),!0)},g._trigger=function(e){var t,n,i,o;if(""===e)e=C;else if(!e)return!1;if(0!==e.indexOf(C)&&(e=F+e),!(o=this._listeners[e]))return!1;for(t=0,n=o.length;t<n;t++)if(i=o[t])try{i(this._get(e))}catch(e){}},g._resolved=function(){var e,t=[],n=this._pending;for(e in n)S(n,e)&&t.push(n[e]);return Promise.all(t)},g._snapshot=g._copy=function(){return new h(JSON.parse(JSON.stringify(this)),this._pending)},u.DigitalData=h,!w){if(p=new h,u.digitalData){p._set(C,u.digitalData);try{delete u.digitalData}catch(t){}}o(u,C,{enumerable:!0,get:function(){return p},set:function(e){p._set(C,e)}})}var j=p,R=i.getElementsByTagName("head")[0],O=u.performance,V=decodeURIComponent;function U(e){var t,n,o,r;for(n=0,o=(t=i.cookie?i.cookie.split("; "):[]).length;n<o;n++)if(r=t[n],V(r.substr(0,r.indexOf("=")))===e)return V(r.substr(r.indexOf("=")+1))}var B,W,z,H="at-body-style",q="targetGlobalSettings",G="bodyHidingEnabled",Z=U("OptanonConsent"),K=U("OptanonChoice"),X=u.location.search;if(B=$&&$.adobe&&$.adobe.target,W=u[q]=u[q]||{},z=i.getElementById(H),w||!B||G in W&&!W[G]||-1!==X.indexOf("mboxDisable=1")||-1!==i.cookie.indexOf("adobe_optout")||K&&Z&&-1!==Z.indexOf("C0002:0"))z&&z.parentNode&&z.parentNode.removeChild(z);else{if(!z){(z=i.createElement("style")).id=H,z.innerHTML="body{opacity:0.01 !important}";try{O.mark("targetBodyHide"),R.appendChild(z)}catch(t){}}setTimeout((function(){W[G]=!1;try{R.removeChild(i.getElementById(H))}catch(t){}}),3e3)}function Y(e,t){u.addEventListener(e,t)}var J=encodeURIComponent;function Q(e,t,n,o){var r="";t=t||"",r+=o?e+"="+t:J(e)+"="+J(t),n.path&&(r+="; path="+n.path),n.expires&&(r+="; expires="+n.expires.toUTCString()),n.domain&&(r+="; domain="+n.domain),n.samesite&&(r+="; samesite="+n.samesite),i.cookie=r}var ee,te,ne="";var ie,oe,re,ae,se=[],ce="adobePrivacy:Privacy",le="OptanonChoice",ue=new Date,de={domain:function(){if(ne)return ne;var e=u.location.hostname.toLowerCase().split("."),t=[],n="",i=null,o=!1,r="sat_domain";for(n=e.pop(),t.unshift(n);e.length>0;){n=e.pop(),t.unshift(n),(i=new Date).setTime(i.getTime()+1e3);try{Q(r,"A",{expires:i,domain:t.join(".")})}catch(e){break}if("A"===U(r)){o=!0,ne=t.join(".");break}}return o?ne:""}(),path:"/",samesite:"Lax",expires:(ue.setFullYear(ue.getFullYear()+1),ue)};function fe(e){var t=JSON.parse(JSON.stringify(e.location));return t.href=a(t.href),t.hash=a(t.hash),t.search=a(t.search),t}ee=function(e){oe?e(u._satellite):se.push(e)},te=new Promise((function(e){ee(e)})),ie=function(){var e,t,n;for(oe=!0,e=0,t=se.length;e<t;e++){n=se[e];try{n(u._satellite)}catch(e){}}},u.__satelliteLoadedCallback=ee,u.__satelliteLoadedPromise=te,ae=function(e){i.write('<script src="'+e+'"><\/script>')},Y(ce+"Consent",(function(){Q(le,1,de)})),Y(ce+"Reject",(function(){Q(le,2,de)})),Y(ce+"Custom",(function(){Q(le,3,de)})),Y(ce+"Consent",(function(){var e,t=ce+"Consent:DTM";"function"==typeof u.CustomEvent?e=new CustomEvent(t):(e=i.createEvent("CustomEvent")).initCustomEvent(t,!1,!1,void 0),ee((function(){"complete"===i.readyState?i.body.dispatchEvent(e):Y("load",(function(){i.body.dispatchEvent(e)}))}))})),w?(ae("//c.evidon.com/geo/country.js"),ae(w),(re=function(){u._satellite&&u._satellite.initialized?ie():setTimeout(re,100)})()):function(e,t){var n,o,r=i.createElement("script"),a=!1;r.src=e,r.async=!0,t&&(r.onload=r.onreadystatechange=function(e){var n=this.readyState;a||n&&"complete"!==n&&"loaded"!==n||(a=!0,t(e))}),(n=i.getElementsByTagName("script")[0])&&n.parentNode?(o=n.parentNode).insertBefore(r,n):(o=R)?o.appendChild(r):i.body?(o=i.body).appendChild(r):f("no script parent")}(function(e,t){var n,i,o,r,a,s=u.location,c="https://assets.adobedtm.com/",l=c+"launch-",d={globalDev:"EN9a7b3bd7db454856b44f27730f263fa0",globalStage:"EN2731bb0857084837b7142cd2017286bb",globalProd:"EN919758db9a654a17bac7d184b99c4820",ucDev:"ENed7cfab651fa4714a57bf937efb0cd23-development",ucStage:"EN1450794db7d0411a8b3f3b08dd706d00-staging",ucProd:"ENd6b040128459463bad781a5daa85ce0f",videoDev:"EN2d7bf2d8326b4ff1aa5335189a385023-development",videoStage:"EN60e5086def0d48e9ae2195234cb1b389-staging",videoProd:"EN58452fb8d9534cacbb8aeac0c8e15215",minimalDev:"EN876eeadff442464cb438819d695e077d-development",minimalStage:"ENa9d6ac46ca57441784434d28ceb9ddba-staging",minimalProd:"EN08637acac77f4e20b9e413aeb86f610e"};if(n=t||s.hostname,a=function(e){return-1!==n.indexOf(e)},$&&$.adobe&&$.adobe.launch&&($.adobe.launch.embedCode||$.adobe.launch.environment||$.adobe.launch.property)){i=$.adobe.launch.embedCode,o=$.adobe.launch.property,r=$.adobe.launch.environment;i?0===i.indexOf("EN")?l+=i:l=c+i:function(e){"video analytics"==e&&(e="video"),"unified checkout"==e&&(e="uc"),"dev"===r?l+=d[e+"Dev"]:"stage"===r?l+=d[e+"Stage"]:"production"===r?l+=d[e+"Prod"]:(l+=d[e+"Prod"],console.warn('marketingtech.adobe.launch.environment invalid. Falling back to "production".'))}(o||"global")}else a("localhost.account.adobe.com")||a("prestage1.account.adobe.com")||a("prestage2.account.adobe.com")?l+=d.globalDev:a("stage.account.adobe.com")||a("prod-inactive.account.adobe.com")||a("prod-active.account.adobe.com")?l+=d.globalStage:a("account.adobe.com")?l+=d.globalProd:(a("localhost.")||console.error("unrecognized domain. Please email marketingtech@adobe.com."),l+=d.globalDev);return e&&(l+=".min"),l+".js"}(!0),ie);var pe,he="initialPage.pageInfo.location",ge="message",me=u.top;function ve(e,t){try{e._set(t,fe(me))}catch(i){Y(ge,(function(n){n.data.n===he&&e._set(t,n.data.v)})),me.postMessage({n:he},"*")}}u===me&&(pe=fe(u),Y(ge,(function(e){var t,n=e.origin,i=n.length;((t=function(e){return n.substring(i-e.length,i)===e})(".adobe.com")||t("//adobe.com"))&&e.data.n===he&&e.source.postMessage({n:he,v:pe},"*")})));var ye=[];u._satellite=u._satellite||{},u._satellite.track=function(e,t){var n;(t=t||{})._beforeSatelliteLoaded=!0,w||((n=t.digitalData=t.digitalData||u.digitalData._snapshot())._set("page.pageInfo.location",fe(u)),ve(n,"page.topFrameInfo.location")),ye.push([e,t])},u.__satelliteLoadedCallback((function(){var e,t,n;for(e=0,t=ye.length;e<t;e++)n=ye[e],u._satellite.track(n[0],n[1])}));w||(j._set("marketingtech.bootstrap.version","0.19.0"),j._set("initialPage.pageInfo.location",fe(u)),ve(j,"initialPage.topFrameInfo.location"))}()}).call(this,n(224).setImmediate)},224:function(e,t,n){(function(e){var i="undefined"!==typeof e&&e||"undefined"!==typeof self&&self||window,o=Function.prototype.apply;function r(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new r(o.call(setTimeout,i,arguments),clearTimeout)},t.setInterval=function(){return new r(o.call(setInterval,i,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(i,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n(225),t.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(27))},225:function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var i,o,r,a,s,c=1,l={},u=!1,d=e.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(e);f=f&&f.setTimeout?f:e,"[object process]"==={}.toString.call(e.process)?i=function(e){t.nextTick((function(){h(e)}))}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?e.MessageChannel?((r=new MessageChannel).port1.onmessage=function(e){h(e.data)},i=function(e){r.port2.postMessage(e)}):d&&"onreadystatechange"in d.createElement("script")?(o=d.documentElement,i=function(e){var t=d.createElement("script");t.onreadystatechange=function(){h(e),t.onreadystatechange=null,o.removeChild(t),t=null},o.appendChild(t)}):i=function(e){setTimeout(h,0,e)}:(a="setImmediate$"+Math.random()+"$",s=function(t){t.source===e&&"string"===typeof t.data&&0===t.data.indexOf(a)&&h(+t.data.slice(a.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),i=function(t){e.postMessage(a+t,"*")}),f.setImmediate=function(e){"function"!==typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var o={callback:e,args:t};return l[c]=o,i(c),c++},f.clearImmediate=p}function p(e){delete l[e]}function h(e){if(u)setTimeout(h,0,e);else{var t=l[e];if(t){u=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(void 0,n)}}(t)}finally{p(e),u=!1}}}}}("undefined"===typeof self?"undefined"===typeof e?this:e:self)}).call(this,n(27),n(46))},226:function(e,t,n){r.$inject=["$http","AddFontsToWebProjectService","UrlService"];var i=n(151),o="post_login_action_id";function r(e,t,n){return{getPostLoginActionData:r,getPostLoginActionId:a,handlePageLoad:function(){if(!a())return;r(a()).then(c).finally(s)}};function r(t){return e.delete("/post_login_actions/"+t).then((function(e){return e.data}))}function a(){return n.getSearchParam(o)}function s(){return n.removeSearchParam(o)}function c(e){if(n.removeSearchParam(o),e.actionName===i.ADD_TO_WEB_PROJECT)return t.addFamilyToWebProject(e.data.familySlug,e.data.variationSlug)}}e.exports=r},227:function(e,t){e.exports={afterConsent:function(e){n?window.addEventListener("adobePrivacy:PrivacyConsent",(function(){e()})):e()},enableConsentCheck:function(){n=!0},loadResource:function(e){if(window.adobePrivacy)window.adobePrivacy.loadResource(e);else{var t=document.createElement("script");t.src=e.path,e.callback&&(t.onload=e.callback),document.head.appendChild(t)}}};var n=!1},255:function(e,t,n){"use strict";n.r(t),n.d(t,"getClosestFVD",(function(){return o})),n.d(t,"getClosestToBasicFour",(function(){return r})),n.d(t,"getFVDsWithWeight",(function(){return a})),n.d(t,"getStyleFromFVD",(function(){return s})),n.d(t,"getWeightFromFVD",(function(){return c}));const i={normal:["normal","italic","oblique"],italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"]};function o(e,t){if(!e||!t.length)return;const n=c(e),o=s(e);if(isNaN(n)||!o)return;const r={};t.forEach((e=>{const t=c(e),n=s(e);!isNaN(t)&&n&&(r[t]||(r[t]={}),r[t][n]=e)}));let a=1,l=n,u=n>=500?1:-1;for(;a<20&&!r[l];)l+=a*u*100,u*=-1,a+=1;const d=i[o]||[];for(let i=0,s=d.length;i<s;i++){const e=r[l][d[i]];if(e)return e}}function r(e){let t=[];return["n4","n7"].forEach((n=>{const i=o(n,e);if(i){const n=c(i);t=t.concat(a(n,e))}})),[...new Set(t)]}function a(e,t){return t.filter((t=>c(t)==e))}function s(e){return"n"===e[0]?"normal":"i"===e[0]?"italic":"o"===e[0]?"oblique":void 0}function c(e){return parseInt(`${e[1]}00`,10)}},26:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));class i extends CustomEvent{constructor(e){super("locale-changed",{detail:{locale:e},bubbles:!0,composed:!0})}}i.EVENT_NAME="locale-changed"},267:function(e,t){window.__sharedModules__=window.__sharedModules__||{},e.exports={areWebComponentsEnabled:function(){return!!window.__webComponentsEnabled__},modules:{add:function(e){for(var t in e)window.__sharedModules__[t]=e[t]},get:function(e){return window.__sharedModules__[e]}},setWebComponentsEnabled:function(){window.__webComponentsEnabled__=!0}}},268:function(e,t,n){"use strict";n.r(t),n.d(t,"getUserInfoSync",(function(){return a})),n.d(t,"hasPaidCreativeCloud",(function(){return s}));var i=n(66),o=n.n(i),r=n(76);function a(){return Object(r.getData)("user-info")||{flags:{}}}function s(){var e=a();return e.flags.enableNonIMSPaidUserData?e.hasPaidCreativeCloud:function(){var e=o.a.getUserProfile();if(!e)return!1;return"CS_LVL_2"===((e.serviceAccounts||[]).filter((function(e){return"creative_cloud"===e.serviceCode}))[0]||{}).serviceLevel}()}},27:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(i){"object"===typeof window&&(n=window)}e.exports=n},283:function(e,t){o.$inject=["$timeout","FontLoaderService"];var n="display-in-font--loading",i="adobe-notdef";function o(e,t){function o(o,r){var a=o.displayInFont();if(a){r.addClass(n);var s=a.fvd[1]+"00",c="n"===a.fvd[0]?"normal":"i"===a.fvd[0]?"italic":"oblique";r[0].style.fontFamily=[a.cssName,i].join(","),r[0].style.fontWeight=s,r[0].style.fontStyle=c,e((function(){var e={weight:s,style:c,featureSettings:a.featureSettings,unicodeRange:a.unicodeRange,dynamic:a.isDynamic,display:"block"};t.loadFont(a.cssName,a.opaqueId,e).then((function(){r.removeClass(n),r.addClass("display-in-font--loaded")}),(function(){r.removeClass(n),r.addClass("display-in-font--failed")}))}),10)}}return{restrict:"A",scope:{displayInFont:"&"},link:function(e,t){e.$watch("displayInFont()",o.bind(this,e,t),!0)}}}e.exports=o},284:function(e,t,n){var i=n(388);e.exports=i},286:function(e,t,n){n(287),e.exports="ngSanitize"},287:function(e,t){!function(e,t,n){"use strict";var i=t.$$minErr("$sanitize");var o=/^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/,r=/^<\/\s*([\w:-]+)[^>]*>/,a=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,s=/^</,c=/^<\//,l=/<!--(.*?)-->/g,u=/<!DOCTYPE([^>]*?)>/i,d=/<!\[CDATA\[(.*?)]]>/g,f=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,p=/([^\#-~| |!])/g,h=x("area,br,col,hr,img,wbr"),g=x("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),m=x("rp,rt"),v=t.extend({},m,g),y=t.extend({},g,x("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),_=t.extend({},m,x("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),b=x("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan,use"),S=x("script,style"),w=t.extend({},h,y,_,v,b),$=x("background,cite,href,longdesc,src,usemap,xlink:href"),C=x("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),F=x("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),E=t.extend({},$,F,C);function x(e,n){var i,o={},r=e.split(",");for(i=0;i<r.length;i++)o[n?t.lowercase(r[i]):r[i]]=!0;return o}var k=document.createElement("pre");function T(e){return e?(k.innerHTML=e.replace(/</g,"&lt;"),k.textContent):""}function P(e){return e.replace(/&/g,"&amp;").replace(f,(function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"})).replace(p,(function(e){return"&#"+e.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function M(e,n){var i=!1,o=t.bind(e,e.push);return{start:function(e,r,a){e=t.lowercase(e),!i&&S[e]&&(i=e),i||!0!==w[e]||(o("<"),o(e),t.forEach(r,(function(i,r){var a=t.lowercase(r),s="img"===e&&"src"===a||"background"===a;!0!==E[a]||!0===$[a]&&!n(i,s)||(o(" "),o(r),o('="'),o(P(i)),o('"'))})),o(a?"/>":">"))},end:function(e){e=t.lowercase(e),i||!0!==w[e]||(o("</"),o(e),o(">")),e==i&&(i=!1)},chars:function(e){i||o(P(e))}}}t.module("ngSanitize",[]).provider("$sanitize",(function(){this.$get=["$$sanitizeUri",function(e){return function(n){var f=[];return function(e,n){"string"!==typeof e&&(e=null===e||"undefined"===typeof e?"":""+e);var f,p,g,m,b=[],w=e;b.last=function(){return b[b.length-1]};for(;e;){if(m="",p=!0,b.last()&&S[b.last()]?(e=e.replace(new RegExp("([\\W\\w]*)<\\s*\\/\\s*"+b.last()+"[^>]*>","i"),(function(e,t){return t=t.replace(l,"$1").replace(d,"$1"),n.chars&&n.chars(T(t)),""})),C("",b.last())):(0===e.indexOf("\x3c!--")?(f=e.indexOf("--",4))>=0&&e.lastIndexOf("--\x3e",f)===f&&(n.comment&&n.comment(e.substring(4,f)),e=e.substring(f+3),p=!1):u.test(e)?(g=e.match(u))&&(e=e.replace(g[0],""),p=!1):c.test(e)?(g=e.match(r))&&(e=e.substring(g[0].length),g[0].replace(r,C),p=!1):s.test(e)&&((g=e.match(o))?(g[4]&&(e=e.substring(g[0].length),g[0].replace(o,$)),p=!1):(m+="<",e=e.substring(1))),p&&(m+=(f=e.indexOf("<"))<0?e:e.substring(0,f),e=f<0?"":e.substring(f),n.chars&&n.chars(T(m)))),e==w)throw i("badparse","The sanitizer was unable to parse the following block of html: {0}",e);w=e}function $(e,i,o,r){if(i=t.lowercase(i),y[i])for(;b.last()&&_[b.last()];)C("",b.last());v[i]&&b.last()==i&&C("",i),(r=h[i]||!!r)||b.push(i);var s={};o.replace(a,(function(e,t,n,i,o){var r=n||i||o||"";s[t]=T(r)})),n.start&&n.start(i,s,r)}function C(e,i){var o,r=0;if(i=t.lowercase(i))for(r=b.length-1;r>=0&&b[r]!=i;r--);if(r>=0){for(o=b.length-1;o>=r;o--)n.end&&n.end(b[o]);b.length=r}}C()}(n,M(f,(function(t,n){return!/^unsafe/.test(e(t,n))}))),f.join("")}}]})),t.module("ngSanitize").filter("linky",["$sanitize",function(e){var n=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,i=/^mailto:/i;return function(o,r){if(!o)return o;for(var a,s,c,l=o,u=[];a=l.match(n);)s=a[0],a[2]||a[4]||(s=(a[3]?"http://":"mailto:")+s),c=a.index,d(l.substr(0,c)),f(s,a[0].replace(i,"")),l=l.substring(c+a[0].length);return d(l),e(u.join(""));function d(e){var n,i;e&&u.push((n=e,M(i=[],t.noop).chars(n),i.join("")))}function f(e,n){u.push("<a "),t.isDefined(r)&&u.push('target="',r,'" '),u.push('href="',e.replace(/"/g,"&quot;"),'">'),d(n),u.push("</a>")}}}])}(window,window.angular)},288:function(e,t){function n(e){this.autocompleteService=e}n.$inject=["FamilyAutocompleteSearchService"],e.exports=n},289:function(e,t,n){r.$inject=["$document","$scope","$window","DataService","FamilyAutocompleteSearchService","NewrelicService","UrlService","UserService"];var i=n(121),o=n(53).ViewportSize;function r(e,t,n,i,o,r,a,s){var c=this;c.$document=e,c.$scope=t,c.$window=n,c.DataService=i,c.FamilyAutocompleteSearchService=o,c.NewrelicService=r,c.UrlService=a,c.UserService=s,c._setViewportDefinition(),n.addEventListener("resize",(function(){c._handleWindowResize()})),c._preloadData().then((function(){c._setNewrelicCustomAttributes()}))}r.prototype._handleWindowResize=function(){this._setViewportDefinition(),this.$scope.$digest()},r.prototype._setViewportDefinition=function(){this.$window.innerWidth<720?this.viewportSize=o.XX_SMALL:this.$window.innerWidth<840?this.viewportSize=o.X_SMALL:this.$window.innerWidth<960?this.viewportSize=o.SMALL:this.$window.innerWidth<1024?this.viewportSize=o.MEDIUM:this.viewportSize=o.LARGE},r.prototype._webComponents_initNavBarCombo=function(){var e=this,t=e.$document.find("af-navbar-combo")[0];t&&t.addEventListener(i.EVENT_NAME,(function(n){e.FamilyAutocompleteSearchService.get(n.detail.searchParam).then((function(e){t.searchResults=e.data}))}))},r.prototype._preloadData=function(){var e=this;return e._webComponents_initNavBarCombo(),e.DataService.get("/user_info").then((function(t){e.UserService.setActivityState(t.activity_state),e.UserService.setAdobeProfileId(t.adobe_profile_id),e.UserService.setDaysSinceSyncActivity(t.days_since_sync_activity),e.UserService.setPlan(t.plan)}))},r.prototype._setNewrelicCustomAttributes=function(){var e=this.UrlService.getSearchParam("referrer");e&&this.NewrelicService.setCustomAttribute("referrer",e),this.NewrelicService.setCustomAttribute("activityState",this.UserService.getActivityState()),this.NewrelicService.setCustomAttribute("adobeProfileId",this.UserService.getAdobeProfileId()),this.NewrelicService.setCustomAttribute("daysSinceSyncActivity",this.UserService.getDaysSinceSyncActivity()),this.NewrelicService.setCustomAttribute("plan",this.UserService.getPlan())},e.exports=r},290:function(e,t,n){r.$inject=["$document","$scope","$window","DataService","FamilyAutocompleteSearchService","NewrelicService","NewrelicClickTrackerService"];var i=n(121),o=n(76);function r(e,t,n,i,r,a,s){if(this.$document=e,this.$window=n,this.DataService=i,this.FamilyAutocompleteSearchService=r,this.NewrelicService=a,this._preloadData(),n.addEventListener("resize",(function(){t.$apply()})),!o.getData("project_crossbar_data")){s.init({page:"marketplace_homepage"});var c=this;n.addEventListener("beforeunload",(function(){c.NewrelicService.addPageAction("typekit.marketplace_homepage.page_exit")}))}}r.prototype._webComponents_initSearchBar=function(){var e=this,t=e.$document.find("af-search-bar")[0];t&&t.addEventListener(i.EVENT_NAME,(function(n){e.FamilyAutocompleteSearchService.get(n.detail.searchParam).then((function(e){t.results=e.data}))}))},r.prototype.getSmallScreenClass=function(){return this.$window.innerWidth<500?"spectrum-grid-col-xs-12":this.$window.innerWidth<768?"spectrum-grid-col-xs-6":""},r.prototype.handleSearchByImageClick=function(){this.NewrelicService.addPageAction("typekit.marketplace_homepage.search_by_image_click")},r.prototype._preloadData=function(){var e=this;e.DataService.get("/preloaded_homepage_data").then((function(t){e.browseByClassifications=t.browse_by_classifications,e.browseByLanguages=t.browse_by_languages,e.browseByTags=t.browse_by_tags})),this._webComponents_initSearchBar()},e.exports=r},291:function(e,t,n){u.$inject=["$document","$http","$q","$scope","$window","DataService","DialogService","FilterVariationsService","I18nService","NewrelicService","ScrollService","UrlService","UserPrefsService","VisualSearchService"];var i=n(18),o=n(292),r=n(6),a="visual-searches--loading",s=/(fonts\/vs\/[^\/]*)(\/)*(.*)*/,c="text",l=["upload","select","confirm","results"];function u(e,t,n,i,o,r,a,s,c,l,u,d,f,p){var h=this;h.$document=e,h.$http=t,h.$q=n,h.$scope=i,h.$window=o,h.DataService=r,h.DialogService=a,h.FilterVariationsService=s,h.I18nService=c,h.NewrelicService=l,h.ScrollService=u,h.UrlService=d,h.VisualSearchService=p,h.UserPrefsService=f,h.filterValues=[],h._init()}u.prototype.filterFontsByRequiredActions=function(e){var t=this.FilterVariationsService.filterRequiredActionsByToggles(this.fonts,e);this.preferredAction=t.preferred,this.filteredFonts=this.FilterVariationsService.filterFontsByRequiredActions(this.fonts,t.filters)},u.prototype.showPaidFontsSelected=function(){return this.showPaidFonts},u.prototype.showTipsModal=function(){var e=this;e.DialogService.show("/angular_templates/dialogs/visual_search_tips.html",{closeOnDrag:!0}).then((function(){e.NewrelicService.addPageAction("typekit.render.visual-search.search-tips-modal")}))},u.prototype.handleExampleTextKeyup=function(e){"Enter"===e.key||13===e.keyCode?this.handleNextButtonClick():(this._userEnteredText=e.target.value,this._updateExampleText(e.target.value))},u.prototype.handleNextButtonClick=function(){this.loadStep(this._getNextStep())},u.prototype.handleStartOverClick=function(){this._setCurrentStep(l[0],!0)},u.prototype.handlePreviousClick=function(){var e=l.indexOf(this._currentStep),t=l[e-1];this._setCurrentStep(t,!0)},u.prototype.fontVariationCardsClass=function(){return"grid"===this.viewType?"spectrum-grid-row font-variations-grid-view":""},u.prototype.getExampleTextValue=function(){return this._userEnteredText||this.extractedText},u.prototype.loadStep=function(e){var t=this;t._currentStep!=e&&(t._currentStep==l[1]?t._updateResultsForCoordinates().then((function(){t._setCurrentStep(e,!0),t._updateExampleText(t._userEnteredText||t.extractedText),t._scrollToTop()})):(t._setCurrentStep(e,!0),t._scrollToTop()))},u.prototype.isCurrentStep=function(e){return this._currentStep==e},u.prototype.isConfirmationImageVisible=function(){switch(this._currentStep){case l[0]:case l[1]:return!1;default:return!0}},u.prototype.isFontListEmpty=function(){return 0===this.fonts.length},u.prototype.isFilteredFontListEmpty=function(){return 0===this.filteredFonts.length},u.prototype.getSimilarFontCountForDisplay=function(){return this.filteredFonts.length>1?this.I18nService.getMessage(this._i18n,"neue.visual_search.results_page.similar_fonts_plural",{num_fonts:this.filteredFonts.length}):1===this.filteredFonts.length?this.I18nService.getMessage(this._i18n,"neue.visual_search.results_page.similar_font_singular",{num_fonts:1}):this.I18nService.getMessage(this._i18n,"neue.visual_search.results_page.similar_fonts_plural",{num_fonts:0})},u.prototype._getCropperCoordinates=function(){var e=this.cropper.getData();return{x_min:e.x,y_min:e.y,x_max:e.x+e.width,y_max:e.y+e.height}},u.prototype._getCropperData=function(e){if(e.coordinates&&0!=Object.keys(e.coordinates).length)return{x:e.coordinates.x_min,y:e.coordinates.y_min,width:e.coordinates.x_max-e.coordinates.x_min,height:e.coordinates.y_max-e.coordinates.y_min};if(e.detectedRegion&&0!=Object.keys(e.detectedRegion).length){var t=e.detectedRegion;return{x:t.x_min,y:t.y_min,width:t.x_max-t.x_min,height:t.y_max-t.y_min}}return{}},u.prototype._getNextStep=function(){var e=l.indexOf(this._currentStep);return e+1<l.length?l[e+1]:l[0]},u.prototype._getPlaceholderConfirmationCanvas=function(){return this.$document[0].querySelector(".visual-searches__confirm-image .visual-searches__confirmation-canvas-placeholder")},u.prototype._getStepFromUrl=function(){var e=s.exec(this.$window.location.pathname);return e[e.length-1]?e[e.length-1]:l[0]},u.prototype._getUrlForStep=function(e){return"/"+s.exec(this.$window.location.pathname)[1]+"/"+e},u.prototype._init=function(){var e=this;e.viewType="list",e._preloadData().then((function(t){var n=t[1];e._currentStep!=l[0]&&e._preloadImage().then((function(){return e._initCropper(e._getCropperData(n))})).then((function(){e._confirmationCanvas=e._getPlaceholderConfirmationCanvas(),e._showCroppedImage()}))})),e.$window.onpopstate=function(){e.$scope.$apply((function(){e._setCurrentStep(e._getStepFromUrl())}))}},u.prototype._initCropper=function(e){var t=this;return t.$q((function(n){t._setMaxContainerDimensions(),t.cropper=new o(t.image,{background:!1,data:e,minCropBoxHeight:10,minCropBoxWidth:10,minContainerHeight:10,minContainerWidth:10,dragMode:"none",responsive:!0,zoomable:!1,checkCrossOrigin:!1,viewMode:1,ready:n})}))},u.prototype._preloadImage=function(){var e=this;return e.$q((function(t){e.image=e.$document[0].getElementById("visual-searches__image-cropper-image"),e.$http({method:"GET",url:e.image.getAttribute("data-src"),responseType:"blob"}).then((function(n){e.image.onload=t,e.image.src=e.$window.URL.createObjectURL(n.data)}))}))},u.prototype._scrollToTop=function(){var e=this.$document[0].querySelector("#visual-search-heading");this.ScrollService.scrollUpTo(e,1e3)},u.prototype._setMaxContainerDimensions=function(){var e=this,t=e.$document[0].getElementById("visual-searches__image-cropper");t.style.maxWidth=e.image.naturalWidth+"px",t.style.maxHeight=e.image.naturalHeight+"px"},u.prototype._preloadData=function(){var e=this;return e.$q.all([e.UserPrefsService.getUserPrefs().then((function(t){e.showPaidFonts=!!t.showPaidFonts})),e.$q((function(t){e.DataService.get("/neue/preloaded_variation_data").then((function(n){e._currentStep=n.step,n.step!=l[0]&&(e.fonts=n.fonts,e.extractedText=n.detectedText,e.visualSearchOpaqueId=n.visualSearchOpaqueId,e.textSamples=n.textSampleData.textSamples,e.textSamplePrimers=n.textSampleData.textSamplePrimers,e.textSampleData=n.textSampleData),e.showUpgradeActionToggle=e.FilterVariationsService.hasUpgradeFilterOption(e.fonts),e.filterFontsByRequiredActions(),e.UrlService.getSearchParam(c)&&(e._userEnteredText=decodeURIComponent(e.UrlService.getSearchParam(c))),e._updateExampleText(e._userEnteredText||e.extractedText),t(n)})),e.DataService.get("/visual_search/i18n").then((function(t){e._i18n=t}))}))])},u.prototype._setCurrentStep=function(e,t){this._currentStep=e,this.NewrelicService.addPageAction("typekit.render.visual-search.step",{step:e}),t&&this.UrlService.pushState(null,null,this._getUrlForStep(e)),e!=l[0]&&this._storeDataInUrl()},u.prototype._setLoadingState=function(){i.element(this.$document[0].body).addClass(a)},u.prototype._showCroppedImage=function(){var e=this.cropper.getCroppedCanvas();this._confirmationCanvas.parentNode.replaceChild(e,this._confirmationCanvas),this._confirmationCanvas=e},u.prototype._storeDataInUrl=function(){var e=this._getCropperCoordinates();this._userEnteredText&&(e.text=encodeURIComponent(this._userEnteredText)),this.UrlService.setSearchParams(e)},u.prototype._unsetLoadingState=function(){i.element(this.$document[0].body).removeClass(a)},u.prototype._updateExampleText=function(e){this.exampleText={size:50,value:e||"The quick brown fox jumps over the lazy dog"}},u.prototype._updateResultsForCoordinates=function(){var e=this;return e.$q((function(t){e._setLoadingState(),e.VisualSearchService.put(e.visualSearchOpaqueId,e._getCropperCoordinates()).then((function(n){e._showCroppedImage(),e.extractedText=n.data.text,e.fonts=n.data.fonts;var i={upgrade:e.showPaidFonts},o=e.FilterVariationsService.filterRequiredActionsByToggles(e.fonts,i);e.filteredFonts=e.FilterVariationsService.filterFontsByRequiredActions(e.fonts,o.filters);var a={fontCount:e.fonts.length};e.fonts.length>0&&(a.topResult=r.first(r.pluck(e.fonts,"name"))),e.NewrelicService.addPageAction("typekit.render.visual-search",a),t(),e._unsetLoadingState()}))}))},e.exports=u},292:function(e,t,n){e.exports=function(){"use strict";var e={viewMode:0,dragMode:"crop",aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},t='<div class="cropper-container"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-action="e"></span><span class="cropper-line line-n" data-action="n"></span><span class="cropper-line line-w" data-action="w"></span><span class="cropper-line line-s" data-action="s"></span><span class="cropper-point point-e" data-action="e"></span><span class="cropper-point point-n" data-action="n"></span><span class="cropper-point point-w" data-action="w"></span><span class="cropper-point point-s" data-action="s"></span><span class="cropper-point point-ne" data-action="ne"></span><span class="cropper-point point-nw" data-action="nw"></span><span class="cropper-point point-sw" data-action="sw"></span><span class="cropper-point point-se" data-action="se"></span></div></div>',n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},a=/^data:([^;]+);base64,/,s=/([a-z\d])([A-Z])/g,c=/^(https?:)\/\/([^:/?#]+):?(\d*)/i,l=/\s+/,u=/^(width|height|left|top|marginLeft|marginTop)$/,d=/^\s+(.*)\s+$/,f=/(Macintosh|iPhone|iPod|iPad).*AppleWebKit/i,p="undefined"!==typeof window?window.navigator:null,h=p&&f.test(p.userAgent),g=Object.prototype,m=g.toString,v=g.hasOwnProperty,y=(Array.prototype.slice,String.fromCharCode);function _(e){return m.call(e).slice(8,-1).toLowerCase()}function b(e){return"number"===typeof e&&!isNaN(e)}function S(e){return"undefined"===typeof e}function w(e){return"object"===("undefined"===typeof e?"undefined":n(e))&&null!==e}function $(e){if(!w(e))return!1;try{var t=e.constructor,n=t.prototype;return t&&n&&v.call(n,"isPrototypeOf")}catch(i){return!1}}function C(e){return"function"===_(e)}function F(e){return Array.isArray?Array.isArray(e):"array"===_(e)}function E(e){return"string"===typeof e&&(e=e.trim?e.trim():e.replace(d,"$1")),e}function x(e,t){if(e&&C(t)){var n=void 0;if(F(e)||b(e.length)){var i=e.length;for(n=0;n<i&&!1!==t.call(e,e[n],n,e);n++);}else w(e)&&Object.keys(e).forEach((function(n){t.call(e,e[n],n,e)}))}return e}function k(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=!0===t[0],o=i?t[1]:t[0];return w(o)&&t.length>1&&(t.shift(),t.forEach((function(e){w(e)&&Object.keys(e).forEach((function(t){i&&w(o[t])?k(!0,o[t],e[t]):o[t]=e[t]}))}))),o}function T(e,t){for(var n=arguments.length,i=Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];return function(){for(var n=arguments.length,o=Array(n),r=0;r<n;r++)o[r]=arguments[r];return e.apply(t,i.concat(o))}}function P(e,t){var n=e.style;x(t,(function(e,t){u.test(t)&&b(e)&&(e+="px"),n[t]=e}))}function M(e,t){return e.classList?e.classList.contains(t):e.className.indexOf(t)>-1}function A(e,t){if(b(e.length))x(e,(function(e){A(e,t)}));else if(e.classList)e.classList.add(t);else{var n=E(e.className);n?n.indexOf(t)<0&&(e.className=n+" "+t):e.className=t}}function D(e,t){b(e.length)?x(e,(function(e){D(e,t)})):e.classList?e.classList.remove(t):e.className.indexOf(t)>=0&&(e.className=e.className.replace(t,""))}function L(e,t,n){b(e.length)?x(e,(function(e){L(e,t,n)})):n?A(e,t):D(e,t)}function N(e){return e.replace(s,"$1-$2").toLowerCase()}function I(e,t){return w(e[t])?e[t]:e.dataset?e.dataset[t]:e.getAttribute("data-"+N(t))}function j(e,t,n){w(n)?e[t]=n:e.dataset?e.dataset[t]=n:e.setAttribute("data-"+N(t),n)}function R(e,t){if(w(e[t]))delete e[t];else if(e.dataset)try{delete e.dataset[t]}catch(n){e.dataset[t]=null}else e.removeAttribute("data-"+N(t))}function O(e,t,n){var i=E(t).split(l);i.length>1?x(i,(function(t){O(e,t,n)})):e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent&&e.detachEvent("on"+t,n)}function V(e,t,n,i){var o=E(t).split(l),r=n;o.length>1?x(o,(function(t){V(e,t,n)})):(i&&(n=function(){for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return O(e,t,n),r.apply(e,o)}),e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n))}function U(e,t,n){if(e.dispatchEvent){var i=void 0;return C(Event)&&C(CustomEvent)?i=S(n)?new Event(t,{bubbles:!0,cancelable:!0}):new CustomEvent(t,{detail:n,bubbles:!0,cancelable:!0}):S(n)?(i=document.createEvent("Event")).initEvent(t,!0,!0):(i=document.createEvent("CustomEvent")).initCustomEvent(t,!0,!0,n),e.dispatchEvent(i)}return!e.fireEvent||e.fireEvent("on"+t)}function B(e){var t=e||window.event;if(t.target||(t.target=t.srcElement||document),!b(t.pageX)&&b(t.clientX)){var n=e.target.ownerDocument||document,i=n.documentElement,o=n.body;t.pageX=t.clientX+((i&&i.scrollLeft||o&&o.scrollLeft||0)-(i&&i.clientLeft||o&&o.clientLeft||0)),t.pageY=t.clientY+((i&&i.scrollTop||o&&o.scrollTop||0)-(i&&i.clientTop||o&&o.clientTop||0))}return t}function W(e){var t=document.documentElement,n=e.getBoundingClientRect();return{left:n.left+((window.scrollX||t&&t.scrollLeft||0)-(t&&t.clientLeft||0)),top:n.top+((window.scrollY||t&&t.scrollTop||0)-(t&&t.clientTop||0))}}function z(e,t){return e.getElementsByTagName(t)}function H(e,t){return e.getElementsByClassName?e.getElementsByClassName(t):e.querySelectorAll("."+t)}function q(e){return document.createElement(e)}function G(e,t){e.appendChild(t)}function Z(e){e.parentNode&&e.parentNode.removeChild(e)}function K(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function X(e){var t=e.match(c);return t&&(t[1]!==location.protocol||t[2]!==location.hostname||t[3]!==location.port)}function Y(e){var t="timestamp="+(new Date).getTime();return e+(-1===e.indexOf("?")?"?":"&")+t}function J(e,t){if(!e.naturalWidth||h){var n=q("img");n.onload=function(){t(this.width,this.height)},n.src=e.src}else t(e.naturalWidth,e.naturalHeight)}function Q(e){var t=[],n=e.translateX,i=e.translateY,o=e.rotate,r=e.scaleX,a=e.scaleY;b(n)&&0!==n&&t.push("translateX("+n+"px)"),b(i)&&0!==i&&t.push("translateY("+i+"px)"),b(o)&&0!==o&&t.push("rotate("+o+"deg)"),b(r)&&1!==r&&t.push("scaleX("+r+")"),b(a)&&1!==a&&t.push("scaleY("+a+")");var s=t.length?t.join(" "):"none";return{WebkitTransform:s,msTransform:s,transform:s}}function ee(e,t){var n=Math.abs(e.degree)%180,i=(n>90?180-n:n)*Math.PI/180,o=Math.sin(i),r=Math.cos(i),a=e.width,s=e.height,c=e.aspectRatio,l=void 0,u=void 0;return t?u=(l=a/(r+o/c))/c:(l=a*r+s*o,u=a*o+s*r),{width:l,height:u}}function te(e,t){var n=q("canvas"),i=n.getContext("2d"),o=0,r=0,a=t.naturalWidth,s=t.naturalHeight,c=t.rotate,l=t.scaleX,u=t.scaleY,d=b(l)&&b(u)&&(1!==l||1!==u),f=b(c)&&0!==c,p=f||d,h=a*Math.abs(l||1),g=s*Math.abs(u||1),m=void 0,v=void 0,y=void 0;return d&&(m=h/2,v=g/2),f&&(m=(h=(y=ee({width:h,height:g,degree:c})).width)/2,v=(g=y.height)/2),n.width=h,n.height=g,p&&(o=-a/2,r=-s/2,i.save(),i.translate(m,v)),f&&i.rotate(c*Math.PI/180),d&&i.scale(l,u),i.drawImage(e,Math.floor(o),Math.floor(r),Math.floor(a),Math.floor(s)),p&&i.restore(),n}function ne(e,t,n){var i="",o=t;for(n+=t;o<n;o++)i+=y(e.getUint8(o));return i}function ie(e){var t=new DataView(e),n=t.byteLength,i=void 0,o=void 0,r=void 0,a=void 0,s=void 0,c=void 0,l=void 0,u=void 0,d=void 0;if(255===t.getUint8(0)&&216===t.getUint8(1))for(u=2;u<n;){if(255===t.getUint8(u)&&225===t.getUint8(u+1)){c=u;break}u++}if(c&&(o=c+10,"Exif"===ne(t,c+4,4)&&((a=18761===(s=t.getUint16(o)))||19789===s)&&42===t.getUint16(o+2,a)&&(r=t.getUint32(o+4,a))>=8&&(l=o+r)),l)for(n=t.getUint16(l,a),d=0;d<n;d++)if(u=l+12*d+2,274===t.getUint16(u,a)){u+=8,i=t.getUint16(u,a),h&&t.setUint16(u,1,a);break}return i}function oe(e){var t=e.replace(a,""),n=atob(t),i=n.length,o=new ArrayBuffer(i),r=new Uint8Array(o),s=void 0;for(s=0;s<i;s++)r[s]=n.charCodeAt(s);return o}function re(e){var t=new Uint8Array(e),n=t.length,i="",o=void 0;for(o=0;o<n;o++)i+=y(t[o]);return"data:image/jpeg;base64,"+btoa(i)}var ae={render:function(){var e=this;e.initContainer(),e.initCanvas(),e.initCropBox(),e.renderCanvas(),e.cropped&&e.renderCropBox()},initContainer:function(){var e=this,t=e.options,n=e.element,i=e.container,o=e.cropper,r="cropper-hidden",a=void 0;A(o,r),D(n,r),e.containerData=a={width:Math.max(i.offsetWidth,Number(t.minContainerWidth)||200),height:Math.max(i.offsetHeight,Number(t.minContainerHeight)||100)},P(o,{width:a.width,height:a.height}),A(n,r),D(o,r)},initCanvas:function(){var e=this,t=e.options.viewMode,n=e.containerData,i=e.imageData,o=90===Math.abs(i.rotate),r=o?i.naturalHeight:i.naturalWidth,a=o?i.naturalWidth:i.naturalHeight,s=r/a,c=n.width,l=n.height;n.height*s>n.width?3===t?c=n.height*s:l=n.width/s:3===t?l=n.width/s:c=n.height*s;var u={naturalWidth:r,naturalHeight:a,aspectRatio:s,width:c,height:l};u.oldLeft=u.left=(n.width-c)/2,u.oldTop=u.top=(n.height-l)/2,e.canvasData=u,e.limited=1===t||2===t,e.limitCanvas(!0,!0),e.initialImageData=k({},i),e.initialCanvasData=k({},u)},limitCanvas:function(e,t){var n=this,i=n.options,o=i.viewMode,r=n.containerData,a=n.canvasData,s=a.aspectRatio,c=n.cropBoxData,l=n.cropped&&c;if(e){var u=Number(i.minCanvasWidth)||0,d=Number(i.minCanvasHeight)||0;o>1?(u=Math.max(u,r.width),d=Math.max(d,r.height),3===o&&(d*s>u?u=d*s:d=u/s)):o>0&&(u?u=Math.max(u,l?c.width:0):d?d=Math.max(d,l?c.height:0):l&&(u=c.width,(d=c.height)*s>u?u=d*s:d=u/s)),u&&d?d*s>u?d=u/s:u=d*s:u?d=u/s:d&&(u=d*s),a.minWidth=u,a.minHeight=d,a.maxWidth=1/0,a.maxHeight=1/0}if(t)if(o){var f=r.width-a.width,p=r.height-a.height;a.minLeft=Math.min(0,f),a.minTop=Math.min(0,p),a.maxLeft=Math.max(0,f),a.maxTop=Math.max(0,p),l&&n.limited&&(a.minLeft=Math.min(c.left,c.left+(c.width-a.width)),a.minTop=Math.min(c.top,c.top+(c.height-a.height)),a.maxLeft=c.left,a.maxTop=c.top,2===o&&(a.width>=r.width&&(a.minLeft=Math.min(0,f),a.maxLeft=Math.max(0,f)),a.height>=r.height&&(a.minTop=Math.min(0,p),a.maxTop=Math.max(0,p))))}else a.minLeft=-a.width,a.minTop=-a.height,a.maxLeft=r.width,a.maxTop=r.height},renderCanvas:function(e){var t=this,n=t.canvasData,i=t.imageData,o=i.rotate,r=void 0,a=void 0;t.rotated&&(t.rotated=!1,(r=(a=ee({width:i.width,height:i.height,degree:o})).width/a.height)!==n.aspectRatio&&(n.left-=(a.width-n.width)/2,n.top-=(a.height-n.height)/2,n.width=a.width,n.height=a.height,n.aspectRatio=r,n.naturalWidth=i.naturalWidth,n.naturalHeight=i.naturalHeight,o%180&&(a=ee({width:i.naturalWidth,height:i.naturalHeight,degree:o}),n.naturalWidth=a.width,n.naturalHeight=a.height),t.limitCanvas(!0,!1))),(n.width>n.maxWidth||n.width<n.minWidth)&&(n.left=n.oldLeft),(n.height>n.maxHeight||n.height<n.minHeight)&&(n.top=n.oldTop),n.width=Math.min(Math.max(n.width,n.minWidth),n.maxWidth),n.height=Math.min(Math.max(n.height,n.minHeight),n.maxHeight),t.limitCanvas(!1,!0),n.oldLeft=n.left=Math.min(Math.max(n.left,n.minLeft),n.maxLeft),n.oldTop=n.top=Math.min(Math.max(n.top,n.minTop),n.maxTop),P(t.canvas,k({width:n.width,height:n.height},Q({translateX:n.left,translateY:n.top}))),t.renderImage(),t.cropped&&t.limited&&t.limitCropBox(!0,!0),e&&t.output()},renderImage:function(e){var t=this,n=t.canvasData,i=t.imageData,o=void 0,r=void 0,a=void 0,s=void 0;i.rotate&&(o={width:a=(r=ee({width:n.width,height:n.height,degree:i.rotate,aspectRatio:i.aspectRatio},!0)).width,height:s=r.height,left:(n.width-a)/2,top:(n.height-s)/2}),k(i,o||{width:n.width,height:n.height,left:0,top:0}),P(t.image,k({width:i.width,height:i.height},Q(k({translateX:i.left,translateY:i.top},i)))),e&&t.output()},initCropBox:function(){var e=this,t=e.options,n=t.aspectRatio,i=Number(t.autoCropArea)||.8,o=e.canvasData,r={width:o.width,height:o.height};n&&(o.height*n>o.width?r.height=r.width/n:r.width=r.height*n),e.cropBoxData=r,e.limitCropBox(!0,!0),r.width=Math.min(Math.max(r.width,r.minWidth),r.maxWidth),r.height=Math.min(Math.max(r.height,r.minHeight),r.maxHeight),r.width=Math.max(r.minWidth,r.width*i),r.height=Math.max(r.minHeight,r.height*i),r.oldLeft=r.left=o.left+(o.width-r.width)/2,r.oldTop=r.top=o.top+(o.height-r.height)/2,e.initialCropBoxData=k({},r)},limitCropBox:function(e,t){var n=this,i=n.options,o=i.aspectRatio,r=n.containerData,a=n.canvasData,s=n.cropBoxData,c=n.limited;if(e){var l=Number(i.minCropBoxWidth)||0,u=Number(i.minCropBoxHeight)||0,d=Math.min(r.width,c?a.width:r.width),f=Math.min(r.height,c?a.height:r.height);l=Math.min(l,r.width),u=Math.min(u,r.height),o&&(l&&u?u*o>l?u=l/o:l=u*o:l?u=l/o:u&&(l=u*o),f*o>d?f=d/o:d=f*o),s.minWidth=Math.min(l,d),s.minHeight=Math.min(u,f),s.maxWidth=d,s.maxHeight=f}t&&(c?(s.minLeft=Math.max(0,a.left),s.minTop=Math.max(0,a.top),s.maxLeft=Math.min(r.width,a.left+a.width)-s.width,s.maxTop=Math.min(r.height,a.top+a.height)-s.height):(s.minLeft=0,s.minTop=0,s.maxLeft=r.width-s.width,s.maxTop=r.height-s.height))},renderCropBox:function(){var e=this,t=e.options,n=e.containerData,i=e.cropBoxData;(i.width>i.maxWidth||i.width<i.minWidth)&&(i.left=i.oldLeft),(i.height>i.maxHeight||i.height<i.minHeight)&&(i.top=i.oldTop),i.width=Math.min(Math.max(i.width,i.minWidth),i.maxWidth),i.height=Math.min(Math.max(i.height,i.minHeight),i.maxHeight),e.limitCropBox(!1,!0),i.oldLeft=i.left=Math.min(Math.max(i.left,i.minLeft),i.maxLeft),i.oldTop=i.top=Math.min(Math.max(i.top,i.minTop),i.maxTop),t.movable&&t.cropBoxMovable&&j(e.face,"action",i.width===n.width&&i.height===n.height?"move":"all"),P(e.cropBox,k({width:i.width,height:i.height},Q({translateX:i.left,translateY:i.top}))),e.cropped&&e.limited&&e.limitCanvas(!0,!0),e.disabled||e.output()},output:function(){var e=this;e.preview(),e.complete&&U(e.element,"crop",e.getData())}},se="preview",ce={initPreview:function(){var e=this,t=e.options.preview,n=q("img"),i=e.crossOrigin,o=i?e.crossOriginUrl:e.url;if(i&&(n.crossOrigin=i),n.src=o,G(e.viewBox,n),e.image2=n,t){var r=t.querySelector?[t]:document.querySelectorAll(t);e.previews=r,x(r,(function(e){var t=q("img");j(e,se,{width:e.offsetWidth,height:e.offsetHeight,html:e.innerHTML}),i&&(t.crossOrigin=i),t.src=o,t.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',K(e),G(e,t)}))}},resetPreview:function(){x(this.previews,(function(e){var t=I(e,se);P(e,{width:t.width,height:t.height}),e.innerHTML=t.html,R(e,se)}))},preview:function(){var e=this,t=e.imageData,n=e.canvasData,i=e.cropBoxData,o=i.width,r=i.height,a=t.width,s=t.height,c=i.left-n.left-t.left,l=i.top-n.top-t.top;e.cropped&&!e.disabled&&(P(e.image2,k({width:a,height:s},Q(k({translateX:-c,translateY:-l},t)))),x(e.previews,(function(e){var n=I(e,se),i=n.width,u=n.height,d=i,f=u,p=1;o&&(f=r*(p=i/o)),r&&f>u&&(d=o*(p=u/r),f=u),P(e,{width:d,height:f}),P(z(e,"img")[0],k({width:a*p,height:s*p},Q(k({translateX:-c*p,translateY:-l*p},t))))})))}},le="undefined"!==typeof window?window.PointerEvent:null,ue=le?"pointerdown":"touchstart mousedown",de=le?"pointermove":"touchmove mousemove",fe=le?" pointerup pointercancel":"touchend touchcancel mouseup",pe="wheel mousewheel DOMMouseScroll",he="dblclick",ge="resize",me="cropstart",ve="cropmove",ye="cropend",_e="crop",be="zoom",Se={bind:function(){var e=this,t=e.options,n=e.element,i=e.cropper;C(t.cropstart)&&V(n,me,t.cropstart),C(t.cropmove)&&V(n,ve,t.cropmove),C(t.cropend)&&V(n,ye,t.cropend),C(t.crop)&&V(n,_e,t.crop),C(t.zoom)&&V(n,be,t.zoom),V(i,ue,e.onCropStart=T(e.cropStart,e)),t.zoomable&&t.zoomOnWheel&&V(i,pe,e.onWheel=T(e.wheel,e)),t.toggleDragModeOnDblclick&&V(i,he,e.onDblclick=T(e.dblclick,e)),V(document,de,e.onCropMove=T(e.cropMove,e)),V(document,fe,e.onCropEnd=T(e.cropEnd,e)),t.responsive&&V(window,ge,e.onResize=T(e.resize,e))},unbind:function(){var e=this,t=e.options,n=e.element,i=e.cropper;C(t.cropstart)&&O(n,me,t.cropstart),C(t.cropmove)&&O(n,ve,t.cropmove),C(t.cropend)&&O(n,ye,t.cropend),C(t.crop)&&O(n,_e,t.crop),C(t.zoom)&&O(n,be,t.zoom),O(i,ue,e.onCropStart),t.zoomable&&t.zoomOnWheel&&O(i,pe,e.onWheel),t.toggleDragModeOnDblclick&&O(i,he,e.onDblclick),O(document,de,e.onCropMove),O(document,fe,e.onCropEnd),t.responsive&&O(window,ge,e.onResize)}},we=/^(e|w|s|n|se|sw|ne|nw|all|crop|move|zoom)$/;function $e(e,t){var n=e.pageX,i=e.pageY,o={endX:n,endY:i};return t?o:k({startX:n,startY:i},o)}var Ce={resize:function(){var e=this,t=e.options.restore,n=e.container,i=e.containerData;if(!e.disabled&&i){var o=n.offsetWidth/i.width,r=void 0,a=void 0;1===o&&n.offsetHeight===i.height||(t&&(r=e.getCanvasData(),a=e.getCropBoxData()),e.render(),t&&(e.setCanvasData(x(r,(function(e,t){r[t]=e*o}))),e.setCropBoxData(x(a,(function(e,t){a[t]=e*o})))))}},dblclick:function(){var e=this;e.disabled||e.setDragMode(M(e.dragBox,"cropper-crop")?"move":"crop")},wheel:function(e){var t=this,n=B(e),i=Number(t.options.wheelZoomRatio)||.1,o=1;t.disabled||(n.preventDefault(),t.wheeling||(t.wheeling=!0,setTimeout((function(){t.wheeling=!1}),50),n.deltaY?o=n.deltaY>0?1:-1:n.wheelDelta?o=-n.wheelDelta/120:n.detail&&(o=n.detail>0?1:-1),t.zoom(-o*i,n)))},cropStart:function(e){var t=this;if(!t.disabled){var n=t.options,i=t.pointers,o=B(e),r=void 0;if(o.changedTouches?x(o.changedTouches,(function(e){i[e.identifier]=$e(e)})):i[o.pointerId||0]=$e(o),r=Object.keys(i).length>1&&n.zoomable&&n.zoomOnTouch?"zoom":I(o.target,"action"),we.test(r)){if(!1===U(t.element,"cropstart",{originalEvent:o,action:r}))return;o.preventDefault(),t.action=r,t.cropping=!1,"crop"===r&&(t.cropping=!0,A(t.dragBox,"cropper-modal"))}}},cropMove:function(e){var t=this,n=t.action;if(!t.disabled&&n){var i=t.pointers,o=B(e);o.preventDefault(),!1!==U(t.element,"cropmove",{originalEvent:o,action:n})&&(o.changedTouches?x(o.changedTouches,(function(e){k(i[e.identifier],$e(e,!0))})):k(i[o.pointerId||0],$e(o,!0)),t.change(o))}},cropEnd:function(e){var t=this,n=t.action;if(!t.disabled&&n){var i=t.pointers,o=B(e);o.preventDefault(),o.changedTouches?x(o.changedTouches,(function(e){delete i[e.identifier]})):delete i[o.pointerId||0],Object.keys(i).length||(t.action=""),t.cropping&&(t.cropping=!1,L(t.dragBox,"cropper-modal",t.cropped&&this.options.modal)),U(t.element,"cropend",{originalEvent:o,action:n})}}},Fe="e",Ee="w",xe="s",ke="n",Te="se",Pe="sw",Me="ne",Ae="nw";function De(e){var t=k({},e),n=[];return x(e,(function(e,i){delete t[i],x(t,(function(t){var i=Math.abs(e.startX-t.startX),o=Math.abs(e.startY-t.startY),r=Math.abs(e.endX-t.endX),a=Math.abs(e.endY-t.endY),s=Math.sqrt(i*i+o*o),c=(Math.sqrt(r*r+a*a)-s)/s;n.push(c)}))})),n.sort((function(e,t){return Math.abs(e)<Math.abs(t)})),n[0]}var Le={change:function(e){var t=this,n=t.options,i=t.containerData,o=t.canvasData,r=t.cropBoxData,a=n.aspectRatio,s=t.action,c=r.width,l=r.height,u=r.left,d=r.top,f=u+c,p=d+l,h=0,g=0,m=i.width,v=i.height,y=!0,_=void 0;!a&&e.shiftKey&&(a=c&&l?c/l:1),t.limited&&(h=r.minLeft,g=r.minTop,m=h+Math.min(i.width,o.width,o.left+o.width),v=g+Math.min(i.height,o.height,o.top+o.height));var b=t.pointers,S=b[Object.keys(b)[0]],w={x:S.endX-S.startX,y:S.endY-S.startY};switch(a&&(w.X=w.y*a,w.Y=w.x/a),s){case"all":u+=w.x,d+=w.y;break;case Fe:if(w.x>=0&&(f>=m||a&&(d<=g||p>=v))){y=!1;break}c+=w.x,a&&(l=c/a,d-=w.Y/2),c<0&&(s=Ee,c=0);break;case ke:if(w.y<=0&&(d<=g||a&&(u<=h||f>=m))){y=!1;break}l-=w.y,d+=w.y,a&&(c=l*a,u+=w.X/2),l<0&&(s=xe,l=0);break;case Ee:if(w.x<=0&&(u<=h||a&&(d<=g||p>=v))){y=!1;break}c-=w.x,u+=w.x,a&&(l=c/a,d+=w.Y/2),c<0&&(s=Fe,c=0);break;case xe:if(w.y>=0&&(p>=v||a&&(u<=h||f>=m))){y=!1;break}l+=w.y,a&&(c=l*a,u-=w.X/2),l<0&&(s=ke,l=0);break;case Me:if(a){if(w.y<=0&&(d<=g||f>=m)){y=!1;break}l-=w.y,d+=w.y,c=l*a}else w.x>=0?f<m?c+=w.x:w.y<=0&&d<=g&&(y=!1):c+=w.x,w.y<=0?d>g&&(l-=w.y,d+=w.y):(l-=w.y,d+=w.y);c<0&&l<0?(s=Pe,l=0,c=0):c<0?(s=Ae,c=0):l<0&&(s=Te,l=0);break;case Ae:if(a){if(w.y<=0&&(d<=g||u<=h)){y=!1;break}l-=w.y,d+=w.y,c=l*a,u+=w.X}else w.x<=0?u>h?(c-=w.x,u+=w.x):w.y<=0&&d<=g&&(y=!1):(c-=w.x,u+=w.x),w.y<=0?d>g&&(l-=w.y,d+=w.y):(l-=w.y,d+=w.y);c<0&&l<0?(s=Te,l=0,c=0):c<0?(s=Me,c=0):l<0&&(s=Pe,l=0);break;case Pe:if(a){if(w.x<=0&&(u<=h||p>=v)){y=!1;break}c-=w.x,u+=w.x,l=c/a}else w.x<=0?u>h?(c-=w.x,u+=w.x):w.y>=0&&p>=v&&(y=!1):(c-=w.x,u+=w.x),w.y>=0?p<v&&(l+=w.y):l+=w.y;c<0&&l<0?(s=Me,l=0,c=0):c<0?(s=Te,c=0):l<0&&(s=Ae,l=0);break;case Te:if(a){if(w.x>=0&&(f>=m||p>=v)){y=!1;break}l=(c+=w.x)/a}else w.x>=0?f<m?c+=w.x:w.y>=0&&p>=v&&(y=!1):c+=w.x,w.y>=0?p<v&&(l+=w.y):l+=w.y;c<0&&l<0?(s=Ae,l=0,c=0):c<0?(s=Pe,c=0):l<0&&(s=Me,l=0);break;case"move":t.move(w.x,w.y),y=!1;break;case"zoom":t.zoom(De(b),e),y=!1;break;case"crop":if(!w.x||!w.y){y=!1;break}_=W(t.cropper),u=S.startX-_.left,d=S.startY-_.top,c=r.minWidth,l=r.minHeight,w.x>0?s=w.y>0?Te:Me:w.x<0&&(u-=c,s=w.y>0?Pe:Ae),w.y<0&&(d-=l),t.cropped||(D(t.cropBox,"cropper-hidden"),t.cropped=!0,t.limited&&t.limitCropBox(!0,!0))}y&&(r.width=c,r.height=l,r.left=u,r.top=d,t.action=s,t.renderCropBox()),x(b,(function(e){e.startX=e.endX,e.startY=e.endY}))}};function Ne(e){var t=0,n=0,i=0;return x(e,(function(e){var o=e.startX,r=e.startY;t+=o,n+=r,i+=1})),{pageX:t/=i,pageY:n/=i}}var Ie={crop:function(){var e=this;return e.ready&&!e.disabled&&(e.cropped||(e.cropped=!0,e.limitCropBox(!0,!0),e.options.modal&&A(e.dragBox,"cropper-modal"),D(e.cropBox,"cropper-hidden")),e.setCropBoxData(e.initialCropBoxData)),e},reset:function(){var e=this;return e.ready&&!e.disabled&&(e.imageData=k({},e.initialImageData),e.canvasData=k({},e.initialCanvasData),e.cropBoxData=k({},e.initialCropBoxData),e.renderCanvas(),e.cropped&&e.renderCropBox()),e},clear:function(){var e=this;return e.cropped&&!e.disabled&&(k(e.cropBoxData,{left:0,top:0,width:0,height:0}),e.cropped=!1,e.renderCropBox(),e.limitCanvas(),e.renderCanvas(),D(e.dragBox,"cropper-modal"),A(e.cropBox,"cropper-hidden")),e},replace:function(e,t){var n=this;return!n.disabled&&e&&(n.isImg&&(n.element.src=e),t?(n.url=e,n.image.src=e,n.ready&&(n.image2.src=e,x(n.previews,(function(t){z(t,"img")[0].src=e})))):(n.isImg&&(n.replaced=!0),n.options.data=null,n.load(e))),n},enable:function(){var e=this;return e.ready&&(e.disabled=!1,D(e.cropper,"cropper-disabled")),e},disable:function(){var e=this;return e.ready&&(e.disabled=!0,A(e.cropper,"cropper-disabled")),e},destroy:function(){var e=this,t=e.element,n=e.image;return e.loaded?(e.isImg&&e.replaced&&(t.src=e.originalUrl),e.unbuild(),D(t,"cropper-hidden")):e.isImg?O(t,"load",e.start):n&&Z(n),R(t,"cropper"),e},move:function(e,t){var n=this,i=n.canvasData;return n.moveTo(S(e)?e:i.left+Number(e),S(t)?t:i.top+Number(t))},moveTo:function(e,t){var n=this,i=n.canvasData,o=!1;return S(t)&&(t=e),e=Number(e),t=Number(t),n.ready&&!n.disabled&&n.options.movable&&(b(e)&&(i.left=e,o=!0),b(t)&&(i.top=t,o=!0),o&&n.renderCanvas(!0)),n},zoom:function(e,t){var n=this,i=n.canvasData;return e=(e=Number(e))<0?1/(1-e):1+e,n.zoomTo(i.width*e/i.naturalWidth,t)},zoomTo:function(e,t){var n=this,i=n.options,o=n.canvasData,r=o.width,a=o.height,s=o.naturalWidth,c=o.naturalHeight;if((e=Number(e))>=0&&n.ready&&!n.disabled&&i.zoomable){var l=s*e,u=c*e;if(!1===U(n.element,"zoom",{originalEvent:t,oldRatio:r/s,ratio:l/s}))return n;if(t){var d=n.pointers,f=W(n.cropper),p=d&&Object.keys(d).length?Ne(d):{pageX:t.pageX,pageY:t.pageY};o.left-=(l-r)*((p.pageX-f.left-o.left)/r),o.top-=(u-a)*((p.pageY-f.top-o.top)/a)}else o.left-=(l-r)/2,o.top-=(u-a)/2;o.width=l,o.height=u,n.renderCanvas(!0)}return n},rotate:function(e){var t=this;return t.rotateTo((t.imageData.rotate||0)+Number(e))},rotateTo:function(e){var t=this;return b(e=Number(e))&&t.ready&&!t.disabled&&t.options.rotatable&&(t.imageData.rotate=e%360,t.rotated=!0,t.renderCanvas(!0)),t},scale:function(e,t){var n=this,i=n.imageData,o=!1;return S(t)&&(t=e),e=Number(e),t=Number(t),n.ready&&!n.disabled&&n.options.scalable&&(b(e)&&(i.scaleX=e,o=!0),b(t)&&(i.scaleY=t,o=!0),o&&n.renderImage(!0)),n},scaleX:function(e){var t=this,n=t.imageData.scaleY;return t.scale(e,b(n)?n:1)},scaleY:function(e){var t=this,n=t.imageData.scaleX;return t.scale(b(n)?n:1,e)},getData:function(e){var t=this,n=t.options,i=t.imageData,o=t.canvasData,r=t.cropBoxData,a=void 0,s=void 0;return t.ready&&t.cropped?(s={x:r.left-o.left,y:r.top-o.top,width:r.width,height:r.height},a=i.width/i.naturalWidth,x(s,(function(t,n){t/=a,s[n]=e?Math.round(t):t}))):s={x:0,y:0,width:0,height:0},n.rotatable&&(s.rotate=i.rotate||0),n.scalable&&(s.scaleX=i.scaleX||1,s.scaleY=i.scaleY||1),s},setData:function(e){var t=this,n=t.options,i=t.imageData,o=t.canvasData,r={},a=void 0,s=void 0,c=void 0;return C(e)&&(e=e.call(t.element)),t.ready&&!t.disabled&&$(e)&&(n.rotatable&&b(e.rotate)&&e.rotate!==i.rotate&&(i.rotate=e.rotate,t.rotated=a=!0),n.scalable&&(b(e.scaleX)&&e.scaleX!==i.scaleX&&(i.scaleX=e.scaleX,s=!0),b(e.scaleY)&&e.scaleY!==i.scaleY&&(i.scaleY=e.scaleY,s=!0)),a?t.renderCanvas():s&&t.renderImage(),c=i.width/i.naturalWidth,b(e.x)&&(r.left=e.x*c+o.left),b(e.y)&&(r.top=e.y*c+o.top),b(e.width)&&(r.width=e.width*c),b(e.height)&&(r.height=e.height*c),t.setCropBoxData(r)),t},getContainerData:function(){var e=this;return e.ready?e.containerData:{}},getImageData:function(){var e=this;return e.loaded?e.imageData:{}},getCanvasData:function(){var e=this,t=e.canvasData,n={};return e.ready&&x(["left","top","width","height","naturalWidth","naturalHeight"],(function(e){n[e]=t[e]})),n},setCanvasData:function(e){var t=this,n=t.canvasData,i=n.aspectRatio;return C(e)&&(e=e.call(t.element)),t.ready&&!t.disabled&&$(e)&&(b(e.left)&&(n.left=e.left),b(e.top)&&(n.top=e.top),b(e.width)?(n.width=e.width,n.height=e.width/i):b(e.height)&&(n.height=e.height,n.width=e.height*i),t.renderCanvas(!0)),t},getCropBoxData:function(){var e=this,t=e.cropBoxData,n=void 0;return e.ready&&e.cropped&&(n={left:t.left,top:t.top,width:t.width,height:t.height}),n||{}},setCropBoxData:function(e){var t=this,n=t.cropBoxData,i=t.options.aspectRatio,o=void 0,r=void 0;return C(e)&&(e=e.call(t.element)),t.ready&&t.cropped&&!t.disabled&&$(e)&&(b(e.left)&&(n.left=e.left),b(e.top)&&(n.top=e.top),b(e.width)&&e.width!==n.width&&(o=!0,n.width=e.width),b(e.height)&&e.height!==n.height&&(r=!0,n.height=e.height),i&&(o?n.height=n.width/i:r&&(n.width=n.height*i)),t.renderCropBox()),t},getCroppedCanvas:function(e){var t=this;if(!t.ready||!window.HTMLCanvasElement)return null;if(!t.cropped)return te(t.image,t.imageData);$(e)||(e={});var n=t.getData(),i=n.width,o=n.height,a=i/o,s=void 0,c=void 0,l=void 0;$(e)&&(s=e.width,c=e.height,s?(c=s/a,l=s/i):c&&(s=c*a,l=c/o));var u=Math.floor(s||i),d=Math.floor(c||o),f=q("canvas"),p=f.getContext("2d");f.width=u,f.height=d,e.fillColor&&(p.fillStyle=e.fillColor,p.fillRect(0,0,u,d));var h,g,m,v,y,_,b,S,w,C,F,E,x,k=(h=te(t.image,t.imageData),g=h.width,m=h.height,v=t.canvasData,y=[h],_=n.x+v.naturalWidth*(Math.abs(n.scaleX||1)-1)/2,b=n.y+v.naturalHeight*(Math.abs(n.scaleY||1)-1)/2,S=void 0,w=void 0,C=void 0,F=void 0,E=void 0,x=void 0,_<=-i||_>g?_=S=C=E=0:_<=0?(C=-_,_=0,S=E=Math.min(g,i+_)):_<=g&&(C=0,S=E=Math.min(i,g-_)),S<=0||b<=-o||b>m?b=w=F=x=0:b<=0?(F=-b,b=0,w=x=Math.min(m,o+b)):b<=m&&(F=0,w=x=Math.min(o,m-b)),y.push(Math.floor(_),Math.floor(b),Math.floor(S),Math.floor(w)),l&&(C*=l,F*=l,E*=l,x*=l),E>0&&x>0&&y.push(Math.floor(C),Math.floor(F),Math.floor(E),Math.floor(x)),y);return p.drawImage.apply(p,r(k)),f},setAspectRatio:function(e){var t=this,n=t.options;return t.disabled||S(e)||(n.aspectRatio=Math.max(0,e)||NaN,t.ready&&(t.initCropBox(),t.cropped&&t.renderCropBox())),t},setDragMode:function(e){var t=this,n=t.options,i=t.dragBox,o=t.face,r=void 0,a=void 0;return t.loaded&&!t.disabled&&(r="crop"===e,a=n.movable&&"move"===e,j(i,"action",e=r||a?e:"none"),L(i,"cropper-crop",r),L(i,"cropper-move",a),n.cropBoxMovable||(j(o,"action",e),L(o,"cropper-crop",r),L(o,"cropper-move",a))),t}},je="cropper",Re=je+"-hidden",Oe="error",Ve="load",Ue="ready",Be="crop",We=/^data:/,ze=/^data:image\/jpeg.*;base64,/,He=void 0,qe=function(){function n(t,o){i(this,n);var r=this;r.element=t,r.options=k({},e,$(o)&&o),r.loaded=!1,r.ready=!1,r.complete=!1,r.rotated=!1,r.cropped=!1,r.disabled=!1,r.replaced=!1,r.limited=!1,r.wheeling=!1,r.isImg=!1,r.originalUrl="",r.canvasData=null,r.cropBoxData=null,r.previews=null,r.pointers={},r.init()}return o(n,[{key:"init",value:function(){var e=this,t=e.element,n=t.tagName.toLowerCase(),i=void 0;if(!I(t,je)){if(j(t,je,e),"img"===n){if(e.isImg=!0,e.originalUrl=i=t.getAttribute("src"),!i)return;i=t.src}else"canvas"===n&&window.HTMLCanvasElement&&(i=t.toDataURL());e.load(i)}}},{key:"load",value:function(e){var t=this,n=t.options,i=t.element;if(e)if(t.url=e,t.imageData={},n.checkOrientation&&window.ArrayBuffer)if(We.test(e))ze?t.read(oe(e)):t.clone();else{var o=new XMLHttpRequest;o.onerror=o.onabort=function(){t.clone()},o.onload=function(){t.read(o.response)},n.checkCrossOrigin&&X(e)&&i.crossOrigin&&(e=Y(e)),o.open("get",e),o.responseType="arraybuffer",o.withCredentials="use-credentials"===i.crossOrigin,o.send()}else t.clone()}},{key:"read",value:function(e){var t=this,n=t.options,i=ie(e),o=t.imageData,r=0,a=1,s=1;if(i>1)switch(t.url=re(e),i){case 2:a=-1;break;case 3:r=-180;break;case 4:s=-1;break;case 5:r=90,s=-1;break;case 6:r=90;break;case 7:r=90,a=-1;break;case 8:r=-90}n.rotatable&&(o.rotate=r),n.scalable&&(o.scaleX=a,o.scaleY=s),t.clone()}},{key:"clone",value:function(){var e=this,t=e.element,n=e.url,i=void 0,o=void 0,r=void 0,a=void 0;e.options.checkCrossOrigin&&X(n)&&((i=t.crossOrigin)?o=n:(i="anonymous",o=Y(n))),e.crossOrigin=i,e.crossOriginUrl=o;var s=q("img");i&&(s.crossOrigin=i),s.src=o||n,e.image=s,e.onStart=r=T(e.start,e),e.onStop=a=T(e.stop,e),e.isImg?t.complete?e.start():V(t,Ve,r):(V(s,Ve,r),V(s,Oe,a),A(s,"cropper-hide"),t.parentNode.insertBefore(s,t.nextSibling))}},{key:"start",value:function(e){var t=this,n=t.isImg?t.element:t.image;e&&(O(n,Ve,t.onStart),O(n,Oe,t.onStop)),J(n,(function(e,n){k(t.imageData,{naturalWidth:e,naturalHeight:n,aspectRatio:e/n}),t.loaded=!0,t.build()}))}},{key:"stop",value:function(){var e=this,t=e.image;O(t,Ve,e.onStart),O(t,Oe,e.onStop),Z(t),e.image=null}},{key:"build",value:function(){var e=this,n=e.options,i=e.element,o=e.image,r=void 0,a=void 0,s=void 0,c=void 0,l=void 0,u=void 0;if(e.loaded){e.ready&&e.unbuild();var d=q("div");d.innerHTML=t,e.container=r=i.parentNode,e.cropper=a=H(d,"cropper-container")[0],e.canvas=s=H(a,"cropper-canvas")[0],e.dragBox=c=H(a,"cropper-drag-box")[0],e.cropBox=l=H(a,"cropper-crop-box")[0],e.viewBox=H(a,"cropper-view-box")[0],e.face=u=H(l,"cropper-face")[0],G(s,o),A(i,Re),r.insertBefore(a,i.nextSibling),e.isImg||D(o,"cropper-hide"),e.initPreview(),e.bind(),n.aspectRatio=Math.max(0,n.aspectRatio)||NaN,n.viewMode=Math.max(0,Math.min(3,Math.round(n.viewMode)))||0,e.cropped=n.autoCrop,n.autoCrop?n.modal&&A(c,"cropper-modal"):A(l,Re),n.guides||A(H(l,"cropper-dashed"),Re),n.center||A(H(l,"cropper-center"),Re),n.background&&A(a,"cropper-bg"),n.highlight||A(u,"cropper-invisible"),n.cropBoxMovable&&(A(u,"cropper-move"),j(u,"action","all")),n.cropBoxResizable||(A(H(l,"cropper-line"),Re),A(H(l,"cropper-point"),Re)),e.setDragMode(n.dragMode),e.render(),e.ready=!0,e.setData(n.data),e.completing=setTimeout((function(){C(n.ready)&&V(i,Ue,n.ready,!0),U(i,Ue),U(i,Be,e.getData()),e.complete=!0}),0)}}},{key:"unbuild",value:function(){var e=this;e.ready&&(e.complete||clearTimeout(e.completing),e.ready=!1,e.complete=!1,e.initialImageData=null,e.initialCanvasData=null,e.initialCropBoxData=null,e.containerData=null,e.canvasData=null,e.cropBoxData=null,e.unbind(),e.resetPreview(),e.previews=null,e.viewBox=null,e.cropBox=null,e.dragBox=null,e.canvas=null,e.container=null,Z(e.cropper),e.cropper=null)}}],[{key:"noConflict",value:function(){return window.Cropper=He,n}},{key:"setDefaults",value:function(t){k(e,$(t)&&t)}}]),n}();return k(qe.prototype,ae),k(qe.prototype,ce),k(qe.prototype,Se),k(qe.prototype,Ce),k(qe.prototype,Le),k(qe.prototype,Ie),"undefined"!==typeof window&&(He=window.Cropper,window.Cropper=qe),qe}()},293:function(e,t,n){e.exports=function(){return{restrict:"E",scope:{},bindToController:{locales:"&"},link:function(e,t,n,i){var o=i[0],r=i[1];o.ngModel=r},controller:n(294),controllerAs:"adobeFontsLocaleSwitcherCtrl",require:["adobeFontsLocaleSwitcher","?ngModel"],templateUrl:"/angular_templates/directives/adobe_fonts_locale_switcher.html"}}},294:function(e,t){function n(e,t){this.$scope=e,this.$window=t,this.isOpen=!1}n.$inject=["$scope","$window"],n.prototype.getLabel=function(){for(var e=this.locales(),t=0;t<e.length;t++)if(e[t].value===this.getValue())return e[t].label},n.prototype.getValue=function(){if(this.ngModel)return this.ngModel.$viewValue},n.prototype.handleToggle=function(e){e.stopPropagation();var t=this;this.isOpen||this.$window.addEventListener("click",(function(){t.$scope.$apply((function(){t.isOpen=!1}))}),{once:!0}),this.isOpen=!this.isOpen},n.prototype.isSelected=function(e){return e.value===this.getValue()},n.prototype.updateValue=function(e){this.ngModel&&this.ngModel.$setViewValue(e.value)},e.exports=n},295:function(e,t){function n(e,t){return{post:function(n){if(t.Visitor){var i=t.Visitor.getInstance("9E1005A551ED61CA0A490D45@AdobeOrg");return n.visitor_guid=i.getMarketingCloudVisitorID(),n.page_name=t.document.title,n.event_url=t.location.href,e.post("/analytics/events",n)}}}}n.$inject=["$http","$window"],e.exports=n},296:function(e,t){function n(e){return{get:function(t){return e.get("/search/autocomplete?query="+t)},getItemHyperlink:function(e){return"/fonts/"+e.slug}}}n.$inject=["$http"],e.exports=n},297:function(e,t){function n(e,t){return{getSubmittedFeedback:function(e,t){return this._setDefaultSubmittedFeedback(e,t),t?this._submittedFeedback[e].familyFeedback[t]:this._submittedFeedback[e].feedback},post:function(n,i,o,r,a,s,c){var l=this;return t.getUserPrefs().then((function(t){if(l.getSubmittedFeedback(o,a)!==r){var u=l._getFeedbackParams(n,i,o,r,a,t,s,c);return e.post("/feedbacks.json",u).then((function(){l.setSubmittedFeedback(o,r,a)}))}}))},setFiltersModel:function(e){this.filtersModel=e},setSubmittedFeedback:function(e,t,n){this._setDefaultSubmittedFeedback(e,n),n?this._submittedFeedback[e].familyFeedback[n]=t:this._submittedFeedback[e].feedback=t},_getFeedbackParams:function(e,t,n,i,o,r,a,s){var c={category:e,feedback_type:i,id:n,view_type:r.selectedViewType};return t&&(c.subcategory=t),this.filtersModel&&(c.filters=this.filtersModel.getSelectedFilters().join(","),c.languages=this.filtersModel.getSelectedLanguages().join(","),c.locale=this.filtersModel.getLocale()),o&&(c.family_slug=o),a&&(c.variation_one=a),s&&(c.variation_two=s),c},_setDefaultSubmittedFeedback:function(e,t){this._submittedFeedback=this._submittedFeedback||{},this._submittedFeedback[e]=this._submittedFeedback[e]||{},t&&(this._submittedFeedback[e].familyFeedback=this._submittedFeedback[e].familyFeedback||{})}}}n.$inject=["$http","UserPrefsService"],e.exports=n},298:function(e,t){function n(e,t,n,i){return{isReleaseEnabled:function(e){if(null==this.releaseFlagBitIndices||null==this.releaseFlagBitString)throw new Error("FloodgateService has not loaded yet. Make sure to call load() first.");if(0===this.releaseFlagBitString.length)return!1;var t=null;this.releaseFlagBitIndices[e]&&(t="1"===this.releaseFlagBitString[this.releaseFlagBitIndices[e]]);return t},load:function(){var e=this;return Promise.allSettled([n.get("/neue/release_flag_bit_indices").then((function(t){e.releaseFlagBitIndices=t})),new Promise((function(n){i.addOnReadyHandler((function(){t.adobeIMS.getReleaseFlags(!0).then((function(t){e.releaseFlagBitString=t,n()})).catch((function(){e.releaseFlagBitString="",n()}))}))}))])}}}n.$inject=["$q","$window","DataService","ImsEventsService"],e.exports=n},299:function(e,t){e.exports=function(){var e,t,n,i,o;return{getAllActivatedFontsCount:function(){return e},getAllPreviouslyActivatedFontsCount:function(){return t},getFilteredActivatedFontsCount:function(){return n},getThirtyDayActivatedFontsCount:function(){return i},getAllFamiliesCount:function(){return o},isAllActivatedFontsCountSet:r,isAllPreviouslyActivatedFontsCountSet:a,isFilteredActivatedFontsCountSet:s,isThirtyDayActivatedFontsCountSet:c,isAllFamiliesCountSet:l,setAllActivatedFontsCount:function(t){e=t},setAllPreviouslyActivatedFontsCount:function(e){t=e},setFilteredActivatedFontsCount:function(e){n=e},setThirtyDayActivatedFontsCount:function(e){i=e},setAllFamiliesCount:function(e){o=e},updateActivatedFontsCount:function(t){r()&&(e+=t);s()&&(n+=t);c()&&(i+=t)},updatePreviouslyActivatedFontsCount:function(e){a()&&(t+=e)},updateFamiliesCount:function(e){l()&&(o+=e)}};function r(){return!("undefined"===typeof e)}function a(){return!("undefined"===typeof t)}function s(){return!("undefined"===typeof n)}function c(){return!("undefined"===typeof i)}function l(){return!("undefined"===typeof o)}}},3:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return s}));var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},i(e,t)};function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var r=function(){return r=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)};function a(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a}function s(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{c(i.next(e))}catch(e){r(e)}}function s(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))}function c(e,t,n){if(n||2===arguments.length)for(var i,o=0,r=t.length;o<r;o++)!i&&o in t||(i||(i=Array.prototype.slice.call(t,0,o)),i[o]=t[o]);return e.concat(i||Array.prototype.slice.call(t))}},300:function(e,t,n){o.$inject=["$document","NewrelicService"];var i=n(18);function o(e,t){var n;return{init:function(t){Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),n=t.page,i.element(e[0].body).on("click",o)}};function o(e){e.target.matches("a, a *")?function(e){var n=r(e,"A");if(null!=n){var i=n.href,o=n.className;t.addPageAction(a("click"),{elementUrl:i,elementClass:o})}}(e):function(e){return e.matches("input")}(e.target)&&function(e){var n=e.target;if("submit"===n.type){n=r(e,"FORM").querySelector("input[type=text]")}t.addPageAction(a("input"),{inputValue:n.value,inputName:n.name})}(e)}function r(e,t){for(var n=e.target;n;){if(n.tagName===t)return n;n=n.parentNode}return null}function a(e){return["typekit",n,e].join(".")}}e.exports=o},301:function(e,t){n.$inject=["$q","DataService","UrlService"];function n(e,t,n){return{getContext:i,handleContext:function(){return e((function(e){i().then((function(t){n.removeSearchParam("ctx"),e(t)}))}))},handleContextIfPresent:function(){return e((function(e,t){i().then((function(i){n.getSearchParam("ctx")||t(),n.removeSearchParam("ctx"),e(i)}))}))}};function i(){return t.get("/neue/context")}}e.exports=n},302:function(e,t,n){r.$inject=["$http","$q","NewrelicService","UserService"];var i=n(6),o="/desktop_font_selections";function r(e,t,n,r){return{addSyncedVariations:function(a,s,c){var l=r.isInOverage(),u=i.extend({add_font_ids:a},s||{});return e({data:{data:JSON.stringify(u)},method:"PUT",url:o}).then((function(e){return t((function(t){"data"in e&&e.data.added_font_ids.length>0&&r.incrementSyncUsage(e.data.added_font_ids.length),n.addPageAction("typekit.click.sync-add-fonts",{fontCount:a.length,toSyncCount:c,plan:r.getPlan(),enteredOverage:!l&&r.isInOverage(),inOverage:r.isInOverage(),overageAmount:r.getSyncOverageAmount(),fromFontpack:!!(s||{}).fontpack_id}),t(e)}))}))},removeSyncedVariations:function(a,s){var c=r.isInOverage(),l=i.extend({remove_font_ids:a},s||{});return e({data:{data:JSON.stringify(l)},method:"PUT",url:o}).then((function(e){return t((function(t){"data"in e&&e.data.removed_font_ids.length>0&&r.decrementSyncUsage(e.data.removed_font_ids.length),n.addPageAction("typekit.click.sync-remove-fonts",{fontCount:a.length,plan:r.getPlan(),exitedOverage:c&&!r.isInOverage(),inOverage:r.isInOverage(),overageAmount:r.getSyncOverageAmount()}),t(e)}))}))}}}e.exports=r},319:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const i="af.filter-sidebar.clear-filters";class o extends CustomEvent{constructor(){super(i,{bubbles:!0,composed:!0})}}o.EVENT_NAME=i},320:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const i="af.filter-sidebar.filter-toggled";class o extends CustomEvent{constructor(e){super(i,{detail:{filterKey:e},bubbles:!0,composed:!0})}}o.EVENT_NAME=i},321:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const i="af.filter-sidebar.language-filter-toggled";class o extends CustomEvent{constructor(e){super(i,{detail:{language:e},bubbles:!0,composed:!0})}}o.EVENT_NAME=i},322:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const i="af.filter-sidebar.number-of-fonts-slider-changed";class o extends CustomEvent{constructor(e,t){super(i,{detail:{handleName:e,value:t},bubbles:!0,composed:!0})}}o.EVENT_NAME=i},323:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const i="af.filter-sidebar.show-paid-fonts-toggled";class o extends CustomEvent{constructor(e){super(i,{detail:{showPaidFonts:e},bubbles:!0,composed:!0})}}o.EVENT_NAME=i},324:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const i="af.filter-sidebar.tag-toggled";class o extends CustomEvent{constructor(e){super(i,{detail:{tag:e},bubbles:!0,composed:!0})}}o.EVENT_NAME=i},355:function(e,t,n){"use strict";n.r(t),n.d(t,"EVENT_NAME",(function(){return i})),n.d(t,"default",(function(){return o}));const i="af.filter-sidebar.technology-filter-toggled";class o extends CustomEvent{constructor(e){super(i,{detail:{fontTechnology:e},bubbles:!0,composed:!0})}}o.EVENT_NAME=i},357:function(e,t){n.$inject=["$scope","$window","DataService","NewrelicService","UrlService","UserService"];function n(e,t,n,i,o,r){var a=this;a.$scope=e,a.$window=t,a.DataService=n,a.NewrelicService=i,a.UrlService=o,a.UserService=r,a.$window.addEventListener("resize",(function(){a._handleWindowResize()})),a._preloadData().then((function(){a._setNewrelicCustomAttributes()}))}n.prototype.handleNavigationToggleButton=function(){this.isNavigationExpanded=!this.isNavigationExpanded},n.prototype._handleWindowResize=function(){this.$window.innerWidth>=768&&(this.isNavigationExpanded=!1,this.$scope.$digest())},n.prototype._preloadData=function(){var e=this;return e.DataService.get("/user_info").then((function(t){e.UserService.setActivityState(t.activity_state),e.UserService.setDaysSinceSyncActivity(t.days_since_sync_activity),e.UserService.setPlan(t.plan)}))},n.prototype._setNewrelicCustomAttributes=function(){var e=this.UrlService.getSearchParam("referrer");e&&this.NewrelicService.setCustomAttribute("referrer",e),this.NewrelicService.setCustomAttribute("activityState",this.UserService.getActivityState()),this.NewrelicService.setCustomAttribute("daysSinceSyncActivity",this.UserService.getDaysSinceSyncActivity()),this.NewrelicService.setCustomAttribute("plan",this.UserService.getPlan())},e.exports=n},381:function(e,t,n){var i=n(18);function o(e,t){return t==e||!!t.parentNode&&o(e,t.parentNode)}e.exports=function(){return{bindToController:{dropdownBaseOptions:"&"},link:function(e,t,n,r){var a=r[0],s=r[1];a.ngModel=s,t.addClass(a.getClass()),(a.dropdownBaseOptions()||{}).disableBodyEvents||function(e,t,n){i.element(document.body).on("click",(function(i){o(e[0],i.target)||n.$apply((function(){t.toggleMenu(!1)}))})),i.element(document.body).on("keyup",(function(e){27==e.keyCode&&n.$apply((function(){t.toggleMenu(!1)}))}))}(t,a,e)},controller:n(382),controllerAs:"dropdownBase",require:["dropdownBase","?ngModel"],restrict:"A"}}},382:function(e,t){n.$inject=["$element"];function n(e){this.$element=e,this.childElements={},this.isOpen=!1}n.prototype.getClass=function(){return"adobe-fonts-select-menu"},n.prototype.getContentClass=function(){return"adobe-fonts-select-menu__content"},n.prototype.getMenuButtonClass=function(){return"adobe-fonts-select-menu__dropdown-button"},n.prototype.getMenuItemClass=function(){return"adobe-fonts-select-menu__menu-item"},n.prototype.getMenuItemSelectedClass=function(){return"is-selected"},n.prototype.getOpenClass=function(){return"is-open"},n.prototype.getMenuItemsClass=function(){return"adobe-fonts-select-menu__menu-items"},n.prototype.getValue=function(){if(this.ngModel)return this.ngModel.$viewValue},n.prototype.toggleMenu=function(e){this.isOpen=void 0===e?!this.isOpen:e,this.$element.toggleClass(this.getOpenClass(),this.isOpen)},n.prototype.updateValue=function(e){this.ngModel&&this.ngModel.$setViewValue(e)},e.exports=n},383:function(e,t){e.exports=function(){return{link:function(e,t,n,i){t.addClass(i.getMenuButtonClass()),t.on("click",(function(){e.$apply((function(){i.toggleMenu()}))}))},require:"^dropdownBase",restrict:"A"}}},384:function(e,t){e.exports=function(){return{link:function(e,t,n,i){t.addClass(i.getContentClass()),e.$watch((function(){return i.isOpen}),(function(){t.toggleClass(i.getOpenClass(),i.isOpen)}))},require:"^dropdownBase",restrict:"A"}}},385:function(e,t,n){var i=n(6);e.exports=function(){return{link:function(e,t,n,o){t.addClass(o.getMenuItemClass());var r=e.$eval(n.value);t.on("click",(function(){o.toggleMenu(!1),r&&o.updateValue(r)})),r&&e.$watch((function(){return o.getValue()}),(function(){t.toggleClass(o.getMenuItemSelectedClass(),i.isEqual(o.getValue(),r))}))},require:"^dropdownBase",restrict:"A"}}},386:function(e,t,n){function i(e,t){return{scope:{},bindToController:{groups:"&",heroImageFocus:"@",imageUrl:"@",static:"@"},controller:n(387),controllerAs:"fontpackHero",require:["fontpackHero","?ngModel"],restrict:"E",replace:!0,transclude:!0,templateUrl:"/angular_templates/directives/fontpack_hero.html",link:function(n,i,o,r){var a=r[0],s=r[1];a.ngModel=s,a.element=i[0],function(n){if(!n||!a.imageUrl||a.isStaticFontpack())return;e.get(a.imageUrl,{responseType:"blob"}).then((function(e){n.data=t.URL.createObjectURL(e.data),n.onload=function(){a.initSvg()}}))}(a.getSvgEl())}}}i.$inject=["$http","$window"],e.exports=i},387:function(e,t,n){s.$inject=["$scope","$window"];var i=n(18),o=n(6),r=n(284),a="#viewport";function s(e,t){var n=this;n.$scope=e,n.MAX_ZOOM_LEVEL=2,n.MIN_ZOOM_LEVEL=.5,n.isSvgInitialized=!1,t.addEventListener("resize",(function(){n.$scope.$apply((function(){n._handleWindowResize()}))}))}s.prototype.adjustSvgBackground=function(){var e=this.getSvgBackground();if(e){this.getSvgBackground().style.transform="scale(1, 1)";var t=e.getBoundingClientRect(),n=this.getSvgEl().getBoundingClientRect(),i=n.width/t.width,o=n.height/t.height;this.getSvgBackground().style.transform="scale("+i+","+o+")"}},s.prototype.getSvgBackground=function(){return this.getSvgEl().contentDocument.querySelector("#background")},s.prototype.getSvgEl=function(){return this.element.querySelector(".fontpack-hero__svg")},s.prototype.getSvgViewport=function(){return this.getSvgEl().contentDocument.querySelector(a)},s.prototype.handleSvgBackgroundClick=function(){this._resetSelectedVariation()},s.prototype.handleSvgGroupClick=function(e){this._isSelectedGroup(e)?this._resetSelectedGroups():this._selectSvgGroup(e)},s.prototype.handleVariationClick=function(e){this.isSvgInitialized&&(this.selectedVariationId==e.variation_id?this._resetSelectedVariation():this._selectVariation(e))},s.prototype.getVariationElementClass=function(e){return this.isVariationSelected(e)?"fontpack-hero__variation--selected":this.isVariationInSelectedGroups(e)?"fontpack-hero__variation--used":void 0},s.prototype.initSvg=function(){this.initSvgEvents(),this.initSvgPanZoom(),this.adjustSvgBackground()},s.prototype.initSvgEvents=function(){var e=this;e.svgGroups=e.getSvgViewport().children,o.each(e.svgGroups,(function(t){i.element(t).on("click",(function(n){n.stopPropagation(),e.$scope.$apply((function(){e.handleSvgGroupClick(t)}))}))})),i.element(this.getSvgBackground()).on("click",(function(t){t.stopPropagation(),e.$scope.$apply((function(){e.handleSvgBackgroundClick()}))}))},s.prototype.initSvgPanZoom=function(){var e=this;e.svgElPanZoom=r(e.getSvgEl(),{center:!0,contain:!0,fit:!1,customEventsHandler:{init:function(t){e.$scope.$apply((function(){e.svgZoomLevel=t.instance.getZoom()})),e.isSvgInitialized=!0}},mouseWheelZoomEnabled:!1,viewportSelector:a})},s.prototype.isStaticFontpack=function(){return"true"===this.static},s.prototype.isVariationInSelectedGroups=function(e){if(!this.selectedGroupIds)return!1;for(var t=0;t<this.selectedGroupIds.length;t++)if(o.contains(this.groups()[this.selectedGroupIds[t]],e.variation_id))return!0;return!1},s.prototype.isVariationSelected=function(e){return e.variation_id==this.selectedVariationId},s.prototype.objectPositionStyle=function(){return this.heroImageFocus&&this.heroImageFocus.length>0?{"object-position":this.heroImageFocus}:{}},s.prototype.zoomIn=function(){!this.isSvgInitialized||this.svgZoomLevel>=this.MAX_ZOOM_LEVEL||(this.svgZoomLevel+=.2,this.svgElPanZoom.zoom(this.svgZoomLevel))},s.prototype.zoomOut=function(){!this.isSvgInitialized||this.svgZoomLevel<=this.MIN_ZOOM_LEVEL||(this.svgZoomLevel-=.2,this.svgElPanZoom.zoom(this.svgZoomLevel))},s.prototype.zoomReset=function(){this.isSvgInitialized&&(this.svgElPanZoom.resize(),this.svgElPanZoom.contain(),this.svgElPanZoom.center(),this.svgZoomLevel=this.svgElPanZoom.getZoom())},s.prototype._disableSvgGroups=function(){o.each(this.svgGroups,(function(e){e.style.opacity=.2}))},s.prototype._getGroupsForVariation=function(e){var t=[];return o.each(this.groups(),(function(n,i){o.contains(n,e.variation_id)&&t.push(i)})),t},s.prototype._getSvgGroupEl=function(e){return this.getSvgEl().contentDocument.querySelector("#"+e)},s.prototype._handleWindowResize=function(){this.zoomReset(),this.adjustSvgBackground()},s.prototype._highlightSvgGroupEls=function(e){this._disableSvgGroups(),o.each(e,(function(e){e.style.opacity=1}))},s.prototype._isSelectedGroup=function(e){return this.selectedGroupIds&&1==this.selectedGroupIds.length&&o.contains(this.selectedGroupIds,e.id)},s.prototype._resetSelectedGroups=function(){this._highlightSvgGroupEls(this.svgGroups),this._setSelectedGroupIds([])},s.prototype._resetSelectedVariation=function(){this.selectedVariationId=null,this._resetSelectedGroups()},s.prototype._selectSvgGroup=function(e){this._setSelectedGroupIds([e.id]),this._highlightSvgGroupEls([e]),this.selectedVariationId=null},s.prototype._selectVariation=function(e){var t=this;t.selectedVariationId=e.variation_id,t._setSelectedGroupIds(t._getGroupsForVariation(e));var n=o.map(t.selectedGroupIds,(function(e){return t._getSvgGroupEl(e)}));t._highlightSvgGroupEls(n),this.svgElPanZoom.fit(),this.svgZoomLevel=this.svgElPanZoom.getZoom()},s.prototype._setSelectedGroupIds=function(e){this.selectedGroupIds=e,this.ngModel&&this.ngModel.$setViewValue(e)},e.exports=s},388:function(e,t,n){var i=n(389),o=n(390),r=n(211),a=n(210),s=n(391),c=function(e,t){this.init(e,t)},l={viewportSelector:".svg-pan-zoom_viewport",panEnabled:!0,controlIconsEnabled:!1,zoomEnabled:!0,dblClickZoomEnabled:!0,mouseWheelZoomEnabled:!0,preventMouseEventsDefault:!0,zoomScaleSensitivity:.1,minZoom:.5,maxZoom:10,fit:!0,contain:!1,center:!0,refreshRate:"auto",beforeZoom:null,onZoom:null,beforePan:null,onPan:null,customEventsHandler:null,eventsListenerElement:null,onUpdatedCTM:null},u={passive:!0};c.prototype.init=function(e,t){var n=this;this.svg=e,this.defs=e.querySelector("defs"),a.setupSvgAttributes(this.svg),this.options=r.extend(r.extend({},l),t),this.state="none";var i=a.getBoundingClientRectNormalized(e);this.width=i.width,this.height=i.height,this.viewport=s(a.getOrCreateViewport(this.svg,this.options.viewportSelector),{svg:this.svg,width:this.width,height:this.height,fit:this.options.fit,contain:this.options.contain,center:this.options.center,refreshRate:this.options.refreshRate,beforeZoom:function(e,t){if(n.viewport&&n.options.beforeZoom)return n.options.beforeZoom(e,t)},onZoom:function(e){if(n.viewport&&n.options.onZoom)return n.options.onZoom(e)},beforePan:function(e,t){if(n.viewport&&n.options.beforePan)return n.options.beforePan(e,t)},onPan:function(e){if(n.viewport&&n.options.onPan)return n.options.onPan(e)},onUpdatedCTM:function(e){if(n.viewport&&n.options.onUpdatedCTM)return n.options.onUpdatedCTM(e)}});var c=this.getPublicInstance();c.setBeforeZoom(this.options.beforeZoom),c.setOnZoom(this.options.onZoom),c.setBeforePan(this.options.beforePan),c.setOnPan(this.options.onPan),c.setOnUpdatedCTM(this.options.onUpdatedCTM),this.options.controlIconsEnabled&&o.enable(this),this.lastMouseWheelEventTime=Date.now(),this.setupHandlers()},c.prototype.setupHandlers=function(){var e=this,t=null;if(this.eventListeners={mousedown:function(n){var i=e.handleMouseDown(n,t);return t=n,i},touchstart:function(n){var i=e.handleMouseDown(n,t);return t=n,i},mouseup:function(t){return e.handleMouseUp(t)},touchend:function(t){return e.handleMouseUp(t)},mousemove:function(t){return e.handleMouseMove(t)},touchmove:function(t){return e.handleMouseMove(t)},mouseleave:function(t){return e.handleMouseUp(t)},touchleave:function(t){return e.handleMouseUp(t)},touchcancel:function(t){return e.handleMouseUp(t)}},null!=this.options.customEventsHandler){this.options.customEventsHandler.init({svgElement:this.svg,eventsListenerElement:this.options.eventsListenerElement,instance:this.getPublicInstance()});var n=this.options.customEventsHandler.haltEventListeners;if(n&&n.length)for(var i=n.length-1;i>=0;i--)this.eventListeners.hasOwnProperty(n[i])&&delete this.eventListeners[n[i]]}for(var o in this.eventListeners)(this.options.eventsListenerElement||this.svg).addEventListener(o,this.eventListeners[o],!this.options.preventMouseEventsDefault&&u);this.options.mouseWheelZoomEnabled&&(this.options.mouseWheelZoomEnabled=!1,this.enableMouseWheelZoom())},c.prototype.enableMouseWheelZoom=function(){if(!this.options.mouseWheelZoomEnabled){var e=this;this.wheelListener=function(t){return e.handleMouseWheel(t)};var t=!this.options.preventMouseEventsDefault;i.on(this.options.eventsListenerElement||this.svg,this.wheelListener,t),this.options.mouseWheelZoomEnabled=!0}},c.prototype.disableMouseWheelZoom=function(){if(this.options.mouseWheelZoomEnabled){var e=!this.options.preventMouseEventsDefault;i.off(this.options.eventsListenerElement||this.svg,this.wheelListener,e),this.options.mouseWheelZoomEnabled=!1}},c.prototype.handleMouseWheel=function(e){if(this.options.zoomEnabled&&"none"===this.state){this.options.preventMouseEventsDefault&&(e.preventDefault?e.preventDefault():e.returnValue=!1);var t=e.deltaY||1,n=Date.now()-this.lastMouseWheelEventTime,i=3+Math.max(0,30-n);this.lastMouseWheelEventTime=Date.now(),"deltaMode"in e&&0===e.deltaMode&&e.wheelDelta&&(t=0===e.deltaY?0:Math.abs(e.wheelDelta)/e.deltaY),t=-.3<t&&t<.3?t:(t>0?1:-1)*Math.log(Math.abs(t)+10)/i;var o=this.svg.getScreenCTM().inverse(),r=a.getEventPoint(e,this.svg).matrixTransform(o),s=Math.pow(1+this.options.zoomScaleSensitivity,-1*t);this.zoomAtPoint(s,r)}},c.prototype.zoomAtPoint=function(e,t,n){var i=this.viewport.getOriginalState();n?(e=Math.max(this.options.minZoom*i.zoom,Math.min(this.options.maxZoom*i.zoom,e)),e/=this.getZoom()):this.getZoom()*e<this.options.minZoom*i.zoom?e=this.options.minZoom*i.zoom/this.getZoom():this.getZoom()*e>this.options.maxZoom*i.zoom&&(e=this.options.maxZoom*i.zoom/this.getZoom());var o=this.viewport.getCTM(),r=t.matrixTransform(o.inverse()),a=this.svg.createSVGMatrix().translate(r.x,r.y).scale(e).translate(-r.x,-r.y),s=o.multiply(a);s.a!==o.a&&this.viewport.setCTM(s)},c.prototype.zoom=function(e,t){this.zoomAtPoint(e,a.getSvgCenterPoint(this.svg,this.width,this.height),t)},c.prototype.publicZoom=function(e,t){t&&(e=this.computeFromRelativeZoom(e)),this.zoom(e,t)},c.prototype.publicZoomAtPoint=function(e,t,n){if(n&&(e=this.computeFromRelativeZoom(e)),"SVGPoint"!==r.getType(t)){if(!("x"in t)||!("y"in t))throw new Error("Given point is invalid");t=a.createSVGPoint(this.svg,t.x,t.y)}this.zoomAtPoint(e,t,n)},c.prototype.getZoom=function(){return this.viewport.getZoom()},c.prototype.getRelativeZoom=function(){return this.viewport.getRelativeZoom()},c.prototype.computeFromRelativeZoom=function(e){return e*this.viewport.getOriginalState().zoom},c.prototype.resetZoom=function(){var e=this.viewport.getOriginalState();this.zoom(e.zoom,!0)},c.prototype.resetPan=function(){this.pan(this.viewport.getOriginalState())},c.prototype.reset=function(){this.resetZoom(),this.resetPan()},c.prototype.handleDblClick=function(e){var t;if((this.options.preventMouseEventsDefault&&(e.preventDefault?e.preventDefault():e.returnValue=!1),this.options.controlIconsEnabled)&&(e.target.getAttribute("class")||"").indexOf("svg-pan-zoom-control")>-1)return!1;t=e.shiftKey?1/(2*(1+this.options.zoomScaleSensitivity)):2*(1+this.options.zoomScaleSensitivity);var n=a.getEventPoint(e,this.svg).matrixTransform(this.svg.getScreenCTM().inverse());this.zoomAtPoint(t,n)},c.prototype.handleMouseDown=function(e,t){this.options.preventMouseEventsDefault&&(e.preventDefault?e.preventDefault():e.returnValue=!1),r.mouseAndTouchNormalize(e,this.svg),this.options.dblClickZoomEnabled&&r.isDblClick(e,t)?this.handleDblClick(e):(this.state="pan",this.firstEventCTM=this.viewport.getCTM(),this.stateOrigin=a.getEventPoint(e,this.svg).matrixTransform(this.firstEventCTM.inverse()))},c.prototype.handleMouseMove=function(e){if(this.options.preventMouseEventsDefault&&(e.preventDefault?e.preventDefault():e.returnValue=!1),"pan"===this.state&&this.options.panEnabled){var t=a.getEventPoint(e,this.svg).matrixTransform(this.firstEventCTM.inverse()),n=this.firstEventCTM.translate(t.x-this.stateOrigin.x,t.y-this.stateOrigin.y);this.viewport.setCTM(n)}},c.prototype.handleMouseUp=function(e){this.options.preventMouseEventsDefault&&(e.preventDefault?e.preventDefault():e.returnValue=!1),"pan"===this.state&&(this.state="none")},c.prototype.fit=function(){var e=this.viewport.getViewBox(),t=Math.min(this.width/e.width,this.height/e.height);this.zoom(t,!0)},c.prototype.contain=function(){var e=this.viewport.getViewBox(),t=Math.max(this.width/e.width,this.height/e.height);this.zoom(t,!0)},c.prototype.center=function(){var e=this.viewport.getViewBox(),t=.5*(this.width-(e.width+2*e.x)*this.getZoom()),n=.5*(this.height-(e.height+2*e.y)*this.getZoom());this.getPublicInstance().pan({x:t,y:n})},c.prototype.updateBBox=function(){this.viewport.simpleViewBoxCache()},c.prototype.pan=function(e){var t=this.viewport.getCTM();t.e=e.x,t.f=e.y,this.viewport.setCTM(t)},c.prototype.panBy=function(e){var t=this.viewport.getCTM();t.e+=e.x,t.f+=e.y,this.viewport.setCTM(t)},c.prototype.getPan=function(){var e=this.viewport.getState();return{x:e.x,y:e.y}},c.prototype.resize=function(){var e=a.getBoundingClientRectNormalized(this.svg);this.width=e.width,this.height=e.height;var t=this.viewport;t.options.width=this.width,t.options.height=this.height,t.processCTM(),this.options.controlIconsEnabled&&(this.getPublicInstance().disableControlIcons(),this.getPublicInstance().enableControlIcons())},c.prototype.destroy=function(){var e=this;for(var t in this.beforeZoom=null,this.onZoom=null,this.beforePan=null,this.onPan=null,this.onUpdatedCTM=null,null!=this.options.customEventsHandler&&this.options.customEventsHandler.destroy({svgElement:this.svg,eventsListenerElement:this.options.eventsListenerElement,instance:this.getPublicInstance()}),this.eventListeners)(this.options.eventsListenerElement||this.svg).removeEventListener(t,this.eventListeners[t],!this.options.preventMouseEventsDefault&&u);this.disableMouseWheelZoom(),this.getPublicInstance().disableControlIcons(),this.reset(),d=d.filter((function(t){return t.svg!==e.svg})),delete this.options,delete this.viewport,delete this.publicInstance,delete this.pi,this.getPublicInstance=function(){return null}},c.prototype.getPublicInstance=function(){var e=this;return this.publicInstance||(this.publicInstance=this.pi={enablePan:function(){return e.options.panEnabled=!0,e.pi},disablePan:function(){return e.options.panEnabled=!1,e.pi},isPanEnabled:function(){return!!e.options.panEnabled},pan:function(t){return e.pan(t),e.pi},panBy:function(t){return e.panBy(t),e.pi},getPan:function(){return e.getPan()},setBeforePan:function(t){return e.options.beforePan=null===t?null:r.proxy(t,e.publicInstance),e.pi},setOnPan:function(t){return e.options.onPan=null===t?null:r.proxy(t,e.publicInstance),e.pi},enableZoom:function(){return e.options.zoomEnabled=!0,e.pi},disableZoom:function(){return e.options.zoomEnabled=!1,e.pi},isZoomEnabled:function(){return!!e.options.zoomEnabled},enableControlIcons:function(){return e.options.controlIconsEnabled||(e.options.controlIconsEnabled=!0,o.enable(e)),e.pi},disableControlIcons:function(){return e.options.controlIconsEnabled&&(e.options.controlIconsEnabled=!1,o.disable(e)),e.pi},isControlIconsEnabled:function(){return!!e.options.controlIconsEnabled},enableDblClickZoom:function(){return e.options.dblClickZoomEnabled=!0,e.pi},disableDblClickZoom:function(){return e.options.dblClickZoomEnabled=!1,e.pi},isDblClickZoomEnabled:function(){return!!e.options.dblClickZoomEnabled},enableMouseWheelZoom:function(){return e.enableMouseWheelZoom(),e.pi},disableMouseWheelZoom:function(){return e.disableMouseWheelZoom(),e.pi},isMouseWheelZoomEnabled:function(){return!!e.options.mouseWheelZoomEnabled},setZoomScaleSensitivity:function(t){return e.options.zoomScaleSensitivity=t,e.pi},setMinZoom:function(t){return e.options.minZoom=t,e.pi},setMaxZoom:function(t){return e.options.maxZoom=t,e.pi},setBeforeZoom:function(t){return e.options.beforeZoom=null===t?null:r.proxy(t,e.publicInstance),e.pi},setOnZoom:function(t){return e.options.onZoom=null===t?null:r.proxy(t,e.publicInstance),e.pi},zoom:function(t){return e.publicZoom(t,!0),e.pi},zoomBy:function(t){return e.publicZoom(t,!1),e.pi},zoomAtPoint:function(t,n){return e.publicZoomAtPoint(t,n,!0),e.pi},zoomAtPointBy:function(t,n){return e.publicZoomAtPoint(t,n,!1),e.pi},zoomIn:function(){return this.zoomBy(1+e.options.zoomScaleSensitivity),e.pi},zoomOut:function(){return this.zoomBy(1/(1+e.options.zoomScaleSensitivity)),e.pi},getZoom:function(){return e.getRelativeZoom()},setOnUpdatedCTM:function(t){return e.options.onUpdatedCTM=null===t?null:r.proxy(t,e.publicInstance),e.pi},resetZoom:function(){return e.resetZoom(),e.pi},resetPan:function(){return e.resetPan(),e.pi},reset:function(){return e.reset(),e.pi},fit:function(){return e.fit(),e.pi},contain:function(){return e.contain(),e.pi},center:function(){return e.center(),e.pi},updateBBox:function(){return e.updateBBox(),e.pi},resize:function(){return e.resize(),e.pi},getSizes:function(){return{width:e.width,height:e.height,realZoom:e.getZoom(),viewBox:e.viewport.getViewBox()}},destroy:function(){return e.destroy(),e.pi}}),this.publicInstance};var d=[];e.exports=function(e,t){var n=r.getSvg(e);if(null===n)return null;for(var i=d.length-1;i>=0;i--)if(d[i].svg===n)return d[i].instance.getPublicInstance();return d.push({svg:n,instance:new c(n,t)}),d[d.length-1].instance.getPublicInstance()}},389:function(e,t){e.exports=function(){var e,t,n,i="",o=[],r={passive:!0};function a(t,a,s,c){var l;l="wheel"===n?s:function(e,t){var i=function(e){!e&&(e=window.event);var i={originalEvent:e,target:e.target||e.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==e.type?0:1,deltaX:0,delatZ:0,preventDefault:function(){e.preventDefault?e.preventDefault():e.returnValue=!1}};return"mousewheel"==n?(i.deltaY=-1/40*e.wheelDelta,e.wheelDeltaX&&(i.deltaX=-1/40*e.wheelDeltaX)):i.deltaY=e.detail,t(i)};return o.push({element:e,fn:i}),i}(t,s),t[e](i+a,l,!!c&&r)}function s(e,a,s,c){var l;l="wheel"===n?s:function(e){for(var t=0;t<o.length;t++)if(o[t].element===e)return o[t].fn;return function(){}}(e),e[t](i+a,l,!!c&&r),function(e){for(var t=0;t<o.length;t++)if(o[t].element===e)return o.splice(t,1)}(e)}return window.addEventListener?(e="addEventListener",t="removeEventListener"):(e="attachEvent",t="detachEvent",i="on"),n="onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll",{on:function(e,t,i){a(e,n,t,i),"DOMMouseScroll"==n&&a(e,"MozMousePixelScroll",t,i)},off:function(e,t,i){s(e,n,t,i),"DOMMouseScroll"==n&&s(e,"MozMousePixelScroll",t,i)}}}()},390:function(e,t,n){var i=n(210);e.exports={enable:function(e){var t=e.svg.querySelector("defs");if(t||(t=document.createElementNS(i.svgNS,"defs"),e.svg.appendChild(t)),!t.querySelector("style#svg-pan-zoom-controls-styles")){var n=document.createElementNS(i.svgNS,"style");n.setAttribute("id","svg-pan-zoom-controls-styles"),n.setAttribute("type","text/css"),n.textContent=".svg-pan-zoom-control { cursor: pointer; fill: black; fill-opacity: 0.333; } .svg-pan-zoom-control:hover { fill-opacity: 0.8; } .svg-pan-zoom-control-background { fill: white; fill-opacity: 0.5; } .svg-pan-zoom-control-background { fill-opacity: 0.8; }",t.appendChild(n)}var o=document.createElementNS(i.svgNS,"g");o.setAttribute("id","svg-pan-zoom-controls"),o.setAttribute("transform","translate("+(e.width-70)+" "+(e.height-76)+") scale(0.75)"),o.setAttribute("class","svg-pan-zoom-control"),o.appendChild(this._createZoomIn(e)),o.appendChild(this._createZoomReset(e)),o.appendChild(this._createZoomOut(e)),e.svg.appendChild(o),e.controlIcons=o},_createZoomIn:function(e){var t=document.createElementNS(i.svgNS,"g");t.setAttribute("id","svg-pan-zoom-zoom-in"),t.setAttribute("transform","translate(30.5 5) scale(0.015)"),t.setAttribute("class","svg-pan-zoom-control"),t.addEventListener("click",(function(){e.getPublicInstance().zoomIn()}),!1),t.addEventListener("touchstart",(function(){e.getPublicInstance().zoomIn()}),!1);var n=document.createElementNS(i.svgNS,"rect");n.setAttribute("x","0"),n.setAttribute("y","0"),n.setAttribute("width","1500"),n.setAttribute("height","1400"),n.setAttribute("class","svg-pan-zoom-control-background"),t.appendChild(n);var o=document.createElementNS(i.svgNS,"path");return o.setAttribute("d","M1280 576v128q0 26 -19 45t-45 19h-320v320q0 26 -19 45t-45 19h-128q-26 0 -45 -19t-19 -45v-320h-320q-26 0 -45 -19t-19 -45v-128q0 -26 19 -45t45 -19h320v-320q0 -26 19 -45t45 -19h128q26 0 45 19t19 45v320h320q26 0 45 19t19 45zM1536 1120v-960 q0 -119 -84.5 -203.5t-203.5 -84.5h-960q-119 0 -203.5 84.5t-84.5 203.5v960q0 119 84.5 203.5t203.5 84.5h960q119 0 203.5 -84.5t84.5 -203.5z"),o.setAttribute("class","svg-pan-zoom-control-element"),t.appendChild(o),t},_createZoomReset:function(e){var t=document.createElementNS(i.svgNS,"g");t.setAttribute("id","svg-pan-zoom-reset-pan-zoom"),t.setAttribute("transform","translate(5 35) scale(0.4)"),t.setAttribute("class","svg-pan-zoom-control"),t.addEventListener("click",(function(){e.getPublicInstance().reset()}),!1),t.addEventListener("touchstart",(function(){e.getPublicInstance().reset()}),!1);var n=document.createElementNS(i.svgNS,"rect");n.setAttribute("x","2"),n.setAttribute("y","2"),n.setAttribute("width","182"),n.setAttribute("height","58"),n.setAttribute("class","svg-pan-zoom-control-background"),t.appendChild(n);var o=document.createElementNS(i.svgNS,"path");o.setAttribute("d","M33.051,20.632c-0.742-0.406-1.854-0.609-3.338-0.609h-7.969v9.281h7.769c1.543,0,2.701-0.188,3.473-0.562c1.365-0.656,2.048-1.953,2.048-3.891C35.032,22.757,34.372,21.351,33.051,20.632z"),o.setAttribute("class","svg-pan-zoom-control-element"),t.appendChild(o);var r=document.createElementNS(i.svgNS,"path");return r.setAttribute("d","M170.231,0.5H15.847C7.102,0.5,0.5,5.708,0.5,11.84v38.861C0.5,56.833,7.102,61.5,15.847,61.5h154.384c8.745,0,15.269-4.667,15.269-10.798V11.84C185.5,5.708,178.976,0.5,170.231,0.5z M42.837,48.569h-7.969c-0.219-0.766-0.375-1.383-0.469-1.852c-0.188-0.969-0.289-1.961-0.305-2.977l-0.047-3.211c-0.03-2.203-0.41-3.672-1.142-4.406c-0.732-0.734-2.103-1.102-4.113-1.102h-7.05v13.547h-7.055V14.022h16.524c2.361,0.047,4.178,0.344,5.45,0.891c1.272,0.547,2.351,1.352,3.234,2.414c0.731,0.875,1.31,1.844,1.737,2.906s0.64,2.273,0.64,3.633c0,1.641-0.414,3.254-1.242,4.84s-2.195,2.707-4.102,3.363c1.594,0.641,2.723,1.551,3.387,2.73s0.996,2.98,0.996,5.402v2.32c0,1.578,0.063,2.648,0.19,3.211c0.19,0.891,0.635,1.547,1.333,1.969V48.569z M75.579,48.569h-26.18V14.022h25.336v6.117H56.454v7.336h16.781v6H56.454v8.883h19.125V48.569z M104.497,46.331c-2.44,2.086-5.887,3.129-10.34,3.129c-4.548,0-8.125-1.027-10.731-3.082s-3.909-4.879-3.909-8.473h6.891c0.224,1.578,0.662,2.758,1.316,3.539c1.196,1.422,3.246,2.133,6.15,2.133c1.739,0,3.151-0.188,4.236-0.562c2.058-0.719,3.087-2.055,3.087-4.008c0-1.141-0.504-2.023-1.512-2.648c-1.008-0.609-2.607-1.148-4.796-1.617l-3.74-0.82c-3.676-0.812-6.201-1.695-7.576-2.648c-2.328-1.594-3.492-4.086-3.492-7.477c0-3.094,1.139-5.664,3.417-7.711s5.623-3.07,10.036-3.07c3.685,0,6.829,0.965,9.431,2.895c2.602,1.93,3.966,4.73,4.093,8.402h-6.938c-0.128-2.078-1.057-3.555-2.787-4.43c-1.154-0.578-2.587-0.867-4.301-0.867c-1.907,0-3.428,0.375-4.565,1.125c-1.138,0.75-1.706,1.797-1.706,3.141c0,1.234,0.561,2.156,1.682,2.766c0.721,0.406,2.25,0.883,4.589,1.43l6.063,1.43c2.657,0.625,4.648,1.461,5.975,2.508c2.059,1.625,3.089,3.977,3.089,7.055C108.157,41.624,106.937,44.245,104.497,46.331z M139.61,48.569h-26.18V14.022h25.336v6.117h-18.281v7.336h16.781v6h-16.781v8.883h19.125V48.569z M170.337,20.14h-10.336v28.43h-7.266V20.14h-10.383v-6.117h27.984V20.14z"),r.setAttribute("class","svg-pan-zoom-control-element"),t.appendChild(r),t},_createZoomOut:function(e){var t=document.createElementNS(i.svgNS,"g");t.setAttribute("id","svg-pan-zoom-zoom-out"),t.setAttribute("transform","translate(30.5 70) scale(0.015)"),t.setAttribute("class","svg-pan-zoom-control"),t.addEventListener("click",(function(){e.getPublicInstance().zoomOut()}),!1),t.addEventListener("touchstart",(function(){e.getPublicInstance().zoomOut()}),!1);var n=document.createElementNS(i.svgNS,"rect");n.setAttribute("x","0"),n.setAttribute("y","0"),n.setAttribute("width","1500"),n.setAttribute("height","1400"),n.setAttribute("class","svg-pan-zoom-control-background"),t.appendChild(n);var o=document.createElementNS(i.svgNS,"path");return o.setAttribute("d","M1280 576v128q0 26 -19 45t-45 19h-896q-26 0 -45 -19t-19 -45v-128q0 -26 19 -45t45 -19h896q26 0 45 19t19 45zM1536 1120v-960q0 -119 -84.5 -203.5t-203.5 -84.5h-960q-119 0 -203.5 84.5t-84.5 203.5v960q0 119 84.5 203.5t203.5 84.5h960q119 0 203.5 -84.5 t84.5 -203.5z"),o.setAttribute("class","svg-pan-zoom-control-element"),t.appendChild(o),t},disable:function(e){e.controlIcons&&(e.controlIcons.parentNode.removeChild(e.controlIcons),e.controlIcons=null)}}},391:function(e,t,n){var i=n(210),o=n(211),r=function(e,t){this.init(e,t)};r.prototype.init=function(e,t){this.viewport=e,this.options=t,this.originalState={zoom:1,x:0,y:0},this.activeState={zoom:1,x:0,y:0},this.updateCTMCached=o.proxy(this.updateCTM,this),this.requestAnimationFrame=o.createRequestAnimationFrame(this.options.refreshRate),this.viewBox={x:0,y:0,width:0,height:0},this.cacheViewBox();var n=this.processCTM();this.setCTM(n),this.updateCTM()},r.prototype.cacheViewBox=function(){var e=this.options.svg.getAttribute("viewBox");if(e){var t=e.split(/[\s\,]/).filter((function(e){return e})).map(parseFloat);this.viewBox.x=t[0],this.viewBox.y=t[1],this.viewBox.width=t[2],this.viewBox.height=t[3];var n=Math.min(this.options.width/this.viewBox.width,this.options.height/this.viewBox.height);this.activeState.zoom=n,this.activeState.x=(this.options.width-this.viewBox.width*n)/2,this.activeState.y=(this.options.height-this.viewBox.height*n)/2,this.updateCTMOnNextFrame(),this.options.svg.removeAttribute("viewBox")}else this.simpleViewBoxCache()},r.prototype.simpleViewBoxCache=function(){var e=this.viewport.getBBox();this.viewBox.x=e.x,this.viewBox.y=e.y,this.viewBox.width=e.width,this.viewBox.height=e.height},r.prototype.getViewBox=function(){return o.extend({},this.viewBox)},r.prototype.processCTM=function(){var e,t=this.getCTM();(this.options.fit||this.options.contain)&&(e=this.options.fit?Math.min(this.options.width/this.viewBox.width,this.options.height/this.viewBox.height):Math.max(this.options.width/this.viewBox.width,this.options.height/this.viewBox.height),t.a=e,t.d=e,t.e=-this.viewBox.x*e,t.f=-this.viewBox.y*e);if(this.options.center){var n=.5*(this.options.width-(this.viewBox.width+2*this.viewBox.x)*t.a),i=.5*(this.options.height-(this.viewBox.height+2*this.viewBox.y)*t.a);t.e=n,t.f=i}return this.originalState.zoom=t.a,this.originalState.x=t.e,this.originalState.y=t.f,t},r.prototype.getOriginalState=function(){return o.extend({},this.originalState)},r.prototype.getState=function(){return o.extend({},this.activeState)},r.prototype.getZoom=function(){return this.activeState.zoom},r.prototype.getRelativeZoom=function(){return this.activeState.zoom/this.originalState.zoom},r.prototype.computeRelativeZoom=function(e){return e/this.originalState.zoom},r.prototype.getPan=function(){return{x:this.activeState.x,y:this.activeState.y}},r.prototype.getCTM=function(){var e=this.options.svg.createSVGMatrix();return e.a=this.activeState.zoom,e.b=0,e.c=0,e.d=this.activeState.zoom,e.e=this.activeState.x,e.f=this.activeState.y,e},r.prototype.setCTM=function(e){var t=this.isZoomDifferent(e),n=this.isPanDifferent(e);if(t||n){if(t&&(!1===this.options.beforeZoom(this.getRelativeZoom(),this.computeRelativeZoom(e.a))?(e.a=e.d=this.activeState.zoom,t=!1):(this.updateCache(e),this.options.onZoom(this.getRelativeZoom()))),n){var i=this.options.beforePan(this.getPan(),{x:e.e,y:e.f}),r=!1,a=!1;!1===i?(e.e=this.getPan().x,e.f=this.getPan().y,r=a=!0):o.isObject(i)&&(!1===i.x?(e.e=this.getPan().x,r=!0):o.isNumber(i.x)&&(e.e=i.x),!1===i.y?(e.f=this.getPan().y,a=!0):o.isNumber(i.y)&&(e.f=i.y)),r&&a||!this.isPanDifferent(e)?n=!1:(this.updateCache(e),this.options.onPan(this.getPan()))}(t||n)&&this.updateCTMOnNextFrame()}},r.prototype.isZoomDifferent=function(e){return this.activeState.zoom!==e.a},r.prototype.isPanDifferent=function(e){return this.activeState.x!==e.e||this.activeState.y!==e.f},r.prototype.updateCache=function(e){this.activeState.zoom=e.a,this.activeState.x=e.e,this.activeState.y=e.f},r.prototype.pendingUpdate=!1,r.prototype.updateCTMOnNextFrame=function(){this.pendingUpdate||(this.pendingUpdate=!0,this.requestAnimationFrame.call(window,this.updateCTMCached))},r.prototype.updateCTM=function(){var e=this.getCTM();i.setCTM(this.viewport,e,this.defs),this.pendingUpdate=!1,this.options.onUpdatedCTM&&this.options.onUpdatedCTM(e)},e.exports=function(e,t){return new r(e,t)}},392:function(e,t){e.exports=function(){return{scope:{fontpackHeroVariation:"&"},link:function(e,t,n,i){var o=n.class;function r(){t[0].className=[o,i.getVariationElementClass(e.fontpackHeroVariation())].join(" ")}t.on("click",(function(){i.handleVariationClick(e.fontpackHeroVariation())})),e.$watchCollection((function(){return i.selectedGroupIds}),(function(){r()})),e.$watch((function(){return i.selectedVariationId}),(function(){r()}))},require:"^fontpackHero",restrict:"A"}}},393:function(e,t){e.exports=function(){return{link:function(e,t,n,i){t.on("click",(function(){i.zoomIn()})),t.addClass("button fontpack-hero__zoom-in-button")},require:"^fontpackHero",restrict:"A"}}},394:function(e,t){e.exports=function(){return{link:function(e,t,n,i){t.on("click",(function(){i.zoomOut()})),t.addClass("button fontpack-hero__zoom-out-button")},require:"^fontpackHero",restrict:"A"}}},395:function(e,t){e.exports=function(){return{link:function(e,t,n,i){t.on("click",(function(){i.zoomReset()})),t.addClass("button fontpack-hero__zoom-reset-button")},require:"^fontpackHero",restrict:"A"}}},396:function(e,t,n){function i(e,t){return{scope:{},bindToController:{imageUrl:"@",useSvgPanZoom:"@"},controller:n(397),controllerAs:"foundryLogo",require:["foundryLogo","?ngModel"],restrict:"E",replace:!0,transclude:!0,templateUrl:"/angular_templates/directives/foundry_logo.html",link:function(n,i,o,r){var a=r[0],s=r[1];a.ngModel=s,a.element=i[0],function(n){if(!n||!a.imageUrl)return;e.get(a.imageUrl,{responseType:"blob"}).then((function(e){n.data=t.URL.createObjectURL(e.data),a.isSvgLoaded=!0,void 0!==a.useSvgPanZoom&&"true"!==a.useSvgPanZoom||(n.onload=function(){a.initSvg()})}))}(a.getSvgEl())}}}i.$inject=["$http","$window"],e.exports=i},397:function(e,t,n){o.$inject=["$scope"];var i=n(284);function o(e){this.$scope=e,this.isSvgLoaded=!1}o.prototype.getSvgEl=function(){return this.element.querySelector(".foundry-info--logo-box")},o.prototype.initSvg=function(){i(this.getSvgEl(),{fit:!0,zoomEnabled:!1})},e.exports=o},398:function(e,t,n){e.exports=function(){return{scope:{},bindToController:{menuItems:"&",prioritize:"&",selectedValue:"=",onSelectedItemChange:"&",triggerButtonDataId:"@"},controller:n(399),controllerAs:"spectrumDropdown",restrict:"E",replace:!0,templateUrl:"/angular_templates/directives/spectrum/dropdown.html",transclude:!0,link:function(e,t,n,i,o){i.placeholderText=o().text()}}}},399:function(e,t){function n(e){this.$timeout=e,this.prioritizedItem=this.prioritize()}n.$inject=["$timeout"],n.prototype.getLabel=function(){if(!this.selectedValue)return this.getPlaceholderText();for(var e=this.menuItems(),t=0;t<e.length;t++)if(e[t].value==this.selectedValue)return e[t].label},n.prototype.handleChange=function(){var e=this;e.$timeout((function(){e.onSelectedItemChange()}))},n.prototype.getPlaceholderText=function(){if(this.placeholderText&&this.placeholderText.trim().length>0)return this.placeholderText.trim()},e.exports=n},400:function(e,t){e.exports=function(){return{scope:{},restrict:"E",templateUrl:"/angular_templates/directives/tk_aligned_specimen.html",transclude:!0,link:function(e,t,n,i,o){e.text=o().text()}}}},401:function(e,t,n){e.exports=function(){return{scope:{},bindToController:{category:"&",familySlug:"&",subcategory:"&",tooltipText:"&",user:"&",variationOne:"&",variationTwo:"&",selectedFeedback:"="},controller:n(402),controllerAs:"feedbackIcons",restrict:"E",replace:!0,templateUrl:"/angular_templates/directives/feedback_icons.html"}}},402:function(e,t,n){o.$inject=["$scope","FeedbackService","NewrelicService"];var i=n(6);function o(e,t,n){var i=this;i.FeedbackService=t,i.NewrelicService=n,e.$watch((function(){return i.FeedbackService.getSubmittedFeedback(i._getID(),i.familySlug())}),(function(e){i.selectedFeedback=e}))}o.prototype.areThumbsUpDownVisible=function(){return!this.isSimilarityAndPairingVariant()},o.prototype.isCancelButtonVisible=function(){return this.isSimilarityAndPairingVariant()},o.prototype.isSimilarityAndPairingVariant=function(){return this._isFontSimilarityVariant()||this._isFontPairingVariant()},o.prototype.initSelectedFeedback=function(){return i.isEmpty(this.selectedFeedback)?"positive":"negative"},o.prototype.toggleSelectedFeedback=function(){return"negative"===this.selectedFeedback?"positive":"negative"},o.prototype.getClass=function(e,t){return this.selectedFeedback===e?[t,"on"].join(" "):t},o.prototype.getTooltipClass=function(){return this.isCancelButtonVisible()?"negative"===this.selectedFeedback?"spectrum-Tooltip--bottom flag-icon-tooltip on":"spectrum-Tooltip--bottom flag-icon-tooltip":"spectrum-Tooltip--top"},o.prototype.handleClick=function(e,t){e&&(e.preventDefault(),e.stopPropagation()),this.selectedFeedback=t,this.isSimilarityAndPairingVariant()?(this.NewrelicService.addPageAction("typekit.browse.similarity_and_pairing.feedback",this._getNewRelicAttributes(t)),this.FeedbackService.post(this.category(),this.subcategory(),this._getID(),t,this.familySlug(),this.variationOne().id,this.variationTwo().id)):(this.NewrelicService.addPageAction("typekit.browse.click",this._getNewRelicAttributes(t)),this.FeedbackService.post(this.category(),this.subcategory(),this._getID(),t,this.familySlug()))},o.prototype._getID=function(){if(this._isTagVariant())return this.FeedbackService.filtersModel.getSelectedTag();if(this._isRecommendationVariant())return this.user();if(this.isSimilarityAndPairingVariant())return this.variationOne().id+"-"+this.variationTwo().id;throw new Error("Unrecognized feedback icon category: "+this.category())},o.prototype._isFontPairingVariant=function(){return"pairing"===this.category()},o.prototype._isFontSimilarityVariant=function(){return"similarity"===this.category()},o.prototype._isRecommendationVariant=function(){return"recommendation"===this.category()},o.prototype._isTagVariant=function(){return"tag"===this.category()},o.prototype._getNewRelicAttributes=function(e){if(this._isTagVariant())return{tagName:this.FeedbackService.filtersModel.getSelectedTag(),familySlug:this.familySlug(),feedback:e};if(this._isRecommendationVariant())return{familySlug:this.familySlug(),feedback:e,subcategory:this.subcategory(),user:this.user()};if(this.isSimilarityAndPairingVariant())return{category:this.category(),subcategory:this.subcategory(),feedback:e,variation_one:this.variationOne().name,variation_two:this.variationTwo().name};throw new Error("Unrecognized feedback icon category: "+this.category())},e.exports=o},46:function(e,t){var n,i,o=e.exports={};function r(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===r||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:r}catch(e){n=r}try{i="function"===typeof clearTimeout?clearTimeout:a}catch(e){i=a}}();var c,l=[],u=!1,d=-1;function f(){u&&c&&(u=!1,c.length?l=c.concat(l):d=-1,l.length&&p())}function p(){if(!u){var e=s(f);u=!0;for(var t=l.length;t;){for(c=l,l=[];++d<t;)c&&c[d].run();d=-1,t=l.length}c=null,u=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function g(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new h(e,t)),1!==l.length||u||s(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},53:function(e,t,n){"use strict";var i;n.r(t),n.d(t,"ViewportSize",(function(){return i})),function(e){e.XX_SMALL="xx-small",e.X_SMALL="x-small",e.SMALL="small",e.MEDIUM="medium",e.LARGE="large"}(i||(i={}))},6:function(e,t,n){var i;(function(){var n=this,o=n._,r=Array.prototype,a=Object.prototype,s=Function.prototype,c=r.push,l=r.slice,u=a.toString,d=a.hasOwnProperty,f=Array.isArray,p=Object.keys,h=s.bind,g=Object.create,m=function(){},v=function(e){return e instanceof v?e:this instanceof v?void(this._wrapped=e):new v(e)};e.exports&&(t=e.exports=v),t._=v,v.VERSION="1.8.3";var y=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,o){return e.call(t,n,i,o)};case 4:return function(n,i,o,r){return e.call(t,n,i,o,r)}}return function(){return e.apply(t,arguments)}},_=function(e,t,n){return null==e?v.identity:v.isFunction(e)?y(e,t,n):v.isObject(e)?v.matcher(e):v.property(e)};v.iteratee=function(e,t){return _(e,t,1/0)};var b=function(e,t){return function(n){var i=arguments.length;if(i<2||null==n)return n;for(var o=1;o<i;o++)for(var r=arguments[o],a=e(r),s=a.length,c=0;c<s;c++){var l=a[c];t&&void 0!==n[l]||(n[l]=r[l])}return n}},S=function(e){if(!v.isObject(e))return{};if(g)return g(e);m.prototype=e;var t=new m;return m.prototype=null,t},w=function(e){return function(t){return null==t?void 0:t[e]}},$=Math.pow(2,53)-1,C=w("length"),F=function(e){var t=C(e);return"number"==typeof t&&t>=0&&t<=$};function E(e){function t(t,n,i,o,r,a){for(;r>=0&&r<a;r+=e){var s=o?o[r]:r;i=n(i,t[s],s,t)}return i}return function(n,i,o,r){i=y(i,r,4);var a=!F(n)&&v.keys(n),s=(a||n).length,c=e>0?0:s-1;return arguments.length<3&&(o=n[a?a[c]:c],c+=e),t(n,i,o,a,c,s)}}v.each=v.forEach=function(e,t,n){var i,o;if(t=y(t,n),F(e))for(i=0,o=e.length;i<o;i++)t(e[i],i,e);else{var r=v.keys(e);for(i=0,o=r.length;i<o;i++)t(e[r[i]],r[i],e)}return e},v.map=v.collect=function(e,t,n){t=_(t,n);for(var i=!F(e)&&v.keys(e),o=(i||e).length,r=Array(o),a=0;a<o;a++){var s=i?i[a]:a;r[a]=t(e[s],s,e)}return r},v.reduce=v.foldl=v.inject=E(1),v.reduceRight=v.foldr=E(-1),v.find=v.detect=function(e,t,n){var i;if(void 0!==(i=F(e)?v.findIndex(e,t,n):v.findKey(e,t,n))&&-1!==i)return e[i]},v.filter=v.select=function(e,t,n){var i=[];return t=_(t,n),v.each(e,(function(e,n,o){t(e,n,o)&&i.push(e)})),i},v.reject=function(e,t,n){return v.filter(e,v.negate(_(t)),n)},v.every=v.all=function(e,t,n){t=_(t,n);for(var i=!F(e)&&v.keys(e),o=(i||e).length,r=0;r<o;r++){var a=i?i[r]:r;if(!t(e[a],a,e))return!1}return!0},v.some=v.any=function(e,t,n){t=_(t,n);for(var i=!F(e)&&v.keys(e),o=(i||e).length,r=0;r<o;r++){var a=i?i[r]:r;if(t(e[a],a,e))return!0}return!1},v.contains=v.includes=v.include=function(e,t,n,i){return F(e)||(e=v.values(e)),("number"!=typeof n||i)&&(n=0),v.indexOf(e,t,n)>=0},v.invoke=function(e,t){var n=l.call(arguments,2),i=v.isFunction(t);return v.map(e,(function(e){var o=i?t:e[t];return null==o?o:o.apply(e,n)}))},v.pluck=function(e,t){return v.map(e,v.property(t))},v.where=function(e,t){return v.filter(e,v.matcher(t))},v.findWhere=function(e,t){return v.find(e,v.matcher(t))},v.max=function(e,t,n){var i,o,r=-1/0,a=-1/0;if(null==t&&null!=e)for(var s=0,c=(e=F(e)?e:v.values(e)).length;s<c;s++)(i=e[s])>r&&(r=i);else t=_(t,n),v.each(e,(function(e,n,i){((o=t(e,n,i))>a||o===-1/0&&r===-1/0)&&(r=e,a=o)}));return r},v.min=function(e,t,n){var i,o,r=1/0,a=1/0;if(null==t&&null!=e)for(var s=0,c=(e=F(e)?e:v.values(e)).length;s<c;s++)(i=e[s])<r&&(r=i);else t=_(t,n),v.each(e,(function(e,n,i){((o=t(e,n,i))<a||o===1/0&&r===1/0)&&(r=e,a=o)}));return r},v.shuffle=function(e){for(var t,n=F(e)?e:v.values(e),i=n.length,o=Array(i),r=0;r<i;r++)(t=v.random(0,r))!==r&&(o[r]=o[t]),o[t]=n[r];return o},v.sample=function(e,t,n){return null==t||n?(F(e)||(e=v.values(e)),e[v.random(e.length-1)]):v.shuffle(e).slice(0,Math.max(0,t))},v.sortBy=function(e,t,n){return t=_(t,n),v.pluck(v.map(e,(function(e,n,i){return{value:e,index:n,criteria:t(e,n,i)}})).sort((function(e,t){var n=e.criteria,i=t.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(n<i||void 0===i)return-1}return e.index-t.index})),"value")};var x=function(e){return function(t,n,i){var o={};return n=_(n,i),v.each(t,(function(i,r){var a=n(i,r,t);e(o,i,a)})),o}};v.groupBy=x((function(e,t,n){v.has(e,n)?e[n].push(t):e[n]=[t]})),v.indexBy=x((function(e,t,n){e[n]=t})),v.countBy=x((function(e,t,n){v.has(e,n)?e[n]++:e[n]=1})),v.toArray=function(e){return e?v.isArray(e)?l.call(e):F(e)?v.map(e,v.identity):v.values(e):[]},v.size=function(e){return null==e?0:F(e)?e.length:v.keys(e).length},v.partition=function(e,t,n){t=_(t,n);var i=[],o=[];return v.each(e,(function(e,n,r){(t(e,n,r)?i:o).push(e)})),[i,o]},v.first=v.head=v.take=function(e,t,n){if(null!=e)return null==t||n?e[0]:v.initial(e,e.length-t)},v.initial=function(e,t,n){return l.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},v.last=function(e,t,n){if(null!=e)return null==t||n?e[e.length-1]:v.rest(e,Math.max(0,e.length-t))},v.rest=v.tail=v.drop=function(e,t,n){return l.call(e,null==t||n?1:t)},v.compact=function(e){return v.filter(e,v.identity)};var k=function(e,t,n,i){for(var o=[],r=0,a=i||0,s=C(e);a<s;a++){var c=e[a];if(F(c)&&(v.isArray(c)||v.isArguments(c))){t||(c=k(c,t,n));var l=0,u=c.length;for(o.length+=u;l<u;)o[r++]=c[l++]}else n||(o[r++]=c)}return o};function T(e){return function(t,n,i){n=_(n,i);for(var o=C(t),r=e>0?0:o-1;r>=0&&r<o;r+=e)if(n(t[r],r,t))return r;return-1}}function P(e,t,n){return function(i,o,r){var a=0,s=C(i);if("number"==typeof r)e>0?a=r>=0?r:Math.max(r+s,a):s=r>=0?Math.min(r+1,s):r+s+1;else if(n&&r&&s)return i[r=n(i,o)]===o?r:-1;if(o!==o)return(r=t(l.call(i,a,s),v.isNaN))>=0?r+a:-1;for(r=e>0?a:s-1;r>=0&&r<s;r+=e)if(i[r]===o)return r;return-1}}v.flatten=function(e,t){return k(e,t,!1)},v.without=function(e){return v.difference(e,l.call(arguments,1))},v.uniq=v.unique=function(e,t,n,i){v.isBoolean(t)||(i=n,n=t,t=!1),null!=n&&(n=_(n,i));for(var o=[],r=[],a=0,s=C(e);a<s;a++){var c=e[a],l=n?n(c,a,e):c;t?(a&&r===l||o.push(c),r=l):n?v.contains(r,l)||(r.push(l),o.push(c)):v.contains(o,c)||o.push(c)}return o},v.union=function(){return v.uniq(k(arguments,!0,!0))},v.intersection=function(e){for(var t=[],n=arguments.length,i=0,o=C(e);i<o;i++){var r=e[i];if(!v.contains(t,r)){for(var a=1;a<n&&v.contains(arguments[a],r);a++);a===n&&t.push(r)}}return t},v.difference=function(e){var t=k(arguments,!0,!0,1);return v.filter(e,(function(e){return!v.contains(t,e)}))},v.zip=function(){return v.unzip(arguments)},v.unzip=function(e){for(var t=e&&v.max(e,C).length||0,n=Array(t),i=0;i<t;i++)n[i]=v.pluck(e,i);return n},v.object=function(e,t){for(var n={},i=0,o=C(e);i<o;i++)t?n[e[i]]=t[i]:n[e[i][0]]=e[i][1];return n},v.findIndex=T(1),v.findLastIndex=T(-1),v.sortedIndex=function(e,t,n,i){for(var o=(n=_(n,i,1))(t),r=0,a=C(e);r<a;){var s=Math.floor((r+a)/2);n(e[s])<o?r=s+1:a=s}return r},v.indexOf=P(1,v.findIndex,v.sortedIndex),v.lastIndexOf=P(-1,v.findLastIndex),v.range=function(e,t,n){null==t&&(t=e||0,e=0),n=n||1;for(var i=Math.max(Math.ceil((t-e)/n),0),o=Array(i),r=0;r<i;r++,e+=n)o[r]=e;return o};var M=function(e,t,n,i,o){if(!(i instanceof t))return e.apply(n,o);var r=S(e.prototype),a=e.apply(r,o);return v.isObject(a)?a:r};v.bind=function(e,t){if(h&&e.bind===h)return h.apply(e,l.call(arguments,1));if(!v.isFunction(e))throw new TypeError("Bind must be called on a function");var n=l.call(arguments,2),i=function(){return M(e,i,t,this,n.concat(l.call(arguments)))};return i},v.partial=function(e){var t=l.call(arguments,1),n=function(){for(var i=0,o=t.length,r=Array(o),a=0;a<o;a++)r[a]=t[a]===v?arguments[i++]:t[a];for(;i<arguments.length;)r.push(arguments[i++]);return M(e,n,this,this,r)};return n},v.bindAll=function(e){var t,n,i=arguments.length;if(i<=1)throw new Error("bindAll must be passed function names");for(t=1;t<i;t++)e[n=arguments[t]]=v.bind(e[n],e);return e},v.memoize=function(e,t){var n=function(i){var o=n.cache,r=""+(t?t.apply(this,arguments):i);return v.has(o,r)||(o[r]=e.apply(this,arguments)),o[r]};return n.cache={},n},v.delay=function(e,t){var n=l.call(arguments,2);return setTimeout((function(){return e.apply(null,n)}),t)},v.defer=v.partial(v.delay,v,1),v.throttle=function(e,t,n){var i,o,r,a=null,s=0;n||(n={});var c=function(){s=!1===n.leading?0:v.now(),a=null,r=e.apply(i,o),a||(i=o=null)};return function(){var l=v.now();s||!1!==n.leading||(s=l);var u=t-(l-s);return i=this,o=arguments,u<=0||u>t?(a&&(clearTimeout(a),a=null),s=l,r=e.apply(i,o),a||(i=o=null)):a||!1===n.trailing||(a=setTimeout(c,u)),r}},v.debounce=function(e,t,n){var i,o,r,a,s,c=function(){var l=v.now()-a;l<t&&l>=0?i=setTimeout(c,t-l):(i=null,n||(s=e.apply(r,o),i||(r=o=null)))};return function(){r=this,o=arguments,a=v.now();var l=n&&!i;return i||(i=setTimeout(c,t)),l&&(s=e.apply(r,o),r=o=null),s}},v.wrap=function(e,t){return v.partial(t,e)},v.negate=function(e){return function(){return!e.apply(this,arguments)}},v.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,i=e[t].apply(this,arguments);n--;)i=e[n].call(this,i);return i}},v.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},v.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}},v.once=v.partial(v.before,2);var A=!{toString:null}.propertyIsEnumerable("toString"),D=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];function L(e,t){var n=D.length,i=e.constructor,o=v.isFunction(i)&&i.prototype||a,r="constructor";for(v.has(e,r)&&!v.contains(t,r)&&t.push(r);n--;)(r=D[n])in e&&e[r]!==o[r]&&!v.contains(t,r)&&t.push(r)}v.keys=function(e){if(!v.isObject(e))return[];if(p)return p(e);var t=[];for(var n in e)v.has(e,n)&&t.push(n);return A&&L(e,t),t},v.allKeys=function(e){if(!v.isObject(e))return[];var t=[];for(var n in e)t.push(n);return A&&L(e,t),t},v.values=function(e){for(var t=v.keys(e),n=t.length,i=Array(n),o=0;o<n;o++)i[o]=e[t[o]];return i},v.mapObject=function(e,t,n){t=_(t,n);for(var i,o=v.keys(e),r=o.length,a={},s=0;s<r;s++)a[i=o[s]]=t(e[i],i,e);return a},v.pairs=function(e){for(var t=v.keys(e),n=t.length,i=Array(n),o=0;o<n;o++)i[o]=[t[o],e[t[o]]];return i},v.invert=function(e){for(var t={},n=v.keys(e),i=0,o=n.length;i<o;i++)t[e[n[i]]]=n[i];return t},v.functions=v.methods=function(e){var t=[];for(var n in e)v.isFunction(e[n])&&t.push(n);return t.sort()},v.extend=b(v.allKeys),v.extendOwn=v.assign=b(v.keys),v.findKey=function(e,t,n){t=_(t,n);for(var i,o=v.keys(e),r=0,a=o.length;r<a;r++)if(t(e[i=o[r]],i,e))return i},v.pick=function(e,t,n){var i,o,r={},a=e;if(null==a)return r;v.isFunction(t)?(o=v.allKeys(a),i=y(t,n)):(o=k(arguments,!1,!1,1),i=function(e,t,n){return t in n},a=Object(a));for(var s=0,c=o.length;s<c;s++){var l=o[s],u=a[l];i(u,l,a)&&(r[l]=u)}return r},v.omit=function(e,t,n){if(v.isFunction(t))t=v.negate(t);else{var i=v.map(k(arguments,!1,!1,1),String);t=function(e,t){return!v.contains(i,t)}}return v.pick(e,t,n)},v.defaults=b(v.allKeys,!0),v.create=function(e,t){var n=S(e);return t&&v.extendOwn(n,t),n},v.clone=function(e){return v.isObject(e)?v.isArray(e)?e.slice():v.extend({},e):e},v.tap=function(e,t){return t(e),e},v.isMatch=function(e,t){var n=v.keys(t),i=n.length;if(null==e)return!i;for(var o=Object(e),r=0;r<i;r++){var a=n[r];if(t[a]!==o[a]||!(a in o))return!1}return!0};var N=function(e,t,n,i){if(e===t)return 0!==e||1/e===1/t;if(null==e||null==t)return e===t;e instanceof v&&(e=e._wrapped),t instanceof v&&(t=t._wrapped);var o=u.call(e);if(o!==u.call(t))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+e===""+t;case"[object Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t}var r="[object Array]"===o;if(!r){if("object"!=typeof e||"object"!=typeof t)return!1;var a=e.constructor,s=t.constructor;if(a!==s&&!(v.isFunction(a)&&a instanceof a&&v.isFunction(s)&&s instanceof s)&&"constructor"in e&&"constructor"in t)return!1}i=i||[];for(var c=(n=n||[]).length;c--;)if(n[c]===e)return i[c]===t;if(n.push(e),i.push(t),r){if((c=e.length)!==t.length)return!1;for(;c--;)if(!N(e[c],t[c],n,i))return!1}else{var l,d=v.keys(e);if(c=d.length,v.keys(t).length!==c)return!1;for(;c--;)if(l=d[c],!v.has(t,l)||!N(e[l],t[l],n,i))return!1}return n.pop(),i.pop(),!0};v.isEqual=function(e,t){return N(e,t)},v.isEmpty=function(e){return null==e||(F(e)&&(v.isArray(e)||v.isString(e)||v.isArguments(e))?0===e.length:0===v.keys(e).length)},v.isElement=function(e){return!(!e||1!==e.nodeType)},v.isArray=f||function(e){return"[object Array]"===u.call(e)},v.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},v.each(["Arguments","Function","String","Number","Date","RegExp","Error"],(function(e){v["is"+e]=function(t){return u.call(t)==="[object "+e+"]"}})),v.isArguments(arguments)||(v.isArguments=function(e){return v.has(e,"callee")}),"object"!=typeof Int8Array&&(v.isFunction=function(e){return"function"==typeof e||!1}),v.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},v.isNaN=function(e){return v.isNumber(e)&&e!==+e},v.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"===u.call(e)},v.isNull=function(e){return null===e},v.isUndefined=function(e){return void 0===e},v.has=function(e,t){return null!=e&&d.call(e,t)},v.noConflict=function(){return n._=o,this},v.identity=function(e){return e},v.constant=function(e){return function(){return e}},v.noop=function(){},v.property=w,v.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},v.matcher=v.matches=function(e){return e=v.extendOwn({},e),function(t){return v.isMatch(t,e)}},v.times=function(e,t,n){var i=Array(Math.max(0,e));t=y(t,n,1);for(var o=0;o<e;o++)i[o]=t(o);return i},v.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},v.now=Date.now||function(){return(new Date).getTime()};var I={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},j=v.invert(I),R=function(e){var t=function(t){return e[t]},n="(?:"+v.keys(e).join("|")+")",i=RegExp(n),o=RegExp(n,"g");return function(e){return e=null==e?"":""+e,i.test(e)?e.replace(o,t):e}};v.escape=R(I),v.unescape=R(j),v.result=function(e,t,n){var i=null==e?void 0:e[t];return void 0===i&&(i=n),v.isFunction(i)?i.call(e):i};var O=0;v.uniqueId=function(e){var t=++O+"";return e?e+t:t},v.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var V=/(.)^/,U={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},B=/\\|'|\r|\n|\u2028|\u2029/g,W=function(e){return"\\"+U[e]};v.template=function(e,t,n){!t&&n&&(t=n),t=v.defaults({},t,v.templateSettings);var i=RegExp([(t.escape||V).source,(t.interpolate||V).source,(t.evaluate||V).source].join("|")+"|$","g"),o=0,r="__p+='";e.replace(i,(function(t,n,i,a,s){return r+=e.slice(o,s).replace(B,W),o=s+t.length,n?r+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":i?r+="'+\n((__t=("+i+"))==null?'':__t)+\n'":a&&(r+="';\n"+a+"\n__p+='"),t})),r+="';\n",t.variable||(r="with(obj||{}){\n"+r+"}\n"),r="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+r+"return __p;\n";try{var a=new Function(t.variable||"obj","_",r)}catch(l){throw l.source=r,l}var s=function(e){return a.call(this,e,v)},c=t.variable||"obj";return s.source="function("+c+"){\n"+r+"}",s},v.chain=function(e){var t=v(e);return t._chain=!0,t};var z=function(e,t){return e._chain?v(t).chain():t};v.mixin=function(e){v.each(v.functions(e),(function(t){var n=v[t]=e[t];v.prototype[t]=function(){var e=[this._wrapped];return c.apply(e,arguments),z(this,n.apply(v,e))}}))},v.mixin(v),v.each(["pop","push","reverse","shift","sort","splice","unshift"],(function(e){var t=r[e];v.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],z(this,n)}})),v.each(["concat","join","slice"],(function(e){var t=r[e];v.prototype[e]=function(){return z(this,t.apply(this._wrapped,arguments))}})),v.prototype.value=function(){return this._wrapped},v.prototype.valueOf=v.prototype.toJSON=v.prototype.value,v.prototype.toString=function(){return""+this._wrapped},void 0===(i=function(){return v}.apply(t,[]))||(e.exports=i)}).call(this)},66:function(e,t,n){var i,o=n(117),r=n(93),a=n(88),s=n(76);function c(e){this._adobeLanguageTag=e.adobe_language_tag,this._clientId=e.clientId,this._cucumberConfig=e.cucumberConfig,this._imsEnv=e.imsEnv,this._scope=e.scope,this._ssoLoginUrl=e.ssoLoginUrl,this._ssoLogoutUrl=e.ssoLogoutUrl,this._useDebugMode=e.useDebugMode,e.tkRequestInfo&&(this._currentRequestMethod=e.tkRequestInfo.requestMethod,this._imsCookieName=e.tkRequestInfo.cookieName,this._loggedInOnServer=e.tkRequestInfo.loggedInOnServer,this._serverAdobeProfileId=e.tkRequestInfo.adobeProfileID),this._adobeProfilePlaceholder=document.querySelector(".__adobeprofile")}e.exports={init:function(e){if(!i)return i=new c(e)},getAdobeId:function(){return i.getAdobeId()},getInstance:function(){return i},getUserProfile:function(){if(i)return i.getCachedProfile()},isSignedInUser:function(){return!(!i||!i.getAdobeIMS())&&i.getAdobeIMS().isSignedInUser()}},c.prototype.getAdobeId=function(){var e=this;return{environment:e._imsEnv,api_parameters:{logout:{redirect_uri:e._ssoLogoutUrl}},client_id:e._clientId,is_mandatory_sign_in:!1,scope:e._scope,use_debug_mode:e._useDebugMode,uses_redirect_mode:!0,onAccessToken:function(t){e._accessToken=t.token},onReady:function(t){if(e._cucumberConfig)return a.fireOnReadyHandlers(),e._onReadyForCucumber();window.adobeIMS.isSignedInUser()?e.getAdobeIMS().getProfile().then((function(t){e._profile=t,e._onReadyWhenLoggedIn()})):e._onReadyWhenNotLoggedIn(),a.fireOnReadyHandlers()}}},c.prototype.getAdobeIMS=function(){return window.adobeIMS},c.prototype.getCachedProfile=function(){if(this.getAdobeIMS().isSignedInUser())return this._profile},c.prototype._onReadyForCucumber=function(){this._loadInfoFromCucumber(),this._onReadyWhenLoggedIn(),a.fireOnReadyHandlers()},c.prototype._onReadyWhenLoggedIn=function(){var e=this;e._serverAdobeProfileId!=e._profile.userId&&o.login(e._ssoLoginUrl+".json",e._accessToken,(function(t){t.logged_in&&"GET"==e._currentRequestMethod&&window.location.reload()})),r(e._imsCookieName,e._accessToken,{path:"/"}),e._initProfileMenu()},c.prototype._initProfileMenu=function(){if(window.adobeProfile){var e=s.getData("/profileMenu/i18n");window.adobeProfile.init({target:this._adobeProfilePlaceholder,locale:this._adobeLanguageTag,theme:"theme-light",class:"adobe-profile-menu",localMenu:{title:e.account_links,links:[{label:e.api_tokens,action:"/account/tokens",description:e.api_tokens}]}})}},c.prototype._onReadyWhenNotLoggedIn=function(){r(this._imsCookieName,null),this._adobeProfilePlaceholder.style.visibility="visible",this._loggedInOnServer&&(window.location.href=this._ssoLogoutUrl)},c.prototype._loadInfoFromCucumber=function(){this._profile={userId:r(this._cucumberConfig.userIdCookieName),serviceAccounts:JSON.parse(r(this._cucumberConfig.serviceAccounts))},this.getAdobeIMS().setProfile(this._profile),this._accessToken=r(this._cucumberConfig.imsTokenCookieName)}},7:function(e,t,n){"use strict";n.d(t,"a",(function(){return Tt})),n.d(t,"b",(function(){return Pt})),n.d(t,"c",(function(){return Mt})),n.d(t,"d",(function(){return At})),n.d(t,"e",(function(){return Lt})),n.d(t,"f",(function(){return Dt})),n.d(t,"g",(function(){return It})),n.d(t,"h",(function(){return jt}));var i,o,r,a,s=n(3),c=n(26);function l(e){return e.type===o.literal}function u(e){return e.type===o.argument}function d(e){return e.type===o.number}function f(e){return e.type===o.date}function p(e){return e.type===o.time}function h(e){return e.type===o.select}function g(e){return e.type===o.plural}function m(e){return e.type===o.pound}function v(e){return e.type===o.tag}function y(e){return!(!e||"object"!=typeof e||e.type!==r.number)}function _(e){return!(!e||"object"!=typeof e||e.type!==r.dateTime)}(a=i||(i={}))[a.EXPECT_ARGUMENT_CLOSING_BRACE=1]="EXPECT_ARGUMENT_CLOSING_BRACE",a[a.EMPTY_ARGUMENT=2]="EMPTY_ARGUMENT",a[a.MALFORMED_ARGUMENT=3]="MALFORMED_ARGUMENT",a[a.EXPECT_ARGUMENT_TYPE=4]="EXPECT_ARGUMENT_TYPE",a[a.INVALID_ARGUMENT_TYPE=5]="INVALID_ARGUMENT_TYPE",a[a.EXPECT_ARGUMENT_STYLE=6]="EXPECT_ARGUMENT_STYLE",a[a.INVALID_NUMBER_SKELETON=7]="INVALID_NUMBER_SKELETON",a[a.INVALID_DATE_TIME_SKELETON=8]="INVALID_DATE_TIME_SKELETON",a[a.EXPECT_NUMBER_SKELETON=9]="EXPECT_NUMBER_SKELETON",a[a.EXPECT_DATE_TIME_SKELETON=10]="EXPECT_DATE_TIME_SKELETON",a[a.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE=11]="UNCLOSED_QUOTE_IN_ARGUMENT_STYLE",a[a.EXPECT_SELECT_ARGUMENT_OPTIONS=12]="EXPECT_SELECT_ARGUMENT_OPTIONS",a[a.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE=13]="EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE",a[a.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE=14]="INVALID_PLURAL_ARGUMENT_OFFSET_VALUE",a[a.EXPECT_SELECT_ARGUMENT_SELECTOR=15]="EXPECT_SELECT_ARGUMENT_SELECTOR",a[a.EXPECT_PLURAL_ARGUMENT_SELECTOR=16]="EXPECT_PLURAL_ARGUMENT_SELECTOR",a[a.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT=17]="EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT",a[a.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT=18]="EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT",a[a.INVALID_PLURAL_ARGUMENT_SELECTOR=19]="INVALID_PLURAL_ARGUMENT_SELECTOR",a[a.DUPLICATE_PLURAL_ARGUMENT_SELECTOR=20]="DUPLICATE_PLURAL_ARGUMENT_SELECTOR",a[a.DUPLICATE_SELECT_ARGUMENT_SELECTOR=21]="DUPLICATE_SELECT_ARGUMENT_SELECTOR",a[a.MISSING_OTHER_CLAUSE=22]="MISSING_OTHER_CLAUSE",a[a.INVALID_TAG=23]="INVALID_TAG",a[a.INVALID_TAG_NAME=25]="INVALID_TAG_NAME",a[a.UNMATCHED_CLOSING_TAG=26]="UNMATCHED_CLOSING_TAG",a[a.UNCLOSED_TAG=27]="UNCLOSED_TAG",function(e){e[e.literal=0]="literal",e[e.argument=1]="argument",e[e.number=2]="number",e[e.date=3]="date",e[e.time=4]="time",e[e.select=5]="select",e[e.plural=6]="plural",e[e.pound=7]="pound",e[e.tag=8]="tag"}(o||(o={})),function(e){e[e.number=0]="number",e[e.dateTime=1]="dateTime"}(r||(r={}));var b=/^[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]*/i,S=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]*$/i,w=/(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;function $(e){var t={};return e.replace(w,(function(e){var n=e.length;switch(e[0]){case"G":t.era=4===n?"long":5===n?"narrow":"short";break;case"y":t.year=2===n?"2-digit":"numeric";break;case"Y":case"u":case"U":case"r":throw new RangeError("`Y/u/U/r` (year) patterns are not supported, use `y` instead");case"q":case"Q":throw new RangeError("`q/Q` (quarter) patterns are not supported");case"M":case"L":t.month=["numeric","2-digit","short","long","narrow"][n-1];break;case"w":case"W":throw new RangeError("`w/W` (week) patterns are not supported");case"d":t.day=["numeric","2-digit"][n-1];break;case"D":case"F":case"g":throw new RangeError("`D/F/g` (day) patterns are not supported, use `d` instead");case"E":t.weekday=4===n?"short":5===n?"narrow":"short";break;case"e":if(n<4)throw new RangeError("`e..eee` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][n-4];break;case"c":if(n<4)throw new RangeError("`c..ccc` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][n-4];break;case"a":t.hour12=!0;break;case"b":case"B":throw new RangeError("`b/B` (period) patterns are not supported, use `a` instead");case"h":t.hourCycle="h12",t.hour=["numeric","2-digit"][n-1];break;case"H":t.hourCycle="h23",t.hour=["numeric","2-digit"][n-1];break;case"K":t.hourCycle="h11",t.hour=["numeric","2-digit"][n-1];break;case"k":t.hourCycle="h24",t.hour=["numeric","2-digit"][n-1];break;case"j":case"J":case"C":throw new RangeError("`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead");case"m":t.minute=["numeric","2-digit"][n-1];break;case"s":t.second=["numeric","2-digit"][n-1];break;case"S":case"A":throw new RangeError("`S/A` (second) patterns are not supported, use `s` instead");case"z":t.timeZoneName=n<4?"short":"long";break;case"Z":case"O":case"v":case"V":case"X":case"x":throw new RangeError("`Z/O/v/V/X/x` (timeZone) patterns are not supported, use `z` instead")}return""})),t}var C,F=/[\t-\r \x85\u200E\u200F\u2028\u2029]/i,E=/^\.(?:(0+)(\*)?|(#+)|(0+)(#+))$/g,x=/^(@+)?(\+|#+)?$/g,k=/(\*)(0+)|(#+)(0+)|(0+)/g,T=/^(0+)$/;function P(e){var t={};return e.replace(x,(function(e,n,i){return"string"!=typeof i?(t.minimumSignificantDigits=n.length,t.maximumSignificantDigits=n.length):"+"===i?t.minimumSignificantDigits=n.length:"#"===n[0]?t.maximumSignificantDigits=n.length:(t.minimumSignificantDigits=n.length,t.maximumSignificantDigits=n.length+("string"==typeof i?i.length:0)),""})),t}function M(e){switch(e){case"sign-auto":return{signDisplay:"auto"};case"sign-accounting":case"()":return{currencySign:"accounting"};case"sign-always":case"+!":return{signDisplay:"always"};case"sign-accounting-always":case"()!":return{signDisplay:"always",currencySign:"accounting"};case"sign-except-zero":case"+?":return{signDisplay:"exceptZero"};case"sign-accounting-except-zero":case"()?":return{signDisplay:"exceptZero",currencySign:"accounting"};case"sign-never":case"+_":return{signDisplay:"never"}}}function A(e){var t;if("E"===e[0]&&"E"===e[1]?(t={notation:"engineering"},e=e.slice(2)):"E"===e[0]&&(t={notation:"scientific"},e=e.slice(1)),t){var n=e.slice(0,2);if("+!"===n?(t.signDisplay="always",e=e.slice(2)):"+?"===n&&(t.signDisplay="exceptZero",e=e.slice(2)),!T.test(e))throw new Error("Malformed concise eng/scientific notation");t.minimumIntegerDigits=e.length}return t}function D(e){return M(e)||{}}function L(e){for(var t={},n=0,i=e;n<i.length;n++){var o=i[n];switch(o.stem){case"percent":case"%":t.style="percent";continue;case"%x100":t.style="percent",t.scale=100;continue;case"currency":t.style="currency",t.currency=o.options[0];continue;case"group-off":case",_":t.useGrouping=!1;continue;case"precision-integer":case".":t.maximumFractionDigits=0;continue;case"measure-unit":case"unit":t.style="unit",t.unit=o.options[0].replace(/^(.*?)-/,"");continue;case"compact-short":case"K":t.notation="compact",t.compactDisplay="short";continue;case"compact-long":case"KK":t.notation="compact",t.compactDisplay="long";continue;case"scientific":t=Object(s.b)(Object(s.b)(Object(s.b)({},t),{notation:"scientific"}),o.options.reduce((function(e,t){return Object(s.b)(Object(s.b)({},e),D(t))}),{}));continue;case"engineering":t=Object(s.b)(Object(s.b)(Object(s.b)({},t),{notation:"engineering"}),o.options.reduce((function(e,t){return Object(s.b)(Object(s.b)({},e),D(t))}),{}));continue;case"notation-simple":t.notation="standard";continue;case"unit-width-narrow":t.currencyDisplay="narrowSymbol",t.unitDisplay="narrow";continue;case"unit-width-short":t.currencyDisplay="code",t.unitDisplay="short";continue;case"unit-width-full-name":t.currencyDisplay="name",t.unitDisplay="long";continue;case"unit-width-iso-code":t.currencyDisplay="symbol";continue;case"scale":t.scale=parseFloat(o.options[0]);continue;case"integer-width":if(o.options.length>1)throw new RangeError("integer-width stems only accept a single optional option");o.options[0].replace(k,(function(e,n,i,o,r,a){if(n)t.minimumIntegerDigits=i.length;else{if(o&&r)throw new Error("We currently do not support maximum integer digits");if(a)throw new Error("We currently do not support exact integer digits")}return""}));continue}if(T.test(o.stem))t.minimumIntegerDigits=o.stem.length;else if(E.test(o.stem)){if(o.options.length>1)throw new RangeError("Fraction-precision stems only accept a single optional option");o.stem.replace(E,(function(e,n,i,o,r,a){return"*"===i?t.minimumFractionDigits=n.length:o&&"#"===o[0]?t.maximumFractionDigits=o.length:r&&a?(t.minimumFractionDigits=r.length,t.maximumFractionDigits=r.length+a.length):(t.minimumFractionDigits=n.length,t.maximumFractionDigits=n.length),""})),o.options.length&&(t=Object(s.b)(Object(s.b)({},t),P(o.options[0])))}else if(x.test(o.stem))t=Object(s.b)(Object(s.b)({},t),P(o.stem));else{var r=M(o.stem);r&&(t=Object(s.b)(Object(s.b)({},t),r));var a=A(o.stem);a&&(t=Object(s.b)(Object(s.b)({},t),a))}}return t}function N(e,t){return{start:e,end:t}}var I=!!String.prototype.startsWith,j=!!String.fromCodePoint,R=!!Object.fromEntries,O=!!String.prototype.codePointAt,V=!!String.prototype.trimStart,U=!!String.prototype.trimEnd,B=Number.isSafeInteger?Number.isSafeInteger:function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e&&Math.abs(e)<=9007199254740991},W=!0;try{W="a"===(null===(C=Y("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu").exec("a"))||void 0===C?void 0:C[0])}catch(a){W=!1}var z,H=I?function(e,t,n){return e.startsWith(t,n)}:function(e,t,n){return e.slice(n,n+t.length)===t},q=j?String.fromCodePoint:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n,i="",o=e.length,r=0;o>r;){if((n=e[r++])>1114111)throw RangeError(n+" is not a valid code point");i+=n<65536?String.fromCharCode(n):String.fromCharCode(55296+((n-=65536)>>10),n%1024+56320)}return i},G=R?Object.fromEntries:function(e){for(var t={},n=0,i=e;n<i.length;n++){var o=i[n],r=o[0],a=o[1];t[r]=a}return t},Z=O?function(e,t){return e.codePointAt(t)}:function(e,t){var n=e.length;if(!(t<0||t>=n)){var i,o=e.charCodeAt(t);return o<55296||o>56319||t+1===n||(i=e.charCodeAt(t+1))<56320||i>57343?o:i-56320+(o-55296<<10)+65536}},K=V?function(e){return e.trimStart()}:function(e){return e.replace(b,"")},X=U?function(e){return e.trimEnd()}:function(e){return e.replace(S,"")};function Y(e,t){return new RegExp(e,t)}if(W){var J=Y("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu");z=function(e,t){var n;return J.lastIndex=t,null!==(n=J.exec(e)[1])&&void 0!==n?n:""}}else z=function(e,t){for(var n=[];;){var i=Z(e,t);if(void 0===i||te(i)||ne(i))break;n.push(i),t+=i>=65536?2:1}return q.apply(void 0,n)};var Q=function(){function e(e,t){void 0===t&&(t={}),this.message=e,this.position={offset:0,line:1,column:1},this.ignoreTag=!!t.ignoreTag,this.requiresOtherClause=!!t.requiresOtherClause,this.shouldParseSkeletons=!!t.shouldParseSkeletons}return e.prototype.parse=function(){if(0!==this.offset())throw Error("parser can only be used once");return this.parseMessage(0,"",!1)},e.prototype.parseMessage=function(e,t,n){for(var r=[];!this.isEOF();){var a=this.char();if(123===a){if((s=this.parseArgument(e,n)).err)return s;r.push(s.val)}else{if(125===a&&e>0)break;if(35!==a||"plural"!==t&&"selectordinal"!==t){if(60===a&&!this.ignoreTag&&47===this.peek()){if(n)break;return this.error(i.UNMATCHED_CLOSING_TAG,N(this.clonePosition(),this.clonePosition()))}if(60===a&&!this.ignoreTag&&ee(this.peek()||0)){if((s=this.parseTag(e,t)).err)return s;r.push(s.val)}else{var s;if((s=this.parseLiteral(e,t)).err)return s;r.push(s.val)}}else{var c=this.clonePosition();this.bump(),r.push({type:o.pound,location:N(c,this.clonePosition())})}}}return{val:r,err:null}},e.prototype.parseTag=function(e,t){var n=this.clonePosition();this.bump();var r=this.parseTagName();if(this.bumpSpace(),this.bumpIf("/>"))return{val:{type:o.literal,value:"<"+r+"/>",location:N(n,this.clonePosition())},err:null};if(this.bumpIf(">")){var a=this.parseMessage(e+1,t,!0);if(a.err)return a;var s=a.val,c=this.clonePosition();if(this.bumpIf("</")){if(this.isEOF()||!ee(this.char()))return this.error(i.INVALID_TAG,N(c,this.clonePosition()));var l=this.clonePosition();return r!==this.parseTagName()?this.error(i.UNMATCHED_CLOSING_TAG,N(l,this.clonePosition())):(this.bumpSpace(),this.bumpIf(">")?{val:{type:o.tag,value:r,children:s,location:N(n,this.clonePosition())},err:null}:this.error(i.INVALID_TAG,N(c,this.clonePosition())))}return this.error(i.UNCLOSED_TAG,N(n,this.clonePosition()))}return this.error(i.INVALID_TAG,N(n,this.clonePosition()))},e.prototype.parseTagName=function(){var e,t=this.offset();for(this.bump();!this.isEOF()&&(45===(e=this.char())||46===e||e>=48&&e<=57||95===e||e>=97&&e<=122||e>=65&&e<=90||183==e||e>=192&&e<=214||e>=216&&e<=246||e>=248&&e<=893||e>=895&&e<=8191||e>=8204&&e<=8205||e>=8255&&e<=8256||e>=8304&&e<=8591||e>=11264&&e<=12271||e>=12289&&e<=55295||e>=63744&&e<=64975||e>=65008&&e<=65533||e>=65536&&e<=983039);)this.bump();return this.message.slice(t,this.offset())},e.prototype.parseLiteral=function(e,t){for(var n=this.clonePosition(),i="";;){var r=this.tryParseQuote(t);if(r)i+=r;else{var a=this.tryParseUnquoted(e,t);if(a)i+=a;else{var s=this.tryParseLeftAngleBracket();if(!s)break;i+=s}}}var c=N(n,this.clonePosition());return{val:{type:o.literal,value:i,location:c},err:null}},e.prototype.tryParseLeftAngleBracket=function(){return this.isEOF()||60!==this.char()||!this.ignoreTag&&(ee(e=this.peek()||0)||47===e)?null:(this.bump(),"<");var e},e.prototype.tryParseQuote=function(e){if(this.isEOF()||39!==this.char())return null;switch(this.peek()){case 39:return this.bump(),this.bump(),"'";case 123:case 60:case 62:case 125:break;case 35:if("plural"===e||"selectordinal"===e)break;return null;default:return null}this.bump();var t=[this.char()];for(this.bump();!this.isEOF();){var n=this.char();if(39===n){if(39!==this.peek()){this.bump();break}t.push(39),this.bump()}else t.push(n);this.bump()}return q.apply(void 0,t)},e.prototype.tryParseUnquoted=function(e,t){if(this.isEOF())return null;var n=this.char();return 60===n||123===n||35===n&&("plural"===t||"selectordinal"===t)||125===n&&e>0?null:(this.bump(),q(n))},e.prototype.parseArgument=function(e,t){var n=this.clonePosition();if(this.bump(),this.bumpSpace(),this.isEOF())return this.error(i.EXPECT_ARGUMENT_CLOSING_BRACE,N(n,this.clonePosition()));if(125===this.char())return this.bump(),this.error(i.EMPTY_ARGUMENT,N(n,this.clonePosition()));var r=this.parseIdentifierIfPossible().value;if(!r)return this.error(i.MALFORMED_ARGUMENT,N(n,this.clonePosition()));if(this.bumpSpace(),this.isEOF())return this.error(i.EXPECT_ARGUMENT_CLOSING_BRACE,N(n,this.clonePosition()));switch(this.char()){case 125:return this.bump(),{val:{type:o.argument,value:r,location:N(n,this.clonePosition())},err:null};case 44:return this.bump(),this.bumpSpace(),this.isEOF()?this.error(i.EXPECT_ARGUMENT_CLOSING_BRACE,N(n,this.clonePosition())):this.parseArgumentOptions(e,t,r,n);default:return this.error(i.MALFORMED_ARGUMENT,N(n,this.clonePosition()))}},e.prototype.parseIdentifierIfPossible=function(){var e=this.clonePosition(),t=this.offset(),n=z(this.message,t),i=t+n.length;return this.bumpTo(i),{value:n,location:N(e,this.clonePosition())}},e.prototype.parseArgumentOptions=function(e,t,n,a){var c,l=this.clonePosition(),u=this.parseIdentifierIfPossible().value,d=this.clonePosition();switch(u){case"":return this.error(i.EXPECT_ARGUMENT_TYPE,N(l,d));case"number":case"date":case"time":this.bumpSpace();var f=null;if(this.bumpIf(",")){this.bumpSpace();var p=this.clonePosition();if((b=this.parseSimpleArgStyleIfPossible()).err)return b;if(0===(m=X(b.val)).length)return this.error(i.EXPECT_ARGUMENT_STYLE,N(this.clonePosition(),this.clonePosition()));f={style:m,styleLocation:N(p,this.clonePosition())}}if((S=this.tryParseArgumentClose(a)).err)return S;var h=N(a,this.clonePosition());if(f&&H(null==f?void 0:f.style,"::",0)){var g=K(f.style.slice(2));if("number"===u)return(b=this.parseNumberSkeletonFromString(g,f.styleLocation)).err?b:{val:{type:o.number,value:n,location:h,style:b.val},err:null};if(0===g.length)return this.error(i.EXPECT_DATE_TIME_SKELETON,h);var m={type:r.dateTime,pattern:g,location:f.styleLocation,parsedOptions:this.shouldParseSkeletons?$(g):{}};return{val:{type:"date"===u?o.date:o.time,value:n,location:h,style:m},err:null}}return{val:{type:"number"===u?o.number:"date"===u?o.date:o.time,value:n,location:h,style:null!==(c=null==f?void 0:f.style)&&void 0!==c?c:null},err:null};case"plural":case"selectordinal":case"select":var v=this.clonePosition();if(this.bumpSpace(),!this.bumpIf(","))return this.error(i.EXPECT_SELECT_ARGUMENT_OPTIONS,N(v,Object(s.b)({},v)));this.bumpSpace();var y=this.parseIdentifierIfPossible(),_=0;if("select"!==u&&"offset"===y.value){if(!this.bumpIf(":"))return this.error(i.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,N(this.clonePosition(),this.clonePosition()));var b;if(this.bumpSpace(),(b=this.tryParseDecimalInteger(i.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,i.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE)).err)return b;this.bumpSpace(),y=this.parseIdentifierIfPossible(),_=b.val}var S,w=this.tryParsePluralOrSelectOptions(e,u,t,y);if(w.err)return w;if((S=this.tryParseArgumentClose(a)).err)return S;var C=N(a,this.clonePosition());return"select"===u?{val:{type:o.select,value:n,options:G(w.val),location:C},err:null}:{val:{type:o.plural,value:n,options:G(w.val),offset:_,pluralType:"plural"===u?"cardinal":"ordinal",location:C},err:null};default:return this.error(i.INVALID_ARGUMENT_TYPE,N(l,d))}},e.prototype.tryParseArgumentClose=function(e){return this.isEOF()||125!==this.char()?this.error(i.EXPECT_ARGUMENT_CLOSING_BRACE,N(e,this.clonePosition())):(this.bump(),{val:!0,err:null})},e.prototype.parseSimpleArgStyleIfPossible=function(){for(var e=0,t=this.clonePosition();!this.isEOF();)switch(this.char()){case 39:this.bump();var n=this.clonePosition();if(!this.bumpUntil("'"))return this.error(i.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE,N(n,this.clonePosition()));this.bump();break;case 123:e+=1,this.bump();break;case 125:if(!(e>0))return{val:this.message.slice(t.offset,this.offset()),err:null};e-=1;break;default:this.bump()}return{val:this.message.slice(t.offset,this.offset()),err:null}},e.prototype.parseNumberSkeletonFromString=function(e,t){var n=[];try{n=function(e){if(0===e.length)throw new Error("Number skeleton cannot be empty");for(var t=[],n=0,i=e.split(F).filter((function(e){return e.length>0}));n<i.length;n++){var o=i[n].split("/");if(0===o.length)throw new Error("Invalid number skeleton");for(var r=o[0],a=o.slice(1),s=0,c=a;s<c.length;s++)if(0===c[s].length)throw new Error("Invalid number skeleton");t.push({stem:r,options:a})}return t}(e)}catch(e){return this.error(i.INVALID_NUMBER_SKELETON,t)}return{val:{type:r.number,tokens:n,location:t,parsedOptions:this.shouldParseSkeletons?L(n):{}},err:null}},e.prototype.tryParsePluralOrSelectOptions=function(e,t,n,o){for(var r,a=!1,s=[],c=new Set,l=o.value,u=o.location;;){if(0===l.length){var d=this.clonePosition();if("select"===t||!this.bumpIf("="))break;var f=this.tryParseDecimalInteger(i.EXPECT_PLURAL_ARGUMENT_SELECTOR,i.INVALID_PLURAL_ARGUMENT_SELECTOR);if(f.err)return f;u=N(d,this.clonePosition()),l=this.message.slice(d.offset,this.offset())}if(c.has(l))return this.error("select"===t?i.DUPLICATE_SELECT_ARGUMENT_SELECTOR:i.DUPLICATE_PLURAL_ARGUMENT_SELECTOR,u);"other"===l&&(a=!0),this.bumpSpace();var p=this.clonePosition();if(!this.bumpIf("{"))return this.error("select"===t?i.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT:i.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT,N(this.clonePosition(),this.clonePosition()));var h=this.parseMessage(e+1,t,n);if(h.err)return h;var g=this.tryParseArgumentClose(p);if(g.err)return g;s.push([l,{value:h.val,location:N(p,this.clonePosition())}]),c.add(l),this.bumpSpace(),l=(r=this.parseIdentifierIfPossible()).value,u=r.location}return 0===s.length?this.error("select"===t?i.EXPECT_SELECT_ARGUMENT_SELECTOR:i.EXPECT_PLURAL_ARGUMENT_SELECTOR,N(this.clonePosition(),this.clonePosition())):this.requiresOtherClause&&!a?this.error(i.MISSING_OTHER_CLAUSE,N(this.clonePosition(),this.clonePosition())):{val:s,err:null}},e.prototype.tryParseDecimalInteger=function(e,t){var n=1,i=this.clonePosition();this.bumpIf("+")||this.bumpIf("-")&&(n=-1);for(var o=!1,r=0;!this.isEOF();){var a=this.char();if(!(a>=48&&a<=57))break;o=!0,r=10*r+(a-48),this.bump()}var s=N(i,this.clonePosition());return o?B(r*=n)?{val:r,err:null}:this.error(t,s):this.error(e,s)},e.prototype.offset=function(){return this.position.offset},e.prototype.isEOF=function(){return this.offset()===this.message.length},e.prototype.clonePosition=function(){return{offset:this.position.offset,line:this.position.line,column:this.position.column}},e.prototype.char=function(){var e=this.position.offset;if(e>=this.message.length)throw Error("out of bound");var t=Z(this.message,e);if(void 0===t)throw Error("Offset "+e+" is at invalid UTF-16 code unit boundary");return t},e.prototype.error=function(e,t){return{val:null,err:{kind:e,message:this.message,location:t}}},e.prototype.bump=function(){if(!this.isEOF()){var e=this.char();10===e?(this.position.line+=1,this.position.column=1,this.position.offset+=1):(this.position.column+=1,this.position.offset+=e<65536?1:2)}},e.prototype.bumpIf=function(e){if(H(this.message,e,this.offset())){for(var t=0;t<e.length;t++)this.bump();return!0}return!1},e.prototype.bumpUntil=function(e){var t=this.offset(),n=this.message.indexOf(e,t);return n>=0?(this.bumpTo(n),!0):(this.bumpTo(this.message.length),!1)},e.prototype.bumpTo=function(e){if(this.offset()>e)throw Error("targetOffset "+e+" must be greater than or equal to the current offset "+this.offset());for(e=Math.min(e,this.message.length);;){var t=this.offset();if(t===e)break;if(t>e)throw Error("targetOffset "+e+" is at invalid UTF-16 code unit boundary");if(this.bump(),this.isEOF())break}},e.prototype.bumpSpace=function(){for(;!this.isEOF()&&te(this.char());)this.bump()},e.prototype.peek=function(){if(this.isEOF())return null;var e=this.char(),t=this.offset(),n=this.message.charCodeAt(t+(e>=65536?2:1));return null!=n?n:null},e}();function ee(e){return e>=97&&e<=122||e>=65&&e<=90}function te(e){return e>=9&&e<=13||32===e||133===e||e>=8206&&e<=8207||8232===e||8233===e}function ne(e){return e>=33&&e<=35||36===e||e>=37&&e<=39||40===e||41===e||42===e||43===e||44===e||45===e||e>=46&&e<=47||e>=58&&e<=59||e>=60&&e<=62||e>=63&&e<=64||91===e||92===e||93===e||94===e||96===e||123===e||124===e||125===e||126===e||161===e||e>=162&&e<=165||166===e||167===e||169===e||171===e||172===e||174===e||176===e||177===e||182===e||187===e||191===e||215===e||247===e||e>=8208&&e<=8213||e>=8214&&e<=8215||8216===e||8217===e||8218===e||e>=8219&&e<=8220||8221===e||8222===e||8223===e||e>=8224&&e<=8231||e>=8240&&e<=8248||8249===e||8250===e||e>=8251&&e<=8254||e>=8257&&e<=8259||8260===e||8261===e||8262===e||e>=8263&&e<=8273||8274===e||8275===e||e>=8277&&e<=8286||e>=8592&&e<=8596||e>=8597&&e<=8601||e>=8602&&e<=8603||e>=8604&&e<=8607||8608===e||e>=8609&&e<=8610||8611===e||e>=8612&&e<=8613||8614===e||e>=8615&&e<=8621||8622===e||e>=8623&&e<=8653||e>=8654&&e<=8655||e>=8656&&e<=8657||8658===e||8659===e||8660===e||e>=8661&&e<=8691||e>=8692&&e<=8959||e>=8960&&e<=8967||8968===e||8969===e||8970===e||8971===e||e>=8972&&e<=8991||e>=8992&&e<=8993||e>=8994&&e<=9e3||9001===e||9002===e||e>=9003&&e<=9083||9084===e||e>=9085&&e<=9114||e>=9115&&e<=9139||e>=9140&&e<=9179||e>=9180&&e<=9185||e>=9186&&e<=9254||e>=9255&&e<=9279||e>=9280&&e<=9290||e>=9291&&e<=9311||e>=9472&&e<=9654||9655===e||e>=9656&&e<=9664||9665===e||e>=9666&&e<=9719||e>=9720&&e<=9727||e>=9728&&e<=9838||9839===e||e>=9840&&e<=10087||10088===e||10089===e||10090===e||10091===e||10092===e||10093===e||10094===e||10095===e||10096===e||10097===e||10098===e||10099===e||10100===e||10101===e||e>=10132&&e<=10175||e>=10176&&e<=10180||10181===e||10182===e||e>=10183&&e<=10213||10214===e||10215===e||10216===e||10217===e||10218===e||10219===e||10220===e||10221===e||10222===e||10223===e||e>=10224&&e<=10239||e>=10240&&e<=10495||e>=10496&&e<=10626||10627===e||10628===e||10629===e||10630===e||10631===e||10632===e||10633===e||10634===e||10635===e||10636===e||10637===e||10638===e||10639===e||10640===e||10641===e||10642===e||10643===e||10644===e||10645===e||10646===e||10647===e||10648===e||e>=10649&&e<=10711||10712===e||10713===e||10714===e||10715===e||e>=10716&&e<=10747||10748===e||10749===e||e>=10750&&e<=11007||e>=11008&&e<=11055||e>=11056&&e<=11076||e>=11077&&e<=11078||e>=11079&&e<=11084||e>=11085&&e<=11123||e>=11124&&e<=11125||e>=11126&&e<=11157||11158===e||e>=11159&&e<=11263||e>=11776&&e<=11777||11778===e||11779===e||11780===e||11781===e||e>=11782&&e<=11784||11785===e||11786===e||11787===e||11788===e||11789===e||e>=11790&&e<=11798||11799===e||e>=11800&&e<=11801||11802===e||11803===e||11804===e||11805===e||e>=11806&&e<=11807||11808===e||11809===e||11810===e||11811===e||11812===e||11813===e||11814===e||11815===e||11816===e||11817===e||e>=11818&&e<=11822||11823===e||e>=11824&&e<=11833||e>=11834&&e<=11835||e>=11836&&e<=11839||11840===e||11841===e||11842===e||e>=11843&&e<=11855||e>=11856&&e<=11857||11858===e||e>=11859&&e<=11903||e>=12289&&e<=12291||12296===e||12297===e||12298===e||12299===e||12300===e||12301===e||12302===e||12303===e||12304===e||12305===e||e>=12306&&e<=12307||12308===e||12309===e||12310===e||12311===e||12312===e||12313===e||12314===e||12315===e||12316===e||12317===e||e>=12318&&e<=12319||12320===e||12336===e||64830===e||64831===e||e>=65093&&e<=65094}function ie(e){e.forEach((function(e){if(delete e.location,h(e)||g(e))for(var t in e.options)delete e.options[t].location,ie(e.options[t].value);else d(e)&&y(e.style)||(f(e)||p(e))&&_(e.style)?delete e.style.location:v(e)&&ie(e.children)}))}function oe(e,t){void 0===t&&(t={}),t=Object(s.b)({shouldParseSkeletons:!0,requiresOtherClause:!0},t);var n=new Q(e,t).parse();if(n.err){var o=SyntaxError(i[n.err.kind]);throw o.location=n.err.location,o.originalMessage=n.err.message,o}return(null==t?void 0:t.captureLocation)||ie(n.val),n.val}function re(e,t){var n=t&&t.cache?t.cache:pe,i=t&&t.serializer?t.serializer:ue;return(t&&t.strategy?t.strategy:le)(e,{cache:n,serializer:i})}function ae(e,t,n,i){var o,r=null==(o=i)||"number"==typeof o||"boolean"==typeof o?i:n(i),a=t.get(r);return void 0===a&&(a=e.call(this,i),t.set(r,a)),a}function se(e,t,n){var i=Array.prototype.slice.call(arguments,3),o=n(i),r=t.get(o);return void 0===r&&(r=e.apply(this,i),t.set(o,r)),r}function ce(e,t,n,i,o){return n.bind(t,e,i,o)}function le(e,t){return ce(e,this,1===e.length?ae:se,t.cache.create(),t.serializer)}var ue=function(){return JSON.stringify(arguments)};function de(){this.cache=Object.create(null)}de.prototype.has=function(e){return e in this.cache},de.prototype.get=function(e){return this.cache[e]},de.prototype.set=function(e,t){this.cache[e]=t};var fe,pe={create:function(){return new de}},he={variadic:function(e,t){return ce(e,this,se,t.cache.create(),t.serializer)},monadic:function(e,t){return ce(e,this,ae,t.cache.create(),t.serializer)}};!function(e){e.MISSING_VALUE="MISSING_VALUE",e.INVALID_VALUE="INVALID_VALUE",e.MISSING_INTL_API="MISSING_INTL_API"}(fe||(fe={}));var ge,me=function(e){function t(t,n,i){var o=e.call(this,t)||this;return o.code=n,o.originalMessage=i,o}return Object(s.c)(t,e),t.prototype.toString=function(){return"[formatjs Error: "+this.code+"] "+this.message},t}(Error),ve=function(e){function t(t,n,i,o){return e.call(this,'Invalid values for "'+t+'": "'+n+'". Options are "'+Object.keys(i).join('", "')+'"',fe.INVALID_VALUE,o)||this}return Object(s.c)(t,e),t}(me),ye=function(e){function t(t,n,i){return e.call(this,'Value for "'+t+'" must be of type '+n,fe.INVALID_VALUE,i)||this}return Object(s.c)(t,e),t}(me),_e=function(e){function t(t,n){return e.call(this,'The intl string context variable "'+t+'" was not provided to the string "'+n+'"',fe.MISSING_VALUE,n)||this}return Object(s.c)(t,e),t}(me);function be(e){return"function"==typeof e}function Se(e,t,n,i,o,r,a){if(1===e.length&&l(e[0]))return[{type:ge.literal,value:e[0].value}];for(var s=[],c=0,b=e;c<b.length;c++){var S=b[c];if(l(S))s.push({type:ge.literal,value:S.value});else if(m(S))"number"==typeof r&&s.push({type:ge.literal,value:n.getNumberFormat(t).format(r)});else{var w=S.value;if(!o||!(w in o))throw new _e(w,a);var $=o[w];if(u(S))$&&"string"!=typeof $&&"number"!=typeof $||($="string"==typeof $||"number"==typeof $?String($):""),s.push({type:"string"==typeof $?ge.literal:ge.object,value:$});else if(f(S)){var C="string"==typeof S.style?i.date[S.style]:_(S.style)?S.style.parsedOptions:void 0;s.push({type:ge.literal,value:n.getDateTimeFormat(t,C).format($)})}else if(p(S))C="string"==typeof S.style?i.time[S.style]:_(S.style)?S.style.parsedOptions:void 0,s.push({type:ge.literal,value:n.getDateTimeFormat(t,C).format($)});else if(d(S))(C="string"==typeof S.style?i.number[S.style]:y(S.style)?S.style.parsedOptions:void 0)&&C.scale&&($*=C.scale||1),s.push({type:ge.literal,value:n.getNumberFormat(t,C).format($)});else{if(v(S)){var F=S.children,E=S.value,x=o[E];if(!be(x))throw new ye(E,"function",a);var k=x(Se(F,t,n,i,o,r).map((function(e){return e.value})));Array.isArray(k)||(k=[k]),s.push.apply(s,k.map((function(e){return{type:"string"==typeof e?ge.literal:ge.object,value:e}})))}if(h(S)){if(!(T=S.options[$]||S.options.other))throw new ve(S.value,$,Object.keys(S.options),a);s.push.apply(s,Se(T.value,t,n,i,o))}else if(g(S)){var T;if(!(T=S.options["="+$])){if(!Intl.PluralRules)throw new me('Intl.PluralRules is not available in this environment.\nTry polyfilling it using "@formatjs/intl-pluralrules"\n',fe.MISSING_INTL_API,a);var P=n.getPluralRules(t,{type:S.pluralType}).select($-(S.offset||0));T=S.options[P]||S.options.other}if(!T)throw new ve(S.value,$,Object.keys(S.options),a);s.push.apply(s,Se(T.value,t,n,i,o,$-(S.offset||0)))}}}}return function(e){return e.length<2?e:e.reduce((function(e,t){var n=e[e.length-1];return n&&n.type===ge.literal&&t.type===ge.literal?n.value+=t.value:e.push(t),e}),[])}(s)}function we(e){return{create:function(){return{has:function(t){return t in e},get:function(t){return e[t]},set:function(t,n){e[t]=n}}}}}!function(e){e[e.literal=0]="literal",e[e.object=1]="object"}(ge||(ge={}));var $e,Ce=function(){function e(t,n,i,o){var r,a=this;if(void 0===n&&(n=e.defaultLocale),this.formatterCache={number:{},dateTime:{},pluralRules:{}},this.format=function(e){var t=a.formatToParts(e);if(1===t.length)return t[0].value;var n=t.reduce((function(e,t){return e.length&&t.type===ge.literal&&"string"==typeof e[e.length-1]?e[e.length-1]+=t.value:e.push(t.value),e}),[]);return n.length<=1?n[0]||"":n},this.formatToParts=function(e){return Se(a.ast,a.locales,a.formatters,a.formats,e,void 0,a.message)},this.resolvedOptions=function(){return{locale:Intl.NumberFormat.supportedLocalesOf(a.locales)[0]}},this.getAst=function(){return a.ast},"string"==typeof t){if(this.message=t,!e.__parse)throw new TypeError("IntlMessageFormat.__parse must be set to process `message` of type `string`");this.ast=e.__parse(t,{ignoreTag:null==o?void 0:o.ignoreTag})}else this.ast=t;if(!Array.isArray(this.ast))throw new TypeError("A message must be provided as a String or AST.");this.formats=function(e,t){return t?Object.keys(e).reduce((function(n,i){var o,r;return n[i]=(o=e[i],(r=t[i])?Object(s.b)(Object(s.b)(Object(s.b)({},o||{}),r||{}),Object.keys(o).reduce((function(e,t){return e[t]=Object(s.b)(Object(s.b)({},o[t]),r[t]||{}),e}),{})):o),n}),Object(s.b)({},e)):e}(e.formats,i),this.locales=n,this.formatters=o&&o.formatters||(void 0===(r=this.formatterCache)&&(r={number:{},dateTime:{},pluralRules:{}}),{getNumberFormat:re((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.NumberFormat).bind.apply(e,Object(s.d)([void 0],t)))}),{cache:we(r.number),strategy:he.variadic}),getDateTimeFormat:re((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.DateTimeFormat).bind.apply(e,Object(s.d)([void 0],t)))}),{cache:we(r.dateTime),strategy:he.variadic}),getPluralRules:re((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.PluralRules).bind.apply(e,Object(s.d)([void 0],t)))}),{cache:we(r.pluralRules),strategy:he.variadic})})}return Object.defineProperty(e,"defaultLocale",{get:function(){return e.memoizedDefaultLocale||(e.memoizedDefaultLocale=(new Intl.NumberFormat).resolvedOptions().locale),e.memoizedDefaultLocale},enumerable:!1,configurable:!0}),e.memoizedDefaultLocale=null,e.__parse=oe,e.formats={number:{currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},e}();!function(e){e.FORMAT_ERROR="FORMAT_ERROR",e.UNSUPPORTED_FORMATTER="UNSUPPORTED_FORMATTER",e.INVALID_CONFIG="INVALID_CONFIG",e.MISSING_DATA="MISSING_DATA",e.MISSING_TRANSLATION="MISSING_TRANSLATION"}($e||($e={}));var Fe=function(e){function t(n,i,o){var r=e.call(this,"[@formatjs/intl Error "+n+"] "+i+" \n"+(o?"\n"+o.message+"\n"+o.stack:""))||this;return r.code=n,"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(r,t),r}return Object(s.c)(t,e),t}(Error),Ee=function(e){function t(t,n){return e.call(this,$e.UNSUPPORTED_FORMATTER,t,n)||this}return Object(s.c)(t,e),t}(Fe),xe=function(e){function t(t,n){return e.call(this,$e.INVALID_CONFIG,t,n)||this}return Object(s.c)(t,e),t}(Fe),ke=function(e){function t(t,n){return e.call(this,$e.MISSING_DATA,t,n)||this}return Object(s.c)(t,e),t}(Fe),Te=function(e){function t(t,n,i,o){var r=e.call(this,$e.FORMAT_ERROR,t+" \nLocale: "+n+"\nMessageID: "+(null==i?void 0:i.id)+"\nDefault Message: "+(null==i?void 0:i.defaultMessage)+"\nDescription: "+(null==i?void 0:i.description)+" \n",o)||this;return r.descriptor=i,r}return Object(s.c)(t,e),t}(Fe),Pe=function(e){function t(t,n){var i=e.call(this,$e.MISSING_TRANSLATION,'Missing message: "'+t.id+'" for locale "'+n+'", using '+(t.defaultMessage?"default message":"id")+" as fallback.")||this;return i.descriptor=t,i}return Object(s.c)(t,e),t}(Fe);function Me(e,t,n){return void 0===n&&(n={}),t.reduce((function(t,i){return i in e?t[i]=e[i]:i in n&&(t[i]=n[i]),t}),{})}var Ae={formats:{},messages:{},timeZone:void 0,defaultLocale:"en",defaultFormats:{},onError:function(e){}};function De(e){return{create:function(){return{has:function(t){return t in e},get:function(t){return e[t]},set:function(t,n){e[t]=n}}}}}function Le(e,t,n,i){var o,r=e&&e[t];if(r&&(o=r[n]),o)return o;i(new Ee("No "+t+" format named: "+n))}function Ne(e,t){return Object.keys(e).reduce((function(n,i){return n[i]=Object(s.b)({timeZone:t},e[i]),n}),{})}function Ie(e,t){return Object.keys(Object(s.b)(Object(s.b)({},e),t)).reduce((function(n,i){return n[i]=Object(s.b)(Object(s.b)({},e[i]||{}),t[i]||{}),n}),{})}function je(e,t){if(!t)return e;var n=Ce.formats;return Object(s.b)(Object(s.b)(Object(s.b)({},n),e),{date:Ie(Ne(n.date,t),Ne(e.date||{},t)),time:Ie(Ne(n.time,t),Ne(e.time||{},t))})}function Re(e,t,n,i,r){var c=e.locale,l=e.formats,u=e.messages,d=e.defaultLocale,f=e.defaultFormats,p=e.onError,h=e.timeZone,g=e.defaultRichTextElements;void 0===n&&(n={id:""});var m=n.id,v=n.defaultMessage;!function(e,t,n){if(void 0===n&&(n=Error),!e)throw new n("[@formatjs/intl] An `id` must be provided to format a message. You can either:\n1. Configure your build toolchain with [babel-plugin-formatjs](https://formatjs.io/docs/tooling/babel-plugin)\nor [@formatjs/ts-transformer](https://formatjs.io/docs/tooling/ts-transformer) OR\n2. Configure your `eslint` config to include [eslint-plugin-formatjs](https://formatjs.io/docs/tooling/linter#enforce-id)\nto autofix this issue")}(!!m);var y=String(m),_=u&&Object.prototype.hasOwnProperty.call(u,y)&&u[y];if(Array.isArray(_)&&1===_.length&&_[0].type===o.literal)return _[0].value;if(!i&&_&&"string"==typeof _&&!g)return _.replace(/'\{(.*?)\}'/gi,"{$1}");if(i=Object(s.b)(Object(s.b)({},g),i||{}),l=je(l,h),f=je(f,h),!_){if((!v||c&&c.toLowerCase()!==d.toLowerCase())&&p(new Pe(n,c)),v)try{return t.getMessageFormat(v,d,f,r).format(i)}catch(a){return p(new Te('Error formatting default message for: "'+y+'", rendering default message verbatim',c,n,a)),"string"==typeof v?v:y}return y}try{return t.getMessageFormat(_,c,l,Object(s.b)({formatters:t},r||{})).format(i)}catch(a){p(new Te('Error formatting message: "'+y+'", using '+(v?"default message":"id")+" as fallback.",c,n,a))}if(v)try{return t.getMessageFormat(v,d,f,r).format(i)}catch(a){p(new Te('Error formatting the default message for: "'+y+'", rendering message verbatim',c,n,a))}return"string"==typeof _?_:"string"==typeof v?v:y}var Oe=["localeMatcher","formatMatcher","timeZone","hour12","weekday","era","year","month","day","hour","minute","second","timeZoneName","hourCycle","dateStyle","timeStyle","calendar","numberingSystem"];function Ve(e,t,n,i){var o=e.locale,r=e.formats,a=e.onError,c=e.timeZone;void 0===i&&(i={});var l=i.format,u=Object(s.b)(Object(s.b)({},c&&{timeZone:c}),l&&Le(r,t,l,a)),d=Me(i,Oe,u);return"time"!==t||d.hour||d.minute||d.second||d.timeStyle||d.dateStyle||(d=Object(s.b)(Object(s.b)({},d),{hour:"numeric",minute:"numeric"})),n(o,d)}function Ue(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var o=n[0],r=n[1],a=void 0===r?{}:r,s="string"==typeof o?new Date(o||0):o;try{return Ve(e,"date",t,a).format(s)}catch(t){e.onError(new Fe($e.FORMAT_ERROR,"Error formatting date.",t))}return String(s)}function Be(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var o=n[0],r=n[1],a=void 0===r?{}:r,s="string"==typeof o?new Date(o||0):o;try{return Ve(e,"time",t,a).format(s)}catch(t){e.onError(new Fe($e.FORMAT_ERROR,"Error formatting time.",t))}return String(s)}function We(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var o=n[0],r=n[1],a=n[2],s=void 0===a?{}:a,c=e.timeZone,l=e.locale,u=e.onError,d=Me(s,Oe,c?{timeZone:c}:{});try{return t(l,d).formatRange(o,r)}catch(e){u(new Fe($e.FORMAT_ERROR,"Error formatting date time range.",e))}return String(o)}function ze(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var o=n[0],r=n[1],a=void 0===r?{}:r,s="string"==typeof o?new Date(o||0):o;try{return Ve(e,"date",t,a).formatToParts(s)}catch(t){e.onError(new Fe($e.FORMAT_ERROR,"Error formatting date.",t))}return[]}function He(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var o=n[0],r=n[1],a=void 0===r?{}:r,s="string"==typeof o?new Date(o||0):o;try{return Ve(e,"time",t,a).formatToParts(s)}catch(t){e.onError(new Fe($e.FORMAT_ERROR,"Error formatting time.",t))}return[]}var qe=["localeMatcher","style","type","fallback"];function Ge(e,t,n,i){var o=e.locale,r=e.onError;Intl.DisplayNames||r(new me('Intl.DisplayNames is not available in this environment.\nTry polyfilling it using "@formatjs/intl-displaynames"\n',fe.MISSING_INTL_API));var a=Me(i,qe);try{return t(o,a).of(n)}catch(e){r(new Fe($e.FORMAT_ERROR,"Error formatting display name.",e))}}var Ze=["localeMatcher","type","style"],Ke=Date.now();function Xe(e,t,n,i){var o=e.locale,r=e.onError;void 0===i&&(i={}),Intl.ListFormat||r(new me('Intl.ListFormat is not available in this environment.\nTry polyfilling it using "@formatjs/intl-listformat"\n',fe.MISSING_INTL_API));var a=Me(i,Ze);try{var s={},c=n.map((function(e,t){if("object"==typeof e){var n=function(e){return Ke+"_"+e+"_"+Ke}(t);return s[n]=e,n}return String(e)}));return Object.keys(s).length?t(o,a).formatToParts(c).reduce((function(e,t){var n=t.value;return s[n]?e.push(s[n]):"string"==typeof e[e.length-1]?e[e.length-1]+=n:e.push(n),e}),[]):t(o,a).format(c)}catch(e){r(new Fe($e.FORMAT_ERROR,"Error formatting list.",e))}return n}var Ye=["localeMatcher","type"];function Je(e,t,n,i){var o=e.locale,r=e.onError;void 0===i&&(i={}),Intl.PluralRules||r(new me('Intl.PluralRules is not available in this environment.\nTry polyfilling it using "@formatjs/intl-pluralrules"\n',fe.MISSING_INTL_API));var a=Me(i,Ye);try{return t(o,a).select(n)}catch(e){r(new Te("Error formatting plural.",e))}return"other"}var Qe=["numeric","style"];function et(e,t,n,i,o){void 0===o&&(o={}),i||(i="second"),Intl.RelativeTimeFormat||e.onError(new me('Intl.RelativeTimeFormat is not available in this environment.\nTry polyfilling it using "@formatjs/intl-relativetimeformat"\n',fe.MISSING_INTL_API));try{return function(e,t,n){var i=e.locale,o=e.formats,r=e.onError;void 0===n&&(n={});var a=n.format,s=!!a&&Le(o,"relative",a,r)||{};return t(i,Me(n,Qe,s))}(e,t,o).format(n,i)}catch(t){e.onError(new Te("Error formatting relative time.",t))}return String(n)}var tt=["localeMatcher","style","currency","currencyDisplay","unit","unitDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","currencyDisplay","currencySign","notation","signDisplay","unit","unitDisplay"];function nt(e,t,n){var i=e.locale,o=e.formats,r=e.onError;void 0===n&&(n={});var a=n.format,s=a&&Le(o,"number",a,r)||{};return t(i,Me(n,tt,s))}function it(e,t,n,i){void 0===i&&(i={});try{return nt(e,t,i).format(n)}catch(t){e.onError(new Fe($e.FORMAT_ERROR,"Error formatting number.",t))}return String(n)}function ot(e,t,n,i){void 0===i&&(i={});try{return nt(e,t,i).formatToParts(n)}catch(t){e.onError(new Fe($e.FORMAT_ERROR,"Error formatting number.",t))}return[]}function rt(e,t){var n=function(e){void 0===e&&(e={dateTime:{},number:{},message:{},relativeTime:{},pluralRules:{},list:{},displayNames:{}});var t=Intl.RelativeTimeFormat,n=Intl.ListFormat,i=Intl.DisplayNames,o=re((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.DateTimeFormat).bind.apply(e,Object(s.d)([void 0],t)))}),{cache:De(e.dateTime),strategy:he.variadic}),r=re((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.NumberFormat).bind.apply(e,Object(s.d)([void 0],t)))}),{cache:De(e.number),strategy:he.variadic}),a=re((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.PluralRules).bind.apply(e,Object(s.d)([void 0],t)))}),{cache:De(e.pluralRules),strategy:he.variadic});return{getDateTimeFormat:o,getNumberFormat:r,getMessageFormat:re((function(e,t,n,i){return new Ce(e,t,n,Object(s.b)({formatters:{getNumberFormat:r,getDateTimeFormat:o,getPluralRules:a}},i||{}))}),{cache:De(e.message),strategy:he.variadic}),getRelativeTimeFormat:re((function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return new(t.bind.apply(t,Object(s.d)([void 0],e)))}),{cache:De(e.relativeTime),strategy:he.variadic}),getPluralRules:a,getListFormat:re((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new(n.bind.apply(n,Object(s.d)([void 0],e)))}),{cache:De(e.list),strategy:he.variadic}),getDisplayNames:re((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new(i.bind.apply(i,Object(s.d)([void 0],e)))}),{cache:De(e.displayNames),strategy:he.variadic})}}(t),i=Object(s.b)(Object(s.b)({},Ae),e),o=i.locale,r=i.defaultLocale,a=i.onError;return o?!Intl.NumberFormat.supportedLocalesOf(o).length&&a?a(new ke('Missing locale data for locale: "'+o+'" in Intl.NumberFormat. Using default locale: "'+r+'" as fallback. See https://formatjs.io/docs/react-intl#runtime-requirements for more details')):!Intl.DateTimeFormat.supportedLocalesOf(o).length&&a&&a(new ke('Missing locale data for locale: "'+o+'" in Intl.DateTimeFormat. Using default locale: "'+r+'" as fallback. See https://formatjs.io/docs/react-intl#runtime-requirements for more details')):(a&&a(new xe('"locale" was not configured, using "'+r+'" as fallback. See https://formatjs.io/docs/react-intl/api#intlshape for more details')),i.locale=i.defaultLocale||"en"),function(e){var t;e.defaultRichTextElements&&"string"==typeof((t=e.messages||{})?t[Object.keys(t)[0]]:void 0)&&console.warn('[@formatjs/intl] "defaultRichTextElements" was specified but "message" was not pre-compiled. \nPlease consider using "@formatjs/cli" to pre-compile your messages for performance.\nFor more details see https://formatjs.io/docs/getting-started/message-distribution')}(i),Object(s.b)(Object(s.b)({},i),{formatters:n,formatNumber:it.bind(null,i,n.getNumberFormat),formatNumberToParts:ot.bind(null,i,n.getNumberFormat),formatRelativeTime:et.bind(null,i,n.getRelativeTimeFormat),formatDate:Ue.bind(null,i,n.getDateTimeFormat),formatDateToParts:ze.bind(null,i,n.getDateTimeFormat),formatTime:Be.bind(null,i,n.getDateTimeFormat),formatDateTimeRange:We.bind(null,i,n.getDateTimeFormat),formatTimeToParts:He.bind(null,i,n.getDateTimeFormat),formatPlural:Je.bind(null,i,n.getPluralRules),formatMessage:Re.bind(null,i,n),formatList:Xe.bind(null,i,n.getListFormat),formatDisplayName:Ge.bind(null,i,n.getDisplayNames)})}const at={academic_verification:{stage:"https://commerce-stg.adobe.com/academic-verification",production:"https://commerce.adobe.com/academic-verification"},acrobat_plan:{stage:"https://www-stage01.acrobat.adobe.com",production:"https://acrobat.adobe.com"},adobeaccount:{stage:"https://stage.account.adobe.com",production:"https://account.adobe.com"},adminconsole:{stage:"https://stage.adminconsole.adobe.com",production:"https://adminconsole.adobe.com"},assets:{stage:"https://assets-stage.adobecc.com",production:"https://assets.adobe.com"},behance:{stage:"https://net.s2stagehance.com",production:"https://www.behance.net"},cchome:{stage:"https://stage.creativecloud.adobe.com",production:"https://creativecloud.adobe.com"},color:{stage:"https://colorweb-stage.adobeku.com",production:"https://color.adobe.com"},community:{stage:"https://community-stg.adobe.com",production:"https://community.adobe.com"},creativecloudapp:{stage:"https://stage.ccmui.adobe.com",production:"https://creative.adobe.com"},dcweb:{stage:"https://dc.stage.acrobat.com",production:"https://documentcloud.adobe.com"},experiencecloud:{stage:"https://experiencecloud-stage.adobe.com",production:"https://experiencecloud.adobe.com"},fonts:{stage:"https://fonts-relstage.adobe.com",production:"https://fonts.adobe.com"},helpx:{stage:"https://helpx.stage.adobe.com",production:"https://helpx.adobe.com"},ims:{stage:"https://ims-na1-stg1.adobelogin.com",production:"https://adobeid-na1.services.adobe.com"},lightroom:{stage:"https://stage.adobelr.com",production:"https://lightroom.adobe.com"},mini_plans:{stage:"https://www.stage.adobe.com/mini-plans",production:"https://www.adobe.com/mini-plans"},ngl:{stage:"https://workflow-stage.licenses.adobe.com",production:"https://workflow.licenses.adobe.com"},portfolio:{stage:"https://portfolio.ccpsx.com",production:"https://portfolio.adobe.com"},redemption_ui:{stage:"https://redeem-stg.adobe.com",production:"https://redeem.adobe.com"},stock:{stage:"https://primary.stock.stage.adobe.com",production:"https://stock.adobe.com"},spark:{stage:"https://stage.adobeprojectm.com",production:"https://spark.adobe.com"},commerce_ui:{stage:"https://commerce-stg.adobe.com",production:"https://commerce.adobe.com"},unifiedcheckout:{stage:"https://commerce-stg.adobe.com",production:"https://commerce.adobe.com"},xd:{stage:"https://stage.xd.adobe.com",production:"https://xd.adobe.com"},adobedotcom:{stage:"https://www.stage.adobe.com",production:"https://www.adobe.com"}},st=["adobedotcom","helpx","stock","accountmanagement","creativecloudapp","acrobat_plan","ngl","color","mini_plans"],ct=["adobeaccount","redemption_ui","unifiedcheckout","academic_verification","community"],lt=["adobedotcom","helpx","globalnav","ims","acrobat_plan","ngl","jarvis","mini_plans"],ut={africa:["africa","ao","bf","bi","bj","bw","cd","cf","cg","ci","cm","cv","dj","er","et","ga","gh","gm","gn","gq","gw","ke","km","lr","ls","mg","ml","mu","mw","mz","na","ne","ng","rw","sc","sd","sl","sn","so","st","sz","td","tg","tz","ug","za","zm","zw"],cis:["cis","am","az","by","ge","kg","kz","md","tj","tm","uz"],la:["la","ar","bl","bo","br","bz","cl","co","cr","cu","do","ec","fk","gf","gt","gy","hn","ht","mf","mq","ni","pa","pe","pr","py","sr","sv","uy","ve","tt"],mena:["mena","ae","bh","dz","eg","jo","kw","lb","ma","om","qa","sa","tn","ye","iq","ly","mr"],sea:["sea","id","my","ph","sg","th","vn","lk"],hk:["mo"],ie:["hr"]};var dt={cs:"cs-CZ",da:"da-DK",de:"de-DE",en:"en-US",es:"es-ES",fi:"fi-FI",fr:"fr-FR",it:"it-IT",ja:"ja-JP",ko:"ko-KR",nb:"nb-NO",nl:"nl-NL",pl:"pl-PL",pt:"pt-BR",ru:"ru-RU",sv:"sv-SE",tr:"tr-TR","zh-hant":"zh-Hant-TW"},ft={ar:"ar-AE",bg:"bg-BG",cs:"cs-CZ",da:"da-DK",de:"de-DE",en:"en-US",es:"es-ES",et:"et-EE",fi:"fi-FI",fr:"fr-FR",he:"he-IL",hu:"hu-HU",it:"it-IT",ja:"ja-JP",ko:"ko-KR",lt:"lt-LT",lv:"lv-LV",nb:"nb-NO",nl:"nl-NL",pl:"pl-PL",pt:"pt-BR",ro:"ro-RO",ru:"ru-RU",sk:"sk-SK",sl:"sl-SI",sv:"sv-SE",tr:"tr-TR",uk:"uk-UA","zh-Hans":"zh-Hans-CN","zh-Hant":"zh-Hant-TW"},pt={cs:"cs-CZ",da:"da-DK",de:"de-DE",en:"en-US",es:"es-ES",fi:"fi-FI",fr:"fr-FR",it:"it-IT",ja:"ja-JP",ko:"ko-KR",nb:"nb-NO",nl:"nl-NL",pl:"pl-PL",pt:"pt-BR",ru:"ru-RU",sv:"sv-SE",tr:"tr-TR","zh-Hans":"zh-Hans-CN","zh-Hant":"zh-Hant-TW"},ht={mena_ar:"ar-x-MENA",ae_ar:"ar-AE",sa_ar:"ar-SA",bg:"bg-BG",cz:"cs-CZ",dk:"da-DK",de:"de-DE",at:"de-AT",ch_de:"de-CH",lu_de:"de-LU",us:"en-US",ae_en:"en-AE",au:"en-AU",be_en:"en-BE",ca:"en-CA",cy_en:"en-CY",uk:"en-GB",gr_en:"en-GR",hk_en:"en-HK",ie:"en-IE",il_en:"en-IL",in:"en-IN",lu_en:"en-LU",mt:"en-MT",nz:"en-NZ",sa_en:"en-SA",sg:"en-SG",th_en:"en-TH",africa:"en-x-AFRICA",cis_en:"en-x-CIS",mena_en:"en-x-MENA",sea:"en-x-SEA",es:"es-ES",mx:"es-MX",cl:"es-CL",la:"es-x-LA",ee:"et-EE",fi:"fi-FI",fr:"fr-FR",be_fr:"fr-BE",ca_fr:"fr-CA",ch_fr:"fr-CH",lu_fr:"fr-LU",il_he:"he-IL",hu:"hu-HU",it:"it-IT",ch_it:"it-CH",jp:"ja-JP",kr:"ko-KR",lt:"lt-LT",lv:"lv-LV",no:"nb-NO",nl:"nl-NL",be_nl:"nl-BE",pl:"pl-PL",pt:"pt-PT",br:"pt-BR",ro:"ro-RO",ru:"ru-RU",cis_ru:"ru-x-CIS",sk:"sk-SK",si:"sl-SI",se:"sv-SE",th_th:"th-TH",tr:"tr-TR",ua:"uk-UA",cn:"zh-Hans-CN",tw:"zh-Hant-TW",hk_zh:"zh-Hant-HK"},gt=Object.freeze({__proto__:null,academic_verification:dt,adminconsole:{cs:"cs-CZ",da:"da-DK",de:"de-DE",en:"en-US",es:"es-ES",fi:"fi-FI",fr:"fr-FR",it:"it-IT",ja:"ja-JP",ko:"ko-KR",nb:"nb-NO",nl:"nl-NL",pl:"pl-PL",pt:"pt-BR",ru:"ru-RU",sv:"sv-SE",tr:"tr-TR","zh-cn":"zh-Hans-CN","zh-tw":"zh-Hant-TW"},adobeaccount:ft,assets:pt,behance:{"cs-CZ":"cs-CZ","da-DK":"da-DK","de-DE":"de-DE","en-US":"en-US","es-ES":"es-ES","fi-FI":"fi-FI","fr-FR":"fr-FR","it-IT":"it-IT","ja-JP":"ja-JP","ko-KR":"ko-KR","nb-NO":"nb-NO","nl-NL":"nl-NL","pl-PL":"pl-PL","pt-BR":"pt-BR","ru-RU":"ru-RU","sv-SE":"sv-SE","tr-TR":"tr-TR","zh-CN":"zh-Hans-CN","zh-TW":"zh-Hant-TW"},cchome:{cs:"cs-CZ",da:"da-DK",de:"de-DE",en:"en-US",es:"es-ES",fi:"fi-FI",fr:"fr-FR",it:"it-IT",ja:"ja-JP",ko:"ko-KR",nb:"nb-NO",nl:"nl-NL",pl:"pl-PL",pt:"pt-BR",ru:"ru-RU",sv:"sv-SE",tr:"tr-TR","zh-Hans":"zh-Hans-CN","zh-Hant":"zh-Hant-TW"},ccsearch:{cs:"cs-CZ",da:"da-DK",de:"de-DE",en:"en-US",es:"es-ES",fi:"fi-FI",fr:"fr-FR",hu:"hu-HU",it:"it-IT",ja:"ja-JP",ko:"ko-KR",nb:"nb-NO",nl:"nl-NL",pl:"pl-PL",pt:"pt-BR",ru:"ru-RU",sv:"sv-SE",tr:"tr-TR",uk:"uk-UA","zh-Hans":"zh-Hans-CN","zh-Hant":"zh-Hant-TW"},comments:pt,color:{cs:"cs-CZ",da:"da-DK",de:"de-DE",en:"en-US",es:"es-ES",fi:"fi-FI",fr:"fr-FR",it:"it-IT",ja:"ja-JP",ko:"ko-KR",nb:"nb-NO",nl:"nl-NL",pl:"pl-PL",pt:"pt-BR",ru:"ru-RU",sv:"sv-SE",tr:"tr-TR",zh:"zh-Hant-TW"},community:{de:"de-DE",en:"en-US",es:"es-ES",fr:"fr-FR",ja:"ja-JP",pt:"pt-BR"},creativecloudapp:{cs:"cs-CZ",da:"da-DK",de:"de-DE",en:"en-US",es:"es-ES",fi:"fi-FI",fr:"fr-FR",it:"it-IT",ja:"ja-JP",ko:"ko-KR",nb:"nb-NO",nl:"nl-NL",pl:"pl-PL",pt:"pt-BR",ru:"ru-RU",sv:"sv-SE",tr:"tr-TR","zh-cn":"zh-Hans-CN","zh-tw":"zh-Hant-TW"},dcweb:{"cs-CZ":"cs-CZ","da-DK":"da-DK","de-DE":"de-DE","en-US":"en-US","en-GB":"en-GB","es-ES":"es-ES","fi-FI":"fi-FI","fr-FR":"fr-FR","it-IT":"it-IT","ja-JP":"ja-JP","ko-KR":"ko-KR","nb-NO":"nb-NO","nl-NL":"nl-NL","pl-PL":"pl-PL","pt-BR":"pt-BR","ru-RU":"ru-RU","sv-SE":"sv-SE","tr-TR":"tr-TR","zh-CN":"zh-Hans-CN","zh-TW":"zh-Hant-TW"},editbilling:{ar:"ar-AE",bg:"bg-BG",cs:"cs-CZ",da:"da-DK",de:"de-DE",en:"en-US",es:"es-ES",et:"et-EE",fi:"fi-FI",fr:"fr-FR",he:"he-IL",hu:"hu-HU",it:"it-IT",ja:"ja-JP",ko:"ko-KR",lt:"lt-LT",lv:"lv-LV",nb:"nb-NO",nl:"nl-NL",pl:"pl-PL",pt:"pt-BR",ro:"ro-RO",ru:"ru-RU",sk:"sk-SK",sl:"sl-SI",sv:"sv-SE",tr:"tr-TR",uk:"uk-UA","zh-hans":"zh-Hans-CN","zh-hant":"zh-Hant-TW"},experiencecloud:{de:"de-DE",en:"en-US",es:"es-ES",fr:"fr-FR",it:"it-IT",ja:"ja-JP","ko-kr":"ko-KR","pt-br":"pt-BR","zh-cn":"zh-Hans-CN","zh-tw":"zh-Hant-TW"},helpx:{mena_ar:"ar-x-MENA",bg:"bg-BG",cz:"cs-CZ",dk:"da-DK",de:"de-DE",at:"de-AT",ch_de:"de-CH",lu_de:"de-LU",en:"en-US",au:"en-AU",be_en:"en-BE",ca:"en-CA",cy_en:"en-CY",uk:"en-GB",gr_en:"en-GR",hk_en:"en-HK",ie:"en-IE",il_en:"en-IL",in:"en-IN",lu_en:"en-LU",mt:"en-MT",nz:"en-NZ",africa:"en-x-AFRICA",eeurope:"en-x-EEUROPE",mena_en:"en-x-MENA",sea:"en-x-SEA",es:"es-ES",mx:"es-MX",la:"es-x-LA",ee:"et-EE",fi:"fi-FI",fr:"fr-FR",be_fr:"fr-BE",ca_fr:"fr-CA",ch_fr:"fr-CH",lu_fr:"fr-LU",il_he:"he-IL",hu:"hu-HU",it:"it-IT",ch_it:"it-CH",jp:"ja-JP",kr:"ko-KR",lt:"lt-LT",lv:"lv-LV",no:"nb-NO",nl:"nl-NL",be_nl:"nl-BE",pl:"pl-PL",pt:"pt-PT",br:"pt-BR",ro:"ro-RO",ru:"ru-RU",cis:"ru-x-CIS",sk:"sk-SK",si:"sl-SI",se:"sv-SE",tr:"tr-TR",ua:"uk-UA",cn:"zh-Hans-CN",tw:"zh-Hant-TW",hk_zh:"zh-Hant-HK"},ims:{bg_BG:"bg-BG",cs_CZ:"cs-CZ",da_DK:"da-DK",de_DE:"de-DE",en_US:"en-US",en_AE:"en-AE",en_GB:"en-GB",en_IL:"en-IL",en_XM:"en-x-MENA",es_ES:"es-ES",es_LA:"es-x-LA",es_MX:"es-MX",es_NA:"es-x-NA",et_EE:"et-EE",fi_FI:"fi-FI",fr_FR:"fr-FR",fr_CA:"fr-CA",fr_MA:"fr-MA",fr_XM:"fr-x-MENA",hr_HR:"hr-HR",hu_HU:"hu-HU",it_IT:"it-IT",ja_JP:"ja-JP",ko_KR:"ko-KR",lt_LT:"lt-LT",lv_LV:"lv-LV",nb_NO:"nb-NO",nl_NL:"nl-NL",pl_PL:"pl-PL",pt_BR:"pt-BR",ro_RO:"ro-RO",ru_RU:"ru-RU",sk_SK:"sk-SK",sl_SI:"sl-SI",sr_RS:"sr-RS",sr_SP:"sr-RS",sv_SE:"sv-SE",tr_TR:"tr-TR",uk_UA:"uk-UA",zh_HANS:"zh-Hans-CN",zh_CN:"zh-Hans-CN",zh_HANT:"zh-Hant-TW",zh_TW:"zh-Hant-TW"},lightroom:{"de-DE":"de-DE","en-US":"en-US","en-GB":"en-GB","es-ES":"es-ES","es-MX":"es-MX","fr-FR":"fr-FR","fr-CA":"fr-CA","hu-HU":"hu-HU","it-IT":"it-IT","ja-JP":"ja-JP","ko-KR":"ko-KR","nl-NL":"nl-NL","pt-BR":"pt-BR","ru-RU":"ru-RU","sv-SE":"sv-SE","th-TH":"th-TH","uk-UA":"uk-UA","zh-CN":"zh-Hans-CN","zh-TW":"zh-Hant-TW"},jarvis:{ar_MENA:"ar-x-MENA",bg_BG:"bg-BG",cs_CZ:"cs-CZ",da_DK:"da-DK",de_DE:"de-DE",de_AT:"de-AT",de_CH:"de-CH",de_LU:"de-LU",en_US:"en-US",en_AU:"en-AU",en_BE:"en-BE",en_CA:"en-CA",en_CY:"en-CY",en_GB:"en-GB",en_GR:"en-GR",en_HK:"en-HK",en_IE:"en-IE",en_IL:"en-IL",en_IN:"en-IN",en_LU:"en-LU",en_MENA:"en-x-MENA",en_MT:"en-MT",en_NZ:"en-NZ",en_SEA:"en-x-SEA",en_ZA:"en-x-AFRICA",es_ES:"es-ES",es_LA:"es-x-LA",es_MX:"es-MX",et_EE:"et-EE",fi_FI:"fi-FI",fr_FR:"fr-FR",fr_BE:"fr-BE",fr_CA:"fr-CA",fr_CH:"fr-CH",fr_LU:"fr-LU",he_IL:"he-IL",hu_HU:"hu-HU",it_CH:"it-CH",it_IT:"it-IT",ja_JP:"ja-JP",ko_KR:"ko-KR",lt_LT:"lt-LT",lv_LV:"lv-LV",nb_NO:"nb-NO",nl_BE:"nl-BE",nl_NL:"nl-NL",pl_PL:"pl-PL",pt_BR:"pt-BR",pt_PT:"pt-PT",ro_RO:"ro-RO",ru_RU:"ru-RU",sk_SK:"sk-SK",sl_SI:"sl-SI",sv_SE:"sv-SE",tr_TR:"tr-TR",uk_UA:"uk-UA",zh_CN:"zh-Hans-CN",zh_TW:"zh-Hant-TW",zh_HK:"zh-Hant-HK"},mcs:{ar_AE:"ar-AE",bg_BG:"bg-BG",cs_CZ:"cs-CZ",da_DK:"da-DK",de_DE:"de-DE",en_US:"en-US",en_GB:"en-GB",en_HK:"en-HK",en_IL:"en-IL",es_ES:"es-ES",es_MX:"es-MX",et_EE:"et-EE",fi_FI:"fi-FI",fr_FR:"fr-FR",fr_CA:"fr-CA",he_IL:"he-IL",hr_HR:"hr-HR",hu_HU:"hu-HU",it_IT:"it-IT",ja_JP:"ja-JP",ko_KR:"ko-KR",lt_LT:"lt-LT",lv_LV:"lv-LV",nb_NO:"nb-NO",nl_NL:"nl-NL",pl_PL:"pl-PL",pt_BR:"pt-BR",ro_RO:"ro-RO",ru_RU:"ru-RU",sk_SK:"sk-SK",sl_SI:"sl-SI",sr_RS:"sr-Latn-RS",sv_SE:"sv-SE",tr_TR:"tr-TR",uk_UA:"uk-UA",zh_CN:"zh-Hans-CN",zh_HK:"zh-Hant-HK",zh_TW:"zh-Hant-TW"},mt:{ar_AE:"ar-AE",bg_BG:"bg-BG",ca_ES:"ca-ES",cs_CZ:"cs-CZ",da_DK:"da-DK",de_DE:"de-DE",el_GR:"el-GR",en_US:"en-US",es_ES:"es-ES",et_EE:"et-EE",fa_IR:"fa-IR",fi_FI:"fi-FI",fr_FR:"fr-FR",he_IL:"he-IL",hi_IN:"hi-IN",ht_HT:"ht-HT",hu_HU:"hu-HU",id_ID:"id-ID",it_IT:"it-IT",ja_JP:"ja-JP",ko_KR:"ko-KR",lt_LT:"lt-LT",lv_LV:"lv-LV",ms_MY:"ms-MY",nl_NL:"nl-NL",no_NO:"nb-NO",pl_PL:"pl-PL",pt_BR:"pt-BR",ro_RO:"ro-RO",ru_RU:"ru-RU",sk_SK:"sk-SK",sl_SI:"sl-SI",sv_SE:"sv-SE",th_TH:"th-TH",tr_TR:"tr-TR",uk_UA:"uk-UA",ur_PK:"ur-PK",vi_VN:"vi-VN",zh_CN:"zh-Hans-CN",zh_TW:"zh-Hant-TW"},ngl:{cs_CZ:"cs-CZ",da_DK:"da-DK",de_DE:"de-DE",en_US:"en-US",en_GB:"en-GB",en_IL:"en-IL",en_AE:"en-AE",en_XM:"en-x-MENA",es_ES:"es-ES",es_MX:"es-MX",es_LA:"es-x-LA",es_NA:"es-x-NA",fi_FI:"fi-FI",fr_FR:"fr-FR",fr_CA:"fr-CA",fr_MA:"fr-MA",fr_XM:"fr-x-MENA",it_IT:"it-IT",ja_JP:"ja-JP",ko_KR:"ko-KR",nb_NO:"nb-NO",nl_NL:"nl-NL",pl_PL:"pl-PL",pt_BR:"pt-BR",ru_RU:"ru-RU",sv_SE:"sv-SE",tr_TR:"tr-TR",hu_HU:"hu-HU",sk_SK:"sk-SK",sl_SI:"sl-SI",uk_UA:"uk-UA",zh_CN:"zh-Hans-CN",zh_TW:"zh-Hant-TW"},acrobat_plan:{"at/de":"de-AT","au/en":"en-AU","be/en":"en-BE","be/fr":"fr-BE","be/nl":"nl-BE","bg/en":"en-BG","br/pt":"pt-BR","ca/en":"en-CA","ca/fr":"fr-CA","ch/de":"de-CH","ch/fr":"fr-CH","ch/it":"it-CH","cn/zh-Hans":"zh-Hans-CN","cy/en":"en-CY","cz/cs":"cs-CZ","de/de":"de-DE","dk/da":"da-DK","ee/en":"en-EE","es/es":"es-ES","fi/fi":"fi-FI","fr/fr":"fr-FR","gr/en":"en-GR","hk/en":"en-HK","hk/zh-Hant":"zh-Hant-HK","hu/hu":"hu-HU","ie/en":"en-IE","il/en":"en-IL","in/en":"en-IN","it/it":"it-IT","jp/ja":"ja-JP","kr/ko":"ko-KR","la/es":"es-x-LA","lt/en":"en-LT","lu/de":"de-LU","lu/en":"en-LU","lu/fr":"fr-LU","lv/en":"en-LV","mena/en":"en-x-MENA","mt/en":"en-MT","mx/es":"es-MX","nl/nl":"nl-NL","no/no":"nb-NO","nz/en":"en-NZ","pl/pl":"pl-PL","pt/pt":"pt-PT","ro/en":"en-RO","ru/ru":"ru-RU","se/sv":"sv-SE","sea/en":"en-x-SEA","si/en":"en-SI","sk/en":"en-SK","tr/tr":"tr-TR","tw/zh-Hant":"zh-Hant-TW","ua/en":"en-UA","uk/en":"en-GB","us/en":"en-US","za/en":"en-x-AFRICA"},panel_licensing:{"cs-CZ":"cs-CZ","da-DK":"da-DK","de-DE":"de-DE","en-US":"en-US","es-ES":"es-ES","fi-FI":"fi-FI","fr-FR":"fr-FR","hu-HU":"hu-HU","it-IT":"it-IT","ja-JP":"ja-JP","ko-KR":"ko-KR","nb-NO":"nb-NO","nl-NL":"nl-NL","pl-PL":"pl-PL","pt-BR":"pt-BR","pt-PT":"pt-PT","ru-RU":"ru-RU","sv-SE":"sv-SE","th-TH":"th-TH","tr-TR":"tr-TR","uk-UA":"uk-UA","zh-CN":"zh-Hans-CN","zh-HK":"zh-Hant-HK","zh-TW":"zh-Hant-TW"},portfolio:{en_us:"en-US",en_au:"en-AU",en_be:"en-BE",en_br:"en-BR",en_ca:"en-CA",en_cis:"en-x-CIS",en_cy:"en-CY",en_gb:"en-GB",en_gr:"en-GR",en_il:"en-IL",en_ie:"en-IE",en_in:"en-IN",en_hk:"en-HK",en_lu:"en-LU",en_mena:"en-x-MENA",en_mt:"en-MT",en_nz:"en-NZ",en_sea:"en-x-SEA",en_za:"en-ZA",cs_cz:"cs-CZ",da_dk:"da-DK",de_de:"de-DE",de_ch:"de-CH",de_lu:"de-LU",es_es:"es-ES",es_419:"es-x-LA",es_mx:"es-MX",fr_fr:"fr-FR",fi_fi:"fi-FI",fr_ca:"fr-CA",fr_ch:"fr-CH",fr_be:"fr-BE",fr_mena:"fr-x-MENA",fr_lu:"fr-LU",it_it:"it-IT",it_ch:"it-CH",ja_jp:"ja-JP",ko_kr:"ko-KR",nb_no:"nb-NO",nl_nl:"nl-NL",pl_pl:"pl-PL",pt_pt:"pt-PT",pt_br:"pt-BR",ru_ru:"ru-RU",sv_se:"sv-SE",tr_tr:"tr-TR",zh_cn:"zh-Hans-CN",zh_tw:"zh-Hant-TW"},publiclinks:{cs:"cs-CZ",da:"da-DK",de:"de-DE",en:"en-US",es:"es-ES",fi:"fi-FI",fr:"fr-FR",it:"it-IT",ja:"ja-JP",ko:"ko-KR",nb:"nb-NO",nl:"nl-NL",pl:"pl-PL",pt:"pt-BR",ru:"ru-RU",sv:"sv-SE",tr:"tr-TR","zh-tw":"zh-Hant-TW"},react_spectrum:{"ar-AE":"ar-AE","bg-BG":"bg-BG","cs-CZ":"cs-CZ","da-DK":"da-DK","de-DE":"de-DE","en-US":"en-US","es-ES":"es-ES","et-EE":"et-EE","fi-FI":"fi-FI","fr-FR":"fr-FR","he-IL":"he-IL","hr-HR":"hr-HR","hu-HU":"hu-HU","it-IT":"it-IT","ja-JP":"ja-JP","ko-KR":"ko-KR","lt-LT":"lt-LT","lv-LV":"lv-LV","nb-NO":"nb-NO","nl-NL":"nl-NL","pl-PL":"pl-PL","pt-BR":"pt-BR","ro-RO":"ro-RO","ru-RU":"ru-RU","sk-SK":"sk-SK","sl-SI":"sl-SI","sr-SP":"sr-Latn-RS","sv-SE":"sv-SE","tr-TR":"tr-TR","uk-UA":"uk-UA","zh-CN":"zh-Hans-CN","zh-TW":"zh-Hant-TW"},redemption_ui:{cs:"cs-CZ",da:"da-DK",de:"de-DE",en:"en-US",es:"es-ES",fi:"fi-FI",fr:"fr-FR",it:"it-IT",ja:"ja-JP",ko:"ko-KR",nb:"nb-NO",nl:"nl-NL",pl:"pl-PL",pt:"pt-BR",ru:"ru-RU",sv:"sv-SE",tr:"tr-TR","zh-hans":"zh-Hans-CN","zh-hant":"zh-Hant-TW"},sharesheet:pt,spark:{"cy-GB":"cy-GB","en-US":"en-US","de-DE":"de-DE","fr-FR":"fr-FR","es-ES":"es-ES","it-IT":"it-IT","pt-BR":"pt-BR","ja-JP":"ja-JP","ko-KR":"ko-KR","nb-NO":"nb-NO","da-DK":"da-DK","nl-NL":"nl-NL","sv-SE":"sv-SE","fi-FI":"fi-FI","zh-Hans-CN":"zh-Hans-CN","zh-Hant-TW":"zh-Hant-TW"},stock:{bg:"bg-BG",cz:"cs-CZ",dk:"da-DK",de:"de-DE",at:"de-AT",ch_de:"de-CH",lu_de:"de-LU",gr_en:"el-GR",cy_en:"el-CY",us:"en-US",be_en:"en-BE",ca:"en-CA",au:"en-AU",uk:"en-GB",ie:"en-IE",lu_en:"en-LU",nz:"en-NZ",ph:"en-PH",sg:"en-SG",es:"es-ES",ar:"es-AR",cl:"es-CL",co:"es-CO",cr:"es-CR",ec:"es-EC",gt:"es-GT",mx:"es-MX",pe:"es-PE",ve:"es-VE",ee:"et-EE",fi:"fi-FI",fr:"fr-FR",be_fr:"fr-BE",ca_fr:"fr-CA",ch_fr:"fr-CH",lu_fr:"fr-LU",il:"he-IL",in:"hi-IN",hu:"hu-HU",it:"it-IT",ch_it:"it-CH",jp:"ja-JP",kr:"ko-KR",lt:"lt-LT",lv:"lv-LV",mt:"mt-MT",no:"nb-NO",nl:"nl-NL",be_nl:"nl-BE",pl:"pl-PL",pt:"pt-PT",br:"pt-BR",ro:"ro-RO",ru:"ru-RU",sk:"sk-SK",si:"sl-SI",se:"sv-SE",th:"th-TH",ua:"uk-UA",tw:"zh-Hant-TW",hk:"zh-Hant-HK"},fonts:{"de-DE":"de-DE","en-US":"en-US","es-ES":"es-ES","fr-FR":"fr-FR","it-IT":"it-IT","ja-JP":"ja-JP","ko-KR":"ko-KR","pt-BR":"pt-BR","ru-RU":"ru-RU","zh-CN":"zh-Hans-CN","zh-TW":"zh-Hant-TW"},commerce_ui:dt,unifiedcheckout:dt,unifiedcheckout_v1:{cs:"cs-CZ",da:"da-DK",de:"de-DE",en:"en-US",es:"es-ES",fi:"fi-FI",fr:"fr-FR",it:"it-IT",ja:"ja-JP",ko:"ko-KR",nb:"nb-NO",nl:"nl-NL",no:"nb-NO",pl:"pl-PL",pt:"pt-BR",ru:"ru-RU",sv:"sv-SE",tr:"tr-TR","zh-tw":"zh-Hant-TW"},unifiedpanel:{cs:"cs-CZ",da:"da-DK",de:"de-DE",en:"en-US",es:"es-ES",fi:"fi-FI",fr:"fr-FR",hu:"hu-HU",it:"it-IT",ja:"ja-JP",ko:"ko-KR",nb:"nb-NO",nl:"nl-NL",pl:"pl-PL",pt:"pt-BR",ru:"ru-RU",sv:"sv-SE",tr:"tr-TR",uk:"uk-UA","zh-Hans":"zh-Hans-CN","zh-Hant":"zh-Hant-TW"},uss:{cs_CZ:"cs-CZ",da_DK:"da-DK",de_DE:"de-DE",de_LU:"de-LU",el_GR:"el-GR",en_US:"en-US",en_GB:"en-GB",es_ES:"es-ES",et_EE:"et-EE",fi_FI:"fi-FI",fr_FR:"fr-FR",fr_CA:"fr-CA",hu_HU:"hu-HU",it_IT:"it-IT",ja_JP:"ja-JP",ko_KR:"ko-KR",nb_NO:"nb-NO",nl_NL:"nl-NL",pl_PL:"pl-PL",pt_BR:"pt-BR",pt_PT:"pt-PT",ro_RO:"ro-RO",ru_RU:"ru-RU",sv_SE:"sv-SE",tr_TR:"tr-TR",uk_UA:"uk-UA",zh_CN:"zh-Hans-CN",zh_TW:"zh-Hant-TW"},utilitynav:{cs_CZ:"cs-CZ",da_DK:"da-DK",de_DE:"de-DE",en_US:"en-US",es_ES:"es-ES",fi_FI:"fi-FI",fr_FR:"fr-FR",it_IT:"it-IT",ja_JP:"ja-JP",ko_KR:"ko-KR",nb_NO:"nb-NO",nl_NL:"nl-NL",pl_PL:"pl-PL",pt_PT:"pt-PT",pt_BR:"pt-BR",ru_RU:"ru-RU",sv_SE:"sv-SE",tr_TR:"tr-TR",uk_UA:"uk-UA",zh_CN:"zh-Hans-CN",zh_TW:"zh-Hant-TW"},ututs:{cs_CZ:"cs-CZ",da_DK:"da-DK",de_DE:"de-DE",en_US:"en-US",en_AE:"en-AE",en_GB:"en-GB",en_IL:"en-IL",es_ES:"es-ES",es_MX:"es-MX",fi_FI:"fi-FI",fr_FR:"fr-FR",fr_CA:"fr-CA",fr_MA:"fr-MA",hu_HU:"hu-HU",it_IT:"it-IT",ja_JP:"ja-JP",ko_KR:"ko-KR",nb_NO:"nb-NO",nl_NL:"nl-NL",pl_PL:"pl-PL",pt_BR:"pt-BR",ru_RU:"ru-RU",sv_SE:"sv-SE",tr_TR:"tr-TR",uk_UA:"uk-UA",zh_CN:"zh-Hans-CN",zh_TW:"zh-Hant-TW"},xd:{"de-DE":"de-DE","en-US":"en-US","es-ES":"es-ES","fr-FR":"fr-FR","it-IT":"it-IT","ja-JP":"ja-JP","ko-KR":"ko-KR","pt-BR":"pt-BR","ru-RU":"ru-RU"},mini_plans_photoshop_lightroom_start_trial:{au:"en-AU",nz:"en-NZ"},mini_plans:{bg:"bg-BG",cz:"cs-CZ",dk:"da-DK",de:"de-DE",at:"de-AT",ch_de:"de-CH",lu_de:"de-LU",us:"en-US",au:"en-AU",be_en:"en-BE",ca:"en-CA",cy_en:"en-CY",uk:"en-GB",gr_en:"en-GR",hk_en:"en-HK",ie:"en-IE",lu_en:"en-LU",mt:"en-MT",nz:"en-NZ",africa:"en-x-AFRICA",es:"es-ES",mx:"es-MX",ee:"et-EE",fi:"fi-FI",fr:"fr-FR",be_fr:"fr-BE",ca_fr:"fr-CA",ch_fr:"fr-CH",lu_fr:"fr-LU",hu:"hu-HU",it:"it-IT",ch_it:"it-CH",jp:"ja-JP",kr:"ko-KR",lt:"lt-LT",lv:"lv-LV",no:"nb-NO",nl:"nl-NL",be_nl:"nl-BE",pl:"pl-PL",pt:"pt-PT",br:"pt-BR",ro:"ro-RO",ru:"ru-RU",sk:"sk-SK",si:"sl-SI",se:"sv-SE",hk_zh:"zh-Hant-HK"},adobedotcom:ht,globalnav:ht,switchplan_app:ft,_supplement:{uk:"uk-UA",pt:"pt-BR","ar-mena":"ar-x-MENA","en-africa":"en-x-AFRICA","en-cis":"en-x-CIS","en-mena":"en-x-MENA","en-sea":"en-x-SEA","es-la":"es-x-LA","ru-cis":"ru-x-CIS",zh:"zh-Hans-CN","es-419":"es-419"}}),mt={AF:[],AX:[],AL:[],DZ:["en","fr","ar"],AS:[],AD:["es","fr","pt"],AO:["pt"],AI:[],AQ:["en"],AG:["en"],AR:["es"],AM:["en","ru"],AW:[],AU:["en"],AT:["de"],AZ:["en","ru"],BS:["en"],BH:["ar","en"],BD:[],BB:["en"],BY:["ru"],BE:["nl","en","fr"],BZ:[],BJ:[],BM:["en"],BT:[],BO:["es"],BA:["en"],BW:["en"],BV:[],BR:["pt"],IO:[],BN:["en"],BG:["bg"],BF:[],BI:["en","fr"],KH:[],CM:["en","fr"],CA:["en","fr"],CV:[],KY:["en"],CF:[],TD:[],CL:["es"],CN:["zh-Hans"],CX:[],CC:["en"],CO:["es"],KM:[],CG:["en","fr"],CD:["en","fr"],CK:[],CR:["es"],CI:["en","fr"],HR:["en"],CU:[],CY:["en"],CZ:["cs"],DK:["da"],DJ:[],DM:["en"],DO:["es"],EC:["es"],EG:["ar","en"],SV:["es"],GQ:[],ER:[],EE:["et"],ET:[],FK:[],FO:["da"],FJ:[],FI:["fi"],FR:["fr"],GF:["fr"],PF:[],TF:[],GA:[],GM:[],GE:["en","ru"],DE:["de"],GH:["en"],GI:[],GR:["en"],GL:[],GD:[],GP:["en","fr"],GU:[],GT:["es"],GG:[],GN:[],GW:[],GY:["en"],HT:["en","fr"],HM:[],VA:[],HN:["es"],HK:["en","zh-Hant"],HU:["hu"],IS:[],IN:["en"],ID:["en"],IR:[],IQ:["ar"],IE:["en"],IM:[],IL:["he","en"],IT:["it"],JM:["en"],JP:["ja"],JE:[],JO:["ar","en"],KZ:["ru"],KE:["en"],KI:[],KR:["ko"],KV:[],KW:["ar","en"],KG:["ru","en"],LA:[],LV:["lv"],LB:["en","ar"],LS:["en"],LR:["en"],LY:["ar"],LI:[],LT:["lt"],LU:["en","de","fr"],MO:["en","zh-Hant"],MK:[],MG:["en","fr"],MW:[],MY:["en"],MV:[],ML:["en","fr"],MT:["en"],MH:[],MQ:["en","fr"],MR:["en","fr"],MU:["en","fr"],YT:["en","fr"],MX:["es"],FM:["en"],MD:["en","ru"],MC:[],MN:[],ME:[],MS:[],MA:["en","fr","ar"],MZ:["pt"],MM:[],NA:["en"],NR:[],NP:[],NL:["nl"],AN:["nl","en"],NC:[],NZ:["en"],NI:["es"],NE:["en","fr"],NG:["en"],NU:[],NF:[],MP:["en"],NO:["nb"],OM:["ar","en"],PK:["en"],PW:[],PS:[],PA:["es"],PG:[],PY:["es"],PE:["es"],PH:["en"],PN:[],PL:["pl"],PT:["pt"],PR:["es"],QA:["ar","en"],RE:[],RO:["ro"],RU:["ru"],RW:[],BL:[],SH:[],KN:["en"],LC:["en"],MF:[],PM:[],VC:["pt"],WS:[],SM:[],ST:[],SA:["ar","en"],SN:["en","fr"],RS:["rs"],SC:[],SL:[],SG:["en"],SK:["sk"],SI:["sl"],SB:[],SO:[],ZA:["en"],GS:[],ES:["es"],LK:["en"],SD:[],SR:["nl"],SJ:[],SZ:[],SE:["sv"],CH:["de","fr","it"],SY:[],TW:["zh-Hant"],TJ:["ru","en"],TZ:["en"],TH:["en"],TL:[],TG:[],TK:[],TO:[],TT:["en"],TN:["en","fr","ar"],TR:["tr"],TM:["en","ru"],TC:["en"],TV:[],UG:["en"],UA:["uk"],AE:["en","ar"],GB:["en"],US:["en"],UM:[],UY:["es"],UZ:["ru","en"],VU:[],VE:["es"],VN:["en"],VG:["en"],VI:[],WF:[],EH:[],YE:["en","ar"],ZM:["en"],ZW:["en"]};const vt=/^([a-zA-Z]{2})(?:[_-]+([a-zA-Z]{3})(?=$|[_-]+))?(?:[_-]+([a-zA-Z]{4})(?=$|[_-]+))?(?:[_-]+([a-zA-Z]{2}|[0-9]{3})(?=$|[_-]+))?(?:-x-([a-zA-Z0-9]{1,8})(?=$))?$/,yt=e=>e.match(vt)||[],_t=(e,t)=>Object.keys(e).filter((n=>t(e[n])))[0],bt=e=>yt(e)[1]||"",St={};Object.keys(gt).forEach((e=>{const t=gt[e];Object.keys(t).forEach((e=>{const n=t[e];St[e]=n,void 0===St[n]&&(St[n]=n)}))}));const wt=()=>St,$t=e=>e.replace(/^(https?:\/\/)/,"").replace(/^(www\.)/,""),Ct=(e,t)=>{try{if("string"!=typeof e||"string"!=typeof t)throw Error('expect "url" and "locale" to be string.');if(e.toLowerCase().includes("adobe.com/go/"))return e;let n=e;const i=(e=>{let t;if("string"==typeof e&&e.length){const n=$t(e.trim().toLowerCase());t=_t(at,(e=>0===n.indexOf($t(e.production))||0===n.indexOf($t(e.stage))))}return t})(e);if(void 0===i)throw Error(`this app is not supported yet: "${e}"`);let o=((e,t,n)=>{if(void 0===gt[e])return"";let i;if(t&&void 0!==gt[e][t])i=t;else{const n=wt();if(t&&(""!==bt(t)||void 0!==n[t])){let o=((e,t)=>void 0!==t?e[Object.keys(e).filter((e=>e.toLowerCase()===t.toLowerCase()))[0]]:void 0)(n,t);if(void 0===o&&(o=2===t.length?(e=>{let t;if("string"==typeof e&&2===e.length){const n=e.toUpperCase();mt[n]&&mt[n][0]&&(t=`${mt[n][0]}-${n}`)}return t})(t)||t:t.includes("_")?t.replace(/_/g,"-"):t),i=_t(gt[e],(e=>e===o)),void 0===i&&(e=>lt.includes(e))(e)){const n=(e=>_t(ut,(t=>t.includes(e.toLowerCase()))))((e=>yt(e)[4]||"")(t));if(n){const o=`${bt(t)}-x-${n.toUpperCase()}`,r=t.slice(0,-2)+n.toUpperCase();i=_t(gt[e],(e=>e===o||e===r)),void 0===i&&void 0!==gt[e][n]&&(i=n)}}if(void 0===i&&""!==(e=>yt(e)[3]||"")(o)){const t=o.substr(0,7).toLowerCase();i=_t(gt[e],(e=>e.substr(0,7).toLowerCase()===t))}if(void 0===i){const t=o.substr(0,2).toLowerCase();i=_t(gt[e],(e=>e.substr(0,2).toLowerCase()===t))}}}return"stock"===e&&"us"===i&&(i=""),i||""})(i,t);if(o){const t=wt();if(st.includes(i)){"en"!==o&&"us"!==o||(o="");let r=/adobe(?:stock){0,1}\.com\/(.*?)(?=\/|$)/;"acrobat_plan"===i&&(r=/adobe\.com\/(.{5,10}?)(?=\/|$)/);const a=(e.match(r)||[])[1];void 0!==a&&void 0!==t[a]?n=e.replace(`.com/${a}`,""===o?".com":`.com/${o}`):(""!==o&&(n=e.replace(".com",`.com/${o}`)),"helpx"===i&&e.includes(".ug.html")&&(n=n.replace(".html/",`.html/${o}/`)))}else{const t=ct.includes(i)?"community"===i?"profile.language":"lang":"locale",r=new RegExp(`(${t}=)(.*?)(?=&|$)`);n=void 0!==(e.match(r)||[])[2]?e.replace(r,"$1"+o):e+(e.includes("?")?"&":"?")+t+"="+o}}return n}catch(e){}return e};var Ft=["cs-CZ","da-DK","de-DE","en-US","es-ES","fi-FI","fr-FR","it-IT","ja-JP","ko-KR","nb-NO","nl-NL","pl-PL","pt-BR","ru-RU","sv-SE","tr-TR","zh-CN","zh-TW","zz-ZZ"];let Et,xt={dateTime:{},number:{},message:{},relativeTime:{},pluralRules:{},list:{},displayNames:{}};Ot(Nt(navigator.language)?navigator.language:"en-US");const kt={};It("US");const Tt=(e,t)=>class extends e{connectedCallback(){super.connectedCallback(),Pt(t,"en-US"),document.addEventListener(c.a.EVENT_NAME,(()=>Object(s.e)(this,void 0,void 0,(function*(){this.requestUpdate()}))))}getLocale(){return At()}t(e,t){return function(e,t){return Et&&Et.formatMessage({id:e,defaultMessage:kt["en-US"]&&kt["en-US"][e]},t)||e}(e,t)}};function Pt(e={},t){kt[t||At()]=Object.assign(Object.assign({},kt[t||At()]),e),Et=Rt()}function Mt(){return window.__i18n_country_code}function At(){return window.__i18n_current_locale}function Dt(e){return e?e.split("-")[0]:e}function Lt(e,t){return t&&Nt(t)&&"en-US"!==t?Ct(e,t):e}function Nt(e){return Ft.includes(e)}function It(e){window.__i18n_country_code=e}function jt(e,t){Ft.includes(e)&&(t&&Pt(t,e),Ot(e),xt={dateTime:{},number:{},message:{},relativeTime:{},pluralRules:{},list:{},displayNames:{}},Et=Rt(),document.dispatchEvent(new c.a(e)))}function Rt(){return rt({locale:At(),messages:kt[At()]},xt)}function Ot(e){window.__i18n_current_locale=e}},76:function(e,t){e.exports={getData:function(e){var t=document.getElementById(e);if(!t||!function(e){return"script"===e.tagName.toLowerCase()&&("application/json"===e.type||"text/ng-data"===e.type)}(t))return;return JSON.parse(t.innerHTML)}}},88:function(e,t){var n=[],i=!1;e.exports={addOnReadyHandler:function(e){i?e():n.push(e)},fireOnReadyHandlers:function(){i=!0;for(;n.length>0;)n.pop()()},reset:function(){n=[],i=!1}}},93:function(e,t){e.exports=function(e,t,n){if("undefined"==typeof t){var i=null;if(document.cookie&&""!=document.cookie)for(var o=document.cookie.split(";"),r=0;r<o.length;r++){var a=o[r].trim();if(a.substring(0,e.length+1)==e+"="){i=decodeURIComponent(a.substring(e.length+1));break}}return i}n=n||{},null===t&&(t="",n.expires=-1);var s,c="";n.expires&&("number"==typeof n.expires||n.expires.toUTCString)&&("number"==typeof n.expires?(s=new Date).setTime(s.getTime()+24*n.expires*60*60*1e3):s=n.expires,c="; expires="+s.toUTCString());var l=n.path?"; path="+n.path:"",u=n.domain?"; domain="+n.domain:"",d=n.secure?"; secure":"";document.cookie=[e,"=",encodeURIComponent(t),c,l,u,d].join("")}}});
//# sourceMappingURL=spectrum-f6b334b6118f97722790.js.map